<!DOCTYPE html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Beluga Linguistics - Localization Fun</title><script src=https://cdn.tailwindcss.com></script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css><link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&family=Outfit:wght@300;400;600;700&display=swap" rel=stylesheet><style>body {
        font-family: 'Outfit', sans-serif;
        background-color: #f0f9ff;
      }
      .font-fun {
        font-family: 'Fredoka', cursive;
      }
      @keyframes float {
        0% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
        100% { transform: translateY(0px); }
      }
      .floating {
        animation: float 3s ease-in-out infinite;
      }
      .bg-beluga-blue { background-color: #0ea5e9; }
      .text-beluga-blue { color: #0ea5e9; }</style><link rel=stylesheet href=/index.css><script type=importmap>{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3",
    "@google/genai": "https://esm.sh/@google/genai@^1.34.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.3/"
  }
}</script><script type=module crossorigin>function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var t,n,r,o,i={exports:{}},l={},a=(n||(n=1,i.exports=function(){if(t)return l;t=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(t,n,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==n.key&&(o=""+n.key),"key"in n)for(var i in r={},n)"key"!==i&&(r[i]=n[i]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:o,ref:void 0!==n?n:null,props:r}}return l.Fragment=n,l.jsx=r,l.jsxs=r,l}()),i.exports),s={exports:{}},u={};function c(){if(r)return u;r=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),h=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function E(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var S=E.prototype=new b;S.constructor=E,g(S,v.prototype),S.isPureReactComponent=!0;var _=Array.isArray;function w(){}var T={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function I(t,n,r){var o=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==o?o:null,props:r}}function A(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var O=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function N(n,r,o,i,l){var a=typeof n;"undefined"!==a&&"boolean"!==a||(n=null);var s,u,c=!1;if(null===n)c=!0;else switch(a){case"bigint":case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;break;case p:return N((c=n._init)(n._payload),r,o,i,l)}}if(c)return l=l(n),c=""===i?"."+k(n,0):i,_(l)?(o="",null!=c&&(o=c.replace(O,"$&/")+"/"),N(l,r,o,"",function(e){return e})):null!=l&&(A(l)&&(s=l,u=o+(null==l.key||n&&n.key===l.key?"":(""+l.key).replace(O,"$&/")+"/")+c,l=I(s.type,u,s.props)),r.push(l)),1;c=0;var d,f=""===i?".":i+":";if(_(n))for(var m=0;m<n.length;m++)c+=N(i=n[m],r,o,a=f+k(i,m),l);else if("function"==typeof(m=null===(d=n)||"object"!=typeof d?null:"function"==typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(n=m.call(n),m=0;!(i=n.next()).done;)c+=N(i=i.value,r,o,a=f+k(i,m++),l);else if("object"===a){if("function"==typeof n.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(w,w):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,o,i,l);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],o=0;return N(e,r,"","",function(e){return t.call(n,e,o++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var x="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},D={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!A(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return u.Activity=f,u.Children=D,u.Component=v,u.Fragment=n,u.Profiler=i,u.PureComponent=E,u.StrictMode=o,u.Suspense=c,u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,u.__COMPILER_RUNTIME={__proto__:null,c:function(e){return T.H.useMemoCache(e)}},u.cache=function(e){return function(){return e.apply(null,arguments)}},u.cacheSignal=function(){return null},u.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!C.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var l=Array(i),a=0;a<i;a++)l[a]=arguments[a+2];r.children=l}return I(e.type,o,r)},u.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:l,_context:e},e},u.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var a=Array(l),s=0;s<l;s++)a[s]=arguments[s+2];o.children=a}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return I(e,i,o)},u.createRef=function(){return{current:null}},u.forwardRef=function(e){return{$$typeof:s,render:e}},u.isValidElement=A,u.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},u.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},u.startTransition=function(e){var t=T.T,n={};T.T=n;try{var r=e(),o=T.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(w,x)}catch(i){x(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),T.T=t}},u.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},u.use=function(e){return T.H.use(e)},u.useActionState=function(e,t,n){return T.H.useActionState(e,t,n)},u.useCallback=function(e,t){return T.H.useCallback(e,t)},u.useContext=function(e){return T.H.useContext(e)},u.useDebugValue=function(){},u.useDeferredValue=function(e,t){return T.H.useDeferredValue(e,t)},u.useEffect=function(e,t){return T.H.useEffect(e,t)},u.useEffectEvent=function(e){return T.H.useEffectEvent(e)},u.useId=function(){return T.H.useId()},u.useImperativeHandle=function(e,t,n){return T.H.useImperativeHandle(e,t,n)},u.useInsertionEffect=function(e,t){return T.H.useInsertionEffect(e,t)},u.useLayoutEffect=function(e,t){return T.H.useLayoutEffect(e,t)},u.useMemo=function(e,t){return T.H.useMemo(e,t)},u.useOptimistic=function(e,t){return T.H.useOptimistic(e,t)},u.useReducer=function(e,t,n){return T.H.useReducer(e,t,n)},u.useRef=function(e){return T.H.useRef(e)},u.useState=function(e){return T.H.useState(e)},u.useSyncExternalStore=function(e,t,n){return T.H.useSyncExternalStore(e,t,n)},u.useTransition=function(){return T.H.useTransition()},u.version="19.2.3",u}function d(){return o||(o=1,s.exports=c()),s.exports}var p=d();const f=e(p);var h,m,g={exports:{}},y={},v={exports:{}},b={};var E,S,_,w,T={exports:{}},C={};const I=e((w||(w=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),g.exports=function(){if(_)return y;_=1;var e=(m||(m=1,v.exports=(h||(h=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,l=i>>>1;r<l;){var a=2*(r+1)-1,s=e[a],u=a+1,c=e[u];if(0>o(s,n))u<i&&0>o(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[a]=n,r=a);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();e.unstable_now=function(){return l.now()-a}}var s=[],u=[],c=1,d=null,p=3,f=!1,h=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var o=n(u);null!==o;){if(null===o.callback)r(u);else{if(!(o.startTime<=e))break;r(u),o.sortIndex=o.expirationTime,t(s,o)}o=n(u)}}function S(e){if(m=!1,E(e),!h)if(null!==n(s))h=!0,w||(w=!0,_());else{var t=n(u);null!==t&&P(S,t.startTime-e)}}var _,w=!1,T=-1,C=5,I=-1;function A(){return!(!g&&e.unstable_now()-I<C)}function O(){if(g=!1,w){var t=e.unstable_now();I=t;var o=!0;try{e:{h=!1,m&&(m=!1,v(T),T=-1),f=!0;var i=p;try{t:{for(E(t),d=n(s);null!==d&&!(d.expirationTime>t&&A());){var l=d.callback;if("function"==typeof l){d.callback=null,p=d.priorityLevel;var a=l(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof a){d.callback=a,E(t),o=!0;break t}d===n(s)&&r(s),E(t)}else r(s);d=n(s)}if(null!==d)o=!0;else{var c=n(u);null!==c&&P(S,c.startTime-t),o=!1}}break e}finally{d=null,p=i,f=!1}o=void 0}}finally{o?_():w=!1}}}if("function"==typeof b)_=function(){b(O)};else if("undefined"!=typeof MessageChannel){var k=new MessageChannel,N=k.port2;k.port1.onmessage=O,_=function(){N.postMessage(null)}}else _=function(){y(O,0)};function P(t,n){T=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},e.unstable_scheduleCallback=function(r,o,i){var l=e.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:o,priorityLevel:r,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>l?(r.sortIndex=i,t(u,r),null===n(s)&&r===n(u)&&(m?(v(T),T=-1):m=!0,P(S,i-l))):(r.sortIndex=a,t(s,r),h||f||(h=!0,w||(w=!0,_()))),r},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}}(b)),b)),v.exports),t=d(),n=(S||(S=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),T.exports=function(){if(E)return C;E=1;var e=d();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal"),i=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return C.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,C.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},C.flushSync=function(e){var t=i.T,n=r.p;try{if(i.T=null,r.p=2,e)return e()}finally{i.T=t,r.p=n,r.d.f()}},C.preconnect=function(e,t){"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,r.d.C(e,t))},C.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},C.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin),i="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:o,integrity:i,fetchPriority:a}):"script"===n&&r.d.X(e,{crossOrigin:o,integrity:i,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},C.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=l(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},C.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,o=l(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:o,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},C.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=l(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},C.requestFormReset=function(e){r.d.r(e)},C.unstable_batchedUpdates=function(e,t){return e(t)},C.useFormState=function(e,t,n){return i.H.useFormState(e,t,n)},C.useFormStatus=function(){return i.H.useHostTransitionStatus()},C.version="19.2.3",C}()),T.exports);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function i(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function a(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function s(e){if(i(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=U&&e[U]||e["@@iterator"])?e:null}var j=Symbol.for("react.client.reference");function q(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===j?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case w:return"Fragment";case A:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList";case M:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case g:return"Portal";case k:return e.displayName||"Context";case O:return(e._context.displayName||"Context")+".Consumer";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case x:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}var H=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},B=[],$=-1;function J(e){return{current:e}}function W(e){0>$||(e.current=B[$],B[$]=null,$--)}function Y(e,t){$++,B[$]=e.current,e.current=t}var K,Q,X=J(null),Z=J(null),ee=J(null),te=J(null);function ne(e,t){switch(Y(ee,t),Y(Z,e),Y(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Cd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=Id(t=Cd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(X),Y(X,e)}function re(){W(X),W(Z),W(ee)}function oe(e){null!==e.memoizedState&&Y(te,e);var t=X.current,n=Id(t,e.type);t!==n&&(Y(Z,e),Y(X,n))}function ie(e){Z.current===e&&(W(X),W(Z)),te.current===e&&(W(te),vp._currentValue=V)}function le(e){if(void 0===K)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);K=t&&t[1]||"",Q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+K+e+Q}var ae=!1;function se(e,t){if(!e||ae)return"";ae=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(l){r=l}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"==typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),l=i[0],a=i[1];if(l&&a){var s=l.split("\n"),u=a.split("\n");for(o=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===s.length||o===u.length)for(r=s.length-1,o=u.length-1;1<=r&&0<=o&&s[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(s[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||s[r]!==u[o]){var c="\n"+s[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{ae=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?le(n):""}function ue(e,t){switch(e.tag){case 26:case 27:case 5:return le(e.type);case 16:return le("Lazy");case 13:return e.child!==t&&null!==t?le("Suspense Fallback"):le("Suspense");case 19:return le("SuspenseList");case 0:case 15:return se(e.type,!1);case 11:return se(e.type.render,!1);case 1:return se(e.type,!0);case 31:return le("Activity");default:return""}}function ce(e){try{var t="",n=null;do{t+=ue(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var de=Object.prototype.hasOwnProperty,pe=e.unstable_scheduleCallback,fe=e.unstable_cancelCallback,he=e.unstable_shouldYield,me=e.unstable_requestPaint,ge=e.unstable_now,ye=e.unstable_getCurrentPriorityLevel,ve=e.unstable_ImmediatePriority,be=e.unstable_UserBlockingPriority,Ee=e.unstable_NormalPriority,Se=e.unstable_LowPriority,_e=e.unstable_IdlePriority,we=e.log,Te=e.unstable_setDisableYieldValue,Ce=null,Ie=null;function Ae(e){if("function"==typeof we&&Te(e),Ie&&"function"==typeof Ie.setStrictMode)try{Ie.setStrictMode(Ce,e)}catch(t){}}var Oe=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ke(e)/Ne|0)|0},ke=Math.log,Ne=Math.LN2,Pe=256,Re=262144,xe=4194304;function De(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Me(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~i)?o=De(r):0!==(l&=a)?o=De(l):n||0!==(n=a&~e)&&(o=De(n)):0!==(a=r&~i)?o=De(a):0!==l?o=De(l):n||0!==(n=r&~e)&&(o=De(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&4194048&n)?t:o}function Le(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ue(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Fe(){var e=xe;return!(62914560&(xe<<=1))&&(xe=4194304),e}function je(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function He(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Oe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Ge(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Oe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function ze(e,t){var n=t&-t;return 0!==((n=42&n?1:Ve(n))&(e.suspendedLanes|t))?0:n}function Ve(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Be(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function $e(){var e=z.p;return 0!==e?e:void 0===(e=window.event)?32:Dp(e.type)}function Je(e,t){var n=z.p;try{return z.p=e,t()}finally{z.p=n}}var We=Math.random().toString(36).slice(2),Ye="__reactFiber$"+We,Ke="__reactProps$"+We,Qe="__reactContainer$"+We,Xe="__reactEvents$"+We,Ze="__reactListeners$"+We,et="__reactHandles$"+We,tt="__reactResources$"+We,nt="__reactMarker$"+We;function rt(e){delete e[Ye],delete e[Ke],delete e[Xe],delete e[Ze],delete e[et]}function ot(e){var t=e[Ye];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qe]||n[Ye]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Vd(e);null!==e;){if(n=e[Ye])return n;e=Vd(e)}return t}n=(e=n).parentNode}return null}function it(e){if(e=e[Ye]||e[Qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function lt(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function at(e){var t=e[tt];return t||(t=e[tt]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[nt]=!0}var ut=new Set,ct={};function dt(e,t){pt(e,t),pt(e+"Capture",t)}function pt(e,t){for(ct[e]=t,e=0;e<t.length;e++)ut.add(t[e])}var ft=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ht={},mt={};function gt(e,t,n){if(o=t,de.call(mt,o)||!de.call(ht,o)&&(ft.test(o)?mt[o]=!0:(ht[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function yt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function vt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Et(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function St(e){if(!e._valueTracker){var t=Et(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function _t(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Et(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function wt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var Tt=/[\n"\\]/g;function Ct(e){return e.replace(Tt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function It(e,t,n,r,o,i,l,a){e.name="",null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l?e.type=l:e.removeAttribute("type"),null!=t?"number"===l?(0===t&&""===e.value||e.value!=t)&&(e.value=""+bt(t)):e.value!==""+bt(t)&&(e.value=""+bt(t)):"submit"!==l&&"reset"!==l||e.removeAttribute("value"),null!=t?Ot(e,l,bt(t)):null!=n?Ot(e,l,bt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!=typeof o&&"symbol"!=typeof o),null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.name=""+bt(a):e.removeAttribute("name")}function At(e,t,n,r,o,i,l,a){if(null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.type=i),null!=t||null!=n){if(("submit"===i||"reset"===i)&&null==t)return void St(e);n=null!=n?""+bt(n):"",t=null!=t?""+bt(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:o)&&"symbol"!=typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=l&&"function"!=typeof l&&"symbol"!=typeof l&&"boolean"!=typeof l&&(e.name=l),St(e)}function Ot(e,t,n){"number"===t&&wt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function kt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Nt(e,t,n){null==t||((t=""+bt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+bt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Pt(e,t,n,o){if(null==t){if(null!=o){if(null!=n)throw Error(r(92));if(H(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}null==n&&(n=""),t=n}n=bt(t),e.defaultValue=n,(o=e.textContent)===n&&""!==o&&null!==o&&(e.value=o),St(e)}function Rt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var xt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||xt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Mt(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var o in n)!n.hasOwnProperty(o)||null!=t&&t.hasOwnProperty(o)||(0===o.indexOf("--")?e.setProperty(o,""):"float"===o?e.cssFloat="":e[o]="");for(var i in t)o=t[i],t.hasOwnProperty(i)&&n[i]!==o&&Dt(e,i,o)}else for(var l in t)t.hasOwnProperty(l)&&Dt(e,l,t[l])}function Lt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ut=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ft=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jt(e){return Ft.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qt(){}var Ht=null;function Gt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var zt=null,Vt=null;function Bt(e){var t=it(e);if(t&&(e=t.stateNode)){var n=e[Ke]||null;e:switch(e=t.stateNode,t.type){case"input":if(It(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Ct(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=o[Ke]||null;if(!i)throw Error(r(90));It(o,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(o=n[t]).form===e.form&&_t(o)}break e;case"textarea":Nt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&kt(e,!!n.multiple,t,!1)}}}var $t=!1;function Jt(e,t,n){if($t)return e(t,n);$t=!0;try{return e(t)}finally{if($t=!1,(null!==zt||null!==Vt)&&(ac(),zt&&(t=zt,e=Vt,Vt=zt=null,Bt(t),e)))for(t=0;t<e.length;t++)Bt(e[t])}}function Wt(e,t){var n=e.stateNode;if(null===n)return null;var o=n[Ke]||null;if(null===o)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(o=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!o;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Yt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Kt=!1;if(Yt)try{var Qt={};Object.defineProperty(Qt,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",Qt,Qt),window.removeEventListener("test",Qt,Qt)}catch(lf){Kt=!1}var Xt=null,Zt=null,en=null;function tn(){if(en)return en;var e,t,n=Zt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[i-t];t++);return en=o.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function ln(e){function t(t,n,r,o,i){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?rn:on,this.isPropagationStopped=on,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(cn),pn=c({},cn,{view:0,detail:0}),fn=ln(pn),hn=c({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),mn=ln(hn),gn=ln(c({},hn,{dataTransfer:0})),yn=ln(c({},pn,{relatedTarget:0})),vn=ln(c({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=ln(c({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),En=ln(c({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Cn(){return Tn}var In=ln(c({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=ln(c({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=ln(c({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),kn=ln(c({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=ln(c({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=ln(c({},cn,{newState:0,oldState:0})),Rn=[9,13,27,32],xn=Yt&&"CompositionEvent"in window,Dn=null;Yt&&"documentMode"in document&&(Dn=document.documentMode);var Mn=Yt&&"TextEvent"in window&&!Dn,Ln=Yt&&(!xn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1,Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Vn(e,t,n,r){zt?Vt?Vt.push(r):Vt=[r]:zt=r,0<(t=dd(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bn=null,$n=null;function Jn(e){rd(e,0)}function Wn(e){if(_t(lt(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(Yt){var Qn;if(Yt){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"==typeof Zn.oninput}Qn=Xn}else Qn=!1;Kn=Qn&&(!document.documentMode||9<document.documentMode)}function er(){Bn&&(Bn.detachEvent("onpropertychange",tr),$n=Bn=null)}function tr(e){if("value"===e.propertyName&&Wn($n)){var t=[];Vn(t,$n,e,Gt(e)),Jt(Jn,t)}}function nr(e,t,n){"focusin"===e?(er(),$n=n,(Bn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn($n)}function or(e,t){if("click"===e)return Wn(t)}function ir(e,t){if("input"===e||"change"===e)return Wn(t)}var lr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ar(e,t){if(lr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!de.call(t,o)||!lr(e[o],t[o]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(e){for(var t=wt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=wt((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fr=Yt&&"documentMode"in document&&11>=document.documentMode,hr=null,mr=null,gr=null,yr=!1;function vr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==hr||hr!==wt(r)||(r="selectionStart"in(r=hr)&&pr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ar(gr,r)||(gr=r,0<(r=dd(mr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Sr={},_r={};function wr(e){if(Sr[e])return Sr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Sr[e]=n[t];return e}Yt&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=wr("animationend"),Cr=wr("animationiteration"),Ir=wr("animationstart"),Ar=wr("transitionrun"),Or=wr("transitionstart"),kr=wr("transitioncancel"),Nr=wr("transitionend"),Pr=new Map,Rr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Pr.set(e,t),dt(t,[e])}Rr.push("scrollEnd");var Dr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Mr=[],Lr=0,Ur=0;function Fr(){for(var e=Lr,t=Ur=Lr=0;t<e;){var n=Mr[t];Mr[t++]=null;var r=Mr[t];Mr[t++]=null;var o=Mr[t];Mr[t++]=null;var i=Mr[t];if(Mr[t++]=null,null!==r&&null!==o){var l=r.pending;null===l?o.next=o:(o.next=l.next,l.next=o),r.pending=o}0!==i&&Gr(n,o,i)}}function jr(e,t,n,r){Mr[Lr++]=e,Mr[Lr++]=t,Mr[Lr++]=n,Mr[Lr++]=r,Ur|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function qr(e,t,n,r){return jr(e,t,n,r),zr(e)}function Hr(e,t){return jr(e,null,null,t),zr(e)}function Gr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-Oe(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function zr(e){if(50<Xu)throw Xu=0,Zu=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Vr={};function Br(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(e,t,n,r){return new Br(e,t,n,r)}function Jr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=$r(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Yr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Kr(e,t,n,o,i,l){var a=0;if(o=e,"function"==typeof e)Jr(e)&&(a=1);else if("string"==typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,X.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case M:return(e=$r(31,n,t,i)).elementType=M,e.lanes=l,e;case w:return Qr(n.children,i,l,t);case I:a=8,i|=24;break;case A:return(e=$r(12,n,t,2|i)).elementType=A,e.lanes=l,e;case P:return(e=$r(13,n,t,i)).elementType=P,e.lanes=l,e;case R:return(e=$r(19,n,t,i)).elementType=R,e.lanes=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case O:a=9;break e;case N:a=11;break e;case x:a=14;break e;case D:a=16,o=null;break e}a=29,n=Error(r(130,null===e?"null":typeof e,"")),o=null}return(t=$r(a,n,t,i)).elementType=e,t.type=o,t.lanes=l,t}function Qr(e,t,n,r){return(e=$r(7,e,r,t)).lanes=n,e}function Xr(e,t,n){return(e=$r(6,e,null,t)).lanes=n,e}function Zr(e){var t=$r(18,null,null,0);return t.stateNode=e,t}function eo(e,t,n){return(t=$r(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var to=new WeakMap;function no(e,t){if("object"==typeof e&&null!==e){var n=to.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ce(t)},to.set(e,t),t)}return{value:e,source:t,stack:ce(t)}}var ro=[],oo=0,io=null,lo=0,ao=[],so=0,uo=null,co=1,po="";function fo(e,t){ro[oo++]=lo,ro[oo++]=io,io=e,lo=t}function ho(e,t,n){ao[so++]=co,ao[so++]=po,ao[so++]=uo,uo=e;var r=co;e=po;var o=32-Oe(r)-1;r&=~(1<<o),n+=1;var i=32-Oe(t)+o;if(30<i){var l=o-o%5;i=(r&(1<<l)-1).toString(32),r>>=l,o-=l,co=1<<32-Oe(t)+o|n<<o|r,po=i+e}else co=1<<i|n<<o|r,po=e}function mo(e){null!==e.return&&(fo(e,1),ho(e,1,0))}function go(e){for(;e===io;)io=ro[--oo],ro[oo]=null,lo=ro[--oo],ro[oo]=null;for(;e===uo;)uo=ao[--so],ao[so]=null,po=ao[--so],ao[so]=null,co=ao[--so],ao[so]=null}function yo(e,t){ao[so++]=co,ao[so++]=po,ao[so++]=uo,co=t.id,po=t.overflow,uo=e}var vo=null,bo=null,Eo=!1,So=null,_o=!1,wo=Error(r(519));function To(e){throw No(no(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),wo}function Co(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ye]=e,t[Ke]=r,n){case"dialog":od("cancel",t),od("close",t);break;case"iframe":case"object":case"embed":od("load",t);break;case"video":case"audio":for(n=0;n<td.length;n++)od(td[n],t);break;case"source":od("error",t);break;case"img":case"image":case"link":od("error",t),od("load",t);break;case"details":od("toggle",t);break;case"input":od("invalid",t),At(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":od("invalid",t);break;case"textarea":od("invalid",t),Pt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||yd(t.textContent,n)?(null!=r.popover&&(od("beforetoggle",t),od("toggle",t)),null!=r.onScroll&&od("scroll",t),null!=r.onScrollEnd&&od("scrollend",t),null!=r.onClick&&(t.onclick=qt),t=!0):t=!1,t||To(e,!0)}function Io(e){for(vo=e.return;vo;)switch(vo.tag){case 5:case 31:case 13:return void(_o=!1);case 27:case 3:return void(_o=!0);default:vo=vo.return}}function Ao(e){if(e!==vo)return!1;if(!Eo)return Io(e),Eo=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ad(e.type,e.memoizedProps)),t=!t),t&&bo&&To(e),Io(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));bo=zd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));bo=zd(e)}else 27===n?(n=bo,Dd(e.type)?(e=Gd,Gd=null,bo=e):bo=n):bo=vo?Hd(e.stateNode.nextSibling):null;return!0}function Oo(){bo=vo=null,Eo=!1}function ko(){var e=So;return null!==e&&(null===Fu?Fu=e:Fu.push.apply(Fu,e),So=null),e}function No(e){null===So?So=[e]:So.push(e)}var Po=J(null),Ro=null,xo=null;function Do(e,t,n){Y(Po,t._currentValue),t._currentValue=n}function Mo(e){e._currentValue=Po.current,W(Po)}function Lo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t,n,o){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var l=i.dependencies;if(null!==l){var a=i.child;l=l.firstContext;e:for(;null!==l;){var s=l;l=i;for(var u=0;u<t.length;u++)if(s.context===t[u]){l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),Lo(l.return,n,e),o||(a=null);break e}l=s.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Lo(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Fo(e,t,n,o){e=null;for(var i=t,l=!1;null!==i;){if(!l)if(524288&i.flags)l=!0;else if(262144&i.flags)break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(r(387));if(null!==(a=a.memoizedProps)){var s=i.type;lr(i.pendingProps.value,a.value)||(null!==e?e.push(s):e=[s])}}else if(i===te.current){if(null===(a=i.alternate))throw Error(r(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(vp):e=[vp])}i=i.return}null!==e&&Uo(t,e,n,o),t.flags|=262144}function jo(e){for(e=e.firstContext;null!==e;){if(!lr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qo(e){Ro=e,xo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ho(e){return zo(Ro,e)}function Go(e,t){return null===Ro&&qo(e),zo(e,t)}function zo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===xo){if(null===e)throw Error(r(308));xo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xo=xo.next=t;return n}var Vo="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Bo=e.unstable_scheduleCallback,$o=e.unstable_NormalPriority,Jo={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new Vo,data:new Map,refCount:0}}function Yo(e){e.refCount--,0===e.refCount&&Bo($o,function(){e.controller.abort()})}var Ko=null,Qo=0,Xo=0,Zo=null;function ei(){if(0===--Qo&&null!==Ko){null!==Zo&&(Zo.status="fulfilled");var e=Ko;Ko=null,Xo=0,Zo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var ti=G.S;G.S=function(e,t){Hu=ge(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ko){var n=Ko=[];Qo=0,Xo=Kc(),Zo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Qo++,t.then(ei,ei)}(0,t),null!==ti&&ti(e,t)};var ni=J(null);function ri(){var e=ni.current;return null!==e?e:_u.pooledCache}function oi(e,t){Y(ni,null===t?ni.current:t.pool)}function ii(){var e=ri();return null===e?null:{parent:Jo._currentValue,pool:e}}var li=Error(r(460)),ai=Error(r(474)),si=Error(r(542)),ui={then:function(){}};function ci(e){return"fulfilled"===(e=e.status)||"rejected"===e}function di(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(qt,qt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw mi(e=t.reason),e;default:if("string"==typeof t.status)t.then(qt,qt);else{if(null!==(e=_u)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw mi(e=t.reason),e}throw fi=t,li}}function pi(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw fi=t,li;throw t}}var fi=null;function hi(){if(null===fi)throw Error(r(459));var e=fi;return fi=null,e}function mi(e){if(e===li||e===si)throw Error(r(483))}var gi=null,yi=0;function vi(e){var t=yi;return yi+=1,null===gi&&(gi=[]),di(gi,e,t)}function bi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ei(e,t){if(t.$$typeof===p)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Si(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Wr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===w?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===D&&pi(o)===t.type)?(bi(t=i(t,n.props),n),t.return=e,t):(bi(t=Kr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=eo(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Qr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Xr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case f:return bi(n=Kr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=eo(t,e.mode,n)).return=e,t;case D:return p(e,t=pi(t),n)}if(H(t)||F(t))return(t=Qr(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,vi(t),n);if(t.$$typeof===k)return p(e,Go(e,t),n);Ei(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===o?u(e,t,n,r):null;case g:return n.key===o?c(e,t,n,r):null;case D:return h(e,t,n=pi(n),r)}if(H(n)||F(n))return null!==o?null:d(e,t,n,r,null);if("function"==typeof n.then)return h(e,t,vi(n),r);if(n.$$typeof===k)return h(e,t,Go(e,n),r);Ei(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case f:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case D:return m(e,t,n,r=pi(r),o)}if(H(r)||F(r))return d(t,e=e.get(n)||null,r,o,null);if("function"==typeof r.then)return m(e,t,n,vi(r),o);if(r.$$typeof===k)return m(e,t,n,Go(t,r),o);Ei(t,r)}return null}function y(s,u,c,d){if("object"==typeof c&&null!==c&&c.type===w&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case f:e:{for(var v=c.key;null!==u;){if(u.key===v){if((v=c.type)===w){if(7===u.tag){n(s,u.sibling),(d=i(u,c.props.children)).return=s,s=d;break e}}else if(u.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===D&&pi(v)===u.type){n(s,u.sibling),bi(d=i(u,c.props),c),d.return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}c.type===w?((d=Qr(c.props.children,s.mode,d,c.key)).return=s,s=d):(bi(d=Kr(c.type,c.key,c.props,null,s.mode,d),c),d.return=s,s=d)}return a(s);case g:e:{for(v=c.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(s,u.sibling),(d=i(u,c.children||[])).return=s,s=d;break e}n(s,u);break}t(s,u),u=u.sibling}(d=eo(c,s.mode,d)).return=s,s=d}return a(s);case D:return y(s,u,c=pi(c),d)}if(H(c))return function(r,i,a,s){for(var u=null,c=null,d=i,f=i=0,g=null;null!==d&&f<a.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=h(r,d,a[f],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),i=l(y,i,f),null===c?u=y:c.sibling=y,c=y,d=g}if(f===a.length)return n(r,d),Eo&&fo(r,f),u;if(null===d){for(;f<a.length;f++)null!==(d=p(r,a[f],s))&&(i=l(d,i,f),null===c?u=d:c.sibling=d,c=d);return Eo&&fo(r,f),u}for(d=o(d);f<a.length;f++)null!==(g=m(d,r,f,a[f],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),i=l(g,i,f),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(r,e)}),Eo&&fo(r,f),u}(s,u,c,d);if(F(c)){if("function"!=typeof(v=F(c)))throw Error(r(150));return function(i,a,s,u){if(null==s)throw Error(r(151));for(var c=null,d=null,f=a,g=a=0,y=null,v=s.next();null!==f&&!v.done;g++,v=s.next()){f.index>g?(y=f,f=null):y=f.sibling;var b=h(i,f,v.value,u);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(i,f),a=l(b,a,g),null===d?c=b:d.sibling=b,d=b,f=y}if(v.done)return n(i,f),Eo&&fo(i,g),c;if(null===f){for(;!v.done;g++,v=s.next())null!==(v=p(i,v.value,u))&&(a=l(v,a,g),null===d?c=v:d.sibling=v,d=v);return Eo&&fo(i,g),c}for(f=o(f);!v.done;g++,v=s.next())null!==(v=m(f,i,g,v.value,u))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),a=l(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),Eo&&fo(i,g),c}(s,u,c=v.call(c),d)}if("function"==typeof c.then)return y(s,u,vi(c),d);if(c.$$typeof===k)return y(s,u,Go(s,c),d);Ei(s,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(s,u.sibling),(d=i(u,c)).return=s,s=d):(n(s,u),(d=Xr(c,s.mode,d)).return=s,s=d),a(s)):n(s,u)}return function(e,t,n,r){try{yi=0;var o=y(e,t,n,r);return gi=null,o}catch(l){if(l===li||l===si)throw l;var i=$r(29,l,null,e.mode);return i.lanes=r,i.return=e,i}}}var _i=Si(!0),wi=Si(!1),Ti=!1;function Ci(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ai(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Su){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=zr(e),Gr(e,null,n),t}return jr(e,r,t,n),zr(e)}function ki(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ge(e,n)}}function Ni(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Pi=!1;function Ri(){if(Pi&&null!==Zo)throw Zo}function xi(e,t,n,r){Pi=!1;var o=e.updateQueue;Ti=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var s=a,u=s.next;s.next=null,null===l?i=u:l.next=u,l=s;var d=e.alternate;null!==d&&(a=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===a?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=s)}if(null!==i){var p=o.baseState;for(l=0,d=u=s=null,a=i;;){var f=-536870913&a.lane,h=f!==a.lane;if(h?(Tu&f)===f:(r&f)===f){0!==f&&f===Xo&&(Pi=!0),null!==d&&(d=d.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){p=m.call(y,p,f);break e}p=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,p,f):m))break e;p=c({},p,f);break e;case 2:Ti=!0}}null!==(f=a.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=h,s=p):d=d.next=h,l|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===d&&(s=p),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=d,null===i&&(o.shared.lanes=0),Ru|=l,e.lanes=l,e.memoizedState=p}}function Di(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Mi(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Di(n[e],t)}var Li=J(null),Ui=J(0);function Fi(e,t){Y(Ui,e=Nu),Y(Li,t),Nu=e|t.baseLanes}function ji(){Y(Ui,Nu),Y(Li,Li.current)}function qi(){Nu=Ui.current,W(Li),W(Ui)}var Hi=J(null),Gi=null;function zi(e){var t=e.alternate;Y(Wi,1&Wi.current),Y(Hi,e),null===Gi&&(null===t||null!==Li.current||null!==t.memoizedState)&&(Gi=e)}function Vi(e){Y(Wi,Wi.current),Y(Hi,e),null===Gi&&(Gi=e)}function Bi(e){22===e.tag?(Y(Wi,Wi.current),Y(Hi,e),null===Gi&&(Gi=e)):$i()}function $i(){Y(Wi,Wi.current),Y(Hi,Hi.current)}function Ji(e){W(Hi),Gi===e&&(Gi=null),W(Wi)}var Wi=J(0);function Yi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jd(n)||qd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ki=0,Qi=null,Xi=null,Zi=null,el=!1,tl=!1,nl=!1,rl=0,ol=0,il=null,ll=0;function al(){throw Error(r(321))}function sl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ul(e,t,n,r,o,i){return Ki=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=null===e||null===e.memoizedState?Ta:Ca,nl=!1,i=n(r,o),nl=!1,tl&&(i=dl(t,n,r,o)),cl(e),i}function cl(e){G.H=wa;var t=null!==Xi&&null!==Xi.next;if(Ki=0,Zi=Xi=Qi=null,el=!1,ol=0,il=null,t)throw Error(r(300));null===e||Ha||null!==(e=e.dependencies)&&jo(e)&&(Ha=!0)}function dl(e,t,n,o){Qi=e;var i=0;do{if(tl&&(il=null),ol=0,tl=!1,25<=i)throw Error(r(301));if(i+=1,Zi=Xi=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}G.H=Ia,l=t(n,o)}while(tl);return l}function pl(){var e=G.H,t=e.useState()[0];return t="function"==typeof t.then?vl(t):t,e=e.useState()[0],(null!==Xi?Xi.memoizedState:null)!==e&&(Qi.flags|=1024),t}function fl(){var e=0!==rl;return rl=0,e}function hl(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ml(e){if(el){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}el=!1}Ki=0,Zi=Xi=Qi=null,tl=!1,ol=rl=0,il=null}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zi?Qi.memoizedState=Zi=e:Zi=Zi.next=e,Zi}function yl(){if(null===Xi){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=Xi.next;var t=null===Zi?Qi.memoizedState:Zi.next;if(null!==t)Zi=t,Xi=e;else{if(null===e){if(null===Qi.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Xi=e).memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},null===Zi?Qi.memoizedState=Zi=e:Zi=Zi.next=e}return Zi}function vl(e){var t=ol;return ol+=1,null===il&&(il=[]),e=di(il,e,t),t=Qi,null===(null===Zi?t.memoizedState:Zi.next)&&(t=t.alternate,G.H=null===t||null===t.memoizedState?Ta:Ca),e}function bl(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return vl(e);if(e.$$typeof===k)return Ho(e)}throw Error(r(438,String(e)))}function El(e){var t=null,n=Qi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Qi.alternate;null!==r&&null!==(r=r.updateQueue)&&null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=L;return t.index++,n}function Sl(e,t){return"function"==typeof t?t(e):t}function _l(e){return wl(yl(),Xi,e)}function wl(e,t,n){var o=e.queue;if(null===o)throw Error(r(311));o.lastRenderedReducer=n;var i=e.baseQueue,l=o.pending;if(null!==l){if(null!==i){var a=i.next;i.next=l.next,l.next=a}t.baseQueue=i=l,o.pending=null}if(l=e.baseState,null===i)e.memoizedState=l;else{var s=a=null,u=null,c=t=i.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(Tu&p)===p:(Ki&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Xo&&(d=!0);else{if((Ki&f)===f){c=c.next,f===Xo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=p,a=l):u=u.next=p,Qi.lanes|=f,Ru|=f}p=c.action,nl&&n(l,p),l=c.hasEagerState?c.eagerState:n(l,p)}else f={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(s=u=f,a=l):u=u.next=f,Qi.lanes|=p,Ru|=p;c=c.next}while(null!==c&&c!==t);if(null===u?a=l:u.next=s,!lr(l,e.memoizedState)&&(Ha=!0,d&&null!==(n=Zo)))throw n;e.memoizedState=l,e.baseState=a,e.baseQueue=u,o.lastRenderedState=l}return null===i&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Tl(e){var t=yl(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,l=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{l=e(l,a.action),a=a.next}while(a!==i);lr(l,t.memoizedState)||(Ha=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,o]}function Cl(e,t,n){var o=Qi,i=yl(),l=Eo;if(l){if(void 0===n)throw Error(r(407));n=n()}else n=t();var a=!lr((Xi||i).memoizedState,n);if(a&&(i.memoizedState=n,Ha=!0),i=i.queue,Kl(Ol.bind(null,o,i,e),[e]),i.getSnapshot!==t||a||null!==Zi&&1&Zi.memoizedState.tag){if(o.flags|=2048,Bl(9,{destroy:void 0},Al.bind(null,o,i,n,t),null),null===_u)throw Error(r(349));l||127&Ki||Il(o,t,n)}return n}function Il(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Qi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Al(e,t,n,r){t.value=n,t.getSnapshot=r,kl(t)&&Nl(e)}function Ol(e,t,n){return n(function(){kl(t)&&Nl(e)})}function kl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Nl(e){var t=Hr(e,2);null!==t&&nc(t,0,2)}function Pl(e){var t=gl();if("function"==typeof e){var n=e;if(e=n(),nl){Ae(!0);try{n()}finally{Ae(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:e},t}function Rl(e,t,n,r){return e.baseState=n,wl(e,Xi,"function"==typeof r?r:Sl)}function xl(e,t,n,o,i){if(Ea(e))throw Error(r(485));if(null!==(e=t.action)){var l={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==G.T?n(!0):l.isTransition=!1,o(l),null===(n=t.pending)?(l.next=t.pending=l,Dl(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Dl(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=G.T,l={};G.T=l;try{var a=n(o,r),s=G.S;null!==s&&s(l,a),Ml(e,t,a)}catch(u){Ul(e,t,u)}finally{null!==i&&null!==l.types&&(i.types=l.types),G.T=i}}else try{Ml(e,t,i=n(o,r))}catch(c){Ul(e,t,c)}}function Ml(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ll(e,t,n)},function(n){return Ul(e,t,n)}):Ll(e,t,n)}function Ll(e,t,n){t.status="fulfilled",t.value=n,Fl(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Dl(e,n)))}function Ul(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Fl(t),t=t.next}while(t!==r)}e.action=null}function Fl(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function jl(e,t){return t}function ql(e,t){if(Eo){var n=_u.formState;if(null!==n){e:{var r=Qi;if(Eo){if(bo){t:{for(var o=bo,i=_o;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Hd(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){bo=Hd(o.nextSibling),r="F!"===o.data;break e}}To(r)}r=!1}r&&(t=n[0])}}return(n=gl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jl,lastRenderedState:t},n.queue=r,n=ya.bind(null,Qi,r),r.dispatch=n,r=Pl(!1),i=ba.bind(null,Qi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=gl()).queue=o,n=xl.bind(null,Qi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Hl(e){return Gl(yl(),Xi,e)}function Gl(e,t,n){if(t=wl(e,t,jl)[0],e=_l(Sl)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=vl(t)}catch(l){if(l===li)throw si;throw l}else r=t;var o=(t=yl()).queue,i=o.dispatch;return n!==t.memoizedState&&(Qi.flags|=2048,Bl(9,{destroy:void 0},zl.bind(null,o,n),null)),[r,i,e]}function zl(e,t){e.action=t}function Vl(e){var t=yl(),n=Xi;if(null!==n)return Gl(t,n,e);yl(),t=t.memoizedState;var r=(n=yl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Bl(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Qi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $l(){return yl().memoizedState}function Jl(e,t,n,r){var o=gl();Qi.flags|=e,o.memoizedState=Bl(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wl(e,t,n,r){var o=yl();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Xi&&null!==r&&sl(r,Xi.memoizedState.deps)?o.memoizedState=Bl(t,i,n,r):(Qi.flags|=e,o.memoizedState=Bl(1|t,i,n,r))}function Yl(e,t){Jl(8390656,8,e,t)}function Kl(e,t){Wl(2048,8,e,t)}function Ql(e){var t=yl().memoizedState;return function(e){Qi.flags|=4;var t=Qi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Qi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&Su)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Xl(e,t){return Wl(4,2,e,t)}function Zl(e,t){return Wl(4,4,e,t)}function ea(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function ta(e,t,n){n=null!=n?n.concat([e]):null,Wl(4,4,ea.bind(null,t,e),n)}function na(){}function ra(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&sl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oa(e,t){var n=yl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&sl(t,r[1]))return r[0];if(r=e(),nl){Ae(!0);try{e()}finally{Ae(!1)}}return n.memoizedState=[r,t],r}function ia(e,t,n){return void 0===n||1073741824&Ki&&!(261930&Tu)?e.memoizedState=t:(e.memoizedState=n,e=tc(),Qi.lanes|=e,Ru|=e,n)}function la(e,t,n,r){return lr(n,t)?n:null!==Li.current?(e=ia(e,n,r),lr(e,t)||(Ha=!0),e):42&Ki&&(!(1073741824&Ki)||261930&Tu)?(e=tc(),Qi.lanes|=e,Ru|=e,t):(Ha=!0,e.memoizedState=n)}function aa(e,t,n,r,o){var i=z.p;z.p=0!==i&&8>i?i:8;var l,a,s,u=G.T,c={};G.T=c,ba(e,!1,t,n);try{var d=o(),p=G.S;null!==p&&p(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then?va(e,t,(l=r,a=[],s={status:"pending",value:null,reason:null,then:function(e){a.push(e)}},d.then(function(){s.status="fulfilled",s.value=l;for(var e=0;e<a.length;e++)(0,a[e])(l)},function(e){for(s.status="rejected",s.reason=e,e=0;e<a.length;e++)(0,a[e])(void 0)}),s),ec()):va(e,t,r,ec())}catch(f){va(e,t,{then:function(){},status:"rejected",reason:f},ec())}finally{z.p=i,null!==u&&null!==c.types&&(u.types=c.types),G.T=u}}function sa(){}function ua(e,t,n,o){if(5!==e.tag)throw Error(r(476));var i=ca(e).queue;aa(e,i,t,V,null===n?sa:function(){return da(e),n(o)})}function ca(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:V},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function da(e){var t=ca(e);null===t.next&&(t=e.alternate.memoizedState),va(e,t.next.queue,{},ec())}function pa(){return Ho(vp)}function fa(){return yl().memoizedState}function ha(){return yl().memoizedState}function ma(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=ec(),r=Oi(t,e=Ai(n),n);return null!==r&&(nc(r,0,n),ki(r,t,n)),t={cache:Wo()},void(e.payload=t)}t=t.return}}function ga(e,t,n){var r=ec();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ea(e)?Sa(t,n):null!==(n=qr(e,t,n,r))&&(nc(n,0,r),_a(n,t,r))}function ya(e,t,n){va(e,t,n,ec())}function va(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ea(e))Sa(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,a=i(l,n);if(o.hasEagerState=!0,o.eagerState=a,lr(a,l))return jr(e,t,o,0),null===_u&&Fr(),!1}catch(s){}if(null!==(n=qr(e,t,o,r)))return nc(n,0,r),_a(n,t,r),!0}return!1}function ba(e,t,n,o){if(o={lane:2,revertLane:Kc(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ea(e)){if(t)throw Error(r(479))}else null!==(t=qr(e,n,o,2))&&nc(t,0,2)}function Ea(e){var t=e.alternate;return e===Qi||null!==t&&t===Qi}function Sa(e,t){tl=el=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _a(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Ge(e,n)}}var wa={readContext:Ho,use:bl,useCallback:al,useContext:al,useEffect:al,useImperativeHandle:al,useLayoutEffect:al,useInsertionEffect:al,useMemo:al,useReducer:al,useRef:al,useState:al,useDebugValue:al,useDeferredValue:al,useTransition:al,useSyncExternalStore:al,useId:al,useHostTransitionStatus:al,useFormState:al,useActionState:al,useOptimistic:al,useMemoCache:al,useCacheRefresh:al};wa.useEffectEvent=al;var Ta={readContext:Ho,use:bl,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Ho,useEffect:Yl,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Jl(4194308,4,ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jl(4194308,4,e,t)},useInsertionEffect:function(e,t){Jl(4,2,e,t)},useMemo:function(e,t){var n=gl();t=void 0===t?null:t;var r=e();if(nl){Ae(!0);try{e()}finally{Ae(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=gl();if(void 0!==n){var o=n(t);if(nl){Ae(!0);try{n(t)}finally{Ae(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ga.bind(null,Qi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:function(e){var t=(e=Pl(e)).queue,n=ya.bind(null,Qi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:na,useDeferredValue:function(e,t){return ia(gl(),e,t)},useTransition:function(){var e=Pl(!1);return e=aa.bind(null,Qi,e.queue,!0,!1),gl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var o=Qi,i=gl();if(Eo){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===_u)throw Error(r(349));127&Tu||Il(o,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,Yl(Ol.bind(null,o,l,e),[e]),o.flags|=2048,Bl(9,{destroy:void 0},Al.bind(null,o,l,n,t),null),n},useId:function(){var e=gl(),t=_u.identifierPrefix;if(Eo){var n=po;t="_"+t+"R_"+(n=(co&~(1<<32-Oe(co)-1)).toString(32)+n),0<(n=rl++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ll++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:pa,useFormState:ql,useActionState:ql,useOptimistic:function(e){var t=gl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ba.bind(null,Qi,!0,n),n.dispatch=t,[e,t]},useMemoCache:El,useCacheRefresh:function(){return gl().memoizedState=ma.bind(null,Qi)},useEffectEvent:function(e){var t=gl(),n={impl:e};return t.memoizedState=n,function(){if(2&Su)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},Ca={readContext:Ho,use:bl,useCallback:ra,useContext:Ho,useEffect:Kl,useImperativeHandle:ta,useInsertionEffect:Xl,useLayoutEffect:Zl,useMemo:oa,useReducer:_l,useRef:$l,useState:function(){return _l(Sl)},useDebugValue:na,useDeferredValue:function(e,t){return la(yl(),Xi.memoizedState,e,t)},useTransition:function(){var e=_l(Sl)[0],t=yl().memoizedState;return["boolean"==typeof e?e:vl(e),t]},useSyncExternalStore:Cl,useId:fa,useHostTransitionStatus:pa,useFormState:Hl,useActionState:Hl,useOptimistic:function(e,t){return Rl(yl(),0,e,t)},useMemoCache:El,useCacheRefresh:ha};Ca.useEffectEvent=Ql;var Ia={readContext:Ho,use:bl,useCallback:ra,useContext:Ho,useEffect:Kl,useImperativeHandle:ta,useInsertionEffect:Xl,useLayoutEffect:Zl,useMemo:oa,useReducer:Tl,useRef:$l,useState:function(){return Tl(Sl)},useDebugValue:na,useDeferredValue:function(e,t){var n=yl();return null===Xi?ia(n,e,t):la(n,Xi.memoizedState,e,t)},useTransition:function(){var e=Tl(Sl)[0],t=yl().memoizedState;return["boolean"==typeof e?e:vl(e),t]},useSyncExternalStore:Cl,useId:fa,useHostTransitionStatus:pa,useFormState:Vl,useActionState:Vl,useOptimistic:function(e,t){var n=yl();return null!==Xi?Rl(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:El,useCacheRefresh:ha};function Aa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}Ia.useEffectEvent=Ql;var Oa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=Ai(r);o.payload=t,null!=n&&(o.callback=n),null!==(t=Oi(e,o,r))&&(nc(t,0,r),ki(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=Ai(r);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=Oi(e,o,r))&&(nc(t,0,r),ki(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=Ai(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=Oi(e,r,n))&&(nc(t,0,n),ki(t,e,n))}};function ka(e,t,n,r,o,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,l):!(t.prototype&&t.prototype.isPureReactComponent&&ar(n,r)&&ar(o,i))}function Na(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oa.enqueueReplaceState(t,t.state,null)}function Pa(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=c({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Ra(e){Dr(e)}function xa(e){}function Da(e){Dr(e)}function Ma(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function La(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ua(e,t,n){return(n=Ai(n)).tag=3,n.payload={element:null},n.callback=function(){Ma(e,t)},n}function Fa(e){return(e=Ai(e)).tag=3,e}function ja(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"==typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){La(t,n,r)}}var l=n.stateNode;null!==l&&"function"==typeof l.componentDidCatch&&(e.callback=function(){La(t,n,r),"function"!=typeof o&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var qa=Error(r(461)),Ha=!1;function Ga(e,t,n,r){t.child=null===e?wi(t,null,n,r):_i(t,e.child,n,r)}function za(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var l={};for(var a in r)"ref"!==a&&(l[a]=r[a])}else l=r;return qo(t),r=ul(e,t,n,l,i,o),a=fl(),null===e||Ha?(Eo&&a&&mo(t),t.flags|=1,Ga(e,t,r,o),t.child):(hl(e,t,o),ps(e,t,o))}function Va(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Jr(i)||void 0!==i.defaultProps||null!==n.compare?((e=Kr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ba(e,t,i,r,o))}if(i=e.child,!fs(e,o)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:ar)(l,r)&&e.ref===t.ref)return ps(e,t,o)}return t.flags|=1,(e=Wr(i,r)).ref=t.ref,e.return=t,t.child=e}function Ba(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(ar(i,r)&&e.ref===t.ref){if(Ha=!1,t.pendingProps=r=i,!fs(e,o))return t.lanes=e.lanes,ps(e,t,o);131072&e.flags&&(Ha=!0)}}return Xa(e,t,n,r,o)}function $a(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Wa(e,t,i,n,r)}if(!(536870912&n))return r=t.lanes=536870912,Wa(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&oi(0,null!==i?i.cachePool:null),null!==i?Fi(t,i):ji(),Bi(t)}else null!==i?(oi(0,i.cachePool),Fi(t,i),$i(),t.memoizedState=null):(null!==e&&oi(0,null),ji(),$i());return Ga(e,t,o,n),t.child}function Ja(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Wa(e,t,n,r,o){var i=ri();return i=null===i?null:{parent:Jo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&oi(0,null),ji(),Bi(t),null!==e&&Fo(e,t,r,!0),t.childLanes=o,null}function Ya(e,t){return(t=as({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Ka(e,t,n){return _i(t,e.child,null,n),(e=Ya(t,t.pendingProps)).flags|=2,Ji(t),t.memoizedState=null,e}function Qa(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Xa(e,t,n,r,o){return qo(t),n=ul(e,t,n,r,void 0,o),r=fl(),null===e||Ha?(Eo&&r&&mo(t),t.flags|=1,Ga(e,t,n,o),t.child):(hl(e,t,o),ps(e,t,o))}function Za(e,t,n,r,o,i){return qo(t),t.updateQueue=null,n=dl(t,r,n,o),cl(e),r=fl(),null===e||Ha?(Eo&&r&&mo(t),t.flags|=1,Ga(e,t,n,i),t.child):(hl(e,t,i),ps(e,t,i))}function es(e,t,n,r,o){if(qo(t),null===t.stateNode){var i=Vr,l=n.contextType;"object"==typeof l&&null!==l&&(i=Ho(l)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=Oa,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},Ci(t),l=n.contextType,i.context="object"==typeof l&&null!==l?Ho(l):Vr,i.state=t.memoizedState,"function"==typeof(l=n.getDerivedStateFromProps)&&(Aa(t,n,l,r),i.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(l=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),l!==i.state&&Oa.enqueueReplaceState(i,i.state,null),xi(t,r,i,o),Ri(),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var a=t.memoizedProps,s=Pa(n,a);i.props=s;var u=i.context,c=n.contextType;l=Vr,"object"==typeof c&&null!==c&&(l=Ho(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof i.getSnapshotBeforeUpdate,a=t.pendingProps!==a,c||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(a||u!==l)&&Na(t,i,r,l),Ti=!1;var p=t.memoizedState;i.state=p,xi(t,r,i,o),Ri(),u=t.memoizedState,a||p!==u||Ti?("function"==typeof d&&(Aa(t,n,d,r),u=t.memoizedState),(s=Ti||ka(t,n,s,r,p,u,l))?(c||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.flags|=4194308)):("function"==typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Ii(e,t),c=Pa(n,l=t.memoizedProps),i.props=c,d=t.pendingProps,p=i.context,u=n.contextType,s=Vr,"object"==typeof u&&null!==u&&(s=Ho(u)),(u="function"==typeof(a=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(l!==d||p!==s)&&Na(t,i,r,s),Ti=!1,p=t.memoizedState,i.state=p,xi(t,r,i,o),Ri();var f=t.memoizedState;l!==d||p!==f||Ti||null!==e&&null!==e.dependencies&&jo(e.dependencies)?("function"==typeof a&&(Aa(t,n,a,r),f=t.memoizedState),(c=Ti||ka(t,n,c,r,p,f,s)||null!==e&&null!==e.dependencies&&jo(e.dependencies))?(u||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,s),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,s)),"function"==typeof i.componentDidUpdate&&(t.flags|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=s,r=c):("function"!=typeof i.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Qa(e,t),r=!!(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=_i(t,e.child,null,o),t.child=_i(t,null,n,o)):Ga(e,t,n,o),t.memoizedState=i.state,e=t.child):e=ps(e,t,o),e}function ts(e,t,n,r){return Oo(),t.flags|=256,Ga(e,t,n,r),t.child}var ns={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rs(e){return{baseLanes:e,cachePool:ii()}}function os(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Mu),e}function is(e,t,n){var o,i=t.pendingProps,l=!1,a=!!(128&t.flags);if((o=a)||(o=(null===e||null!==e.memoizedState)&&!!(2&Wi.current)),o&&(l=!0,t.flags&=-129),o=!!(32&t.flags),t.flags&=-33,null===e){if(Eo){if(l?zi(t):$i(),(e=bo)?null!==(e=null!==(e=Fd(e,_o))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==uo?{id:co,overflow:po}:null,retryLane:536870912,hydrationErrors:null},(n=Zr(e)).return=t,t.child=n,vo=t,bo=null):e=null,null===e)throw To(t);return qd(e)?t.lanes=32:t.lanes=536870912,null}var s=i.children;return i=i.fallback,l?($i(),s=as({mode:"hidden",children:s},l=t.mode),i=Qr(i,l,n,null),s.return=t,i.return=t,s.sibling=i,t.child=s,(i=t.child).memoizedState=rs(n),i.childLanes=os(e,o,n),t.memoizedState=ns,Ja(null,i)):(zi(t),ls(t,s))}var u=e.memoizedState;if(null!==u&&null!==(s=u.dehydrated)){if(a)256&t.flags?(zi(t),t.flags&=-257,t=ss(e,t,n)):null!==t.memoizedState?($i(),t.child=e.child,t.flags|=128,t=null):($i(),s=i.fallback,l=t.mode,i=as({mode:"visible",children:i.children},l),(s=Qr(s,l,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,_i(t,e.child,null,n),(i=t.child).memoizedState=rs(n),i.childLanes=os(e,o,n),t.memoizedState=ns,t=Ja(null,i));else if(zi(t),qd(s)){if(o=s.nextSibling&&s.nextSibling.dataset)var c=o.dgst;o=c,(i=Error(r(419))).stack="",i.digest=o,No({value:i,source:null,stack:null}),t=ss(e,t,n)}else if(Ha||Fo(e,t,n,!1),o=0!==(n&e.childLanes),Ha||o){if(null!==(o=_u)&&0!==(i=ze(o,n))&&i!==u.retryLane)throw u.retryLane=i,Hr(e,i),nc(o,0,i),qa;jd(s)||hc(),t=ss(e,t,n)}else jd(s)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,bo=Hd(s.nextSibling),vo=t,Eo=!0,So=null,_o=!1,null!==e&&yo(t,e),(t=ls(t,i.children)).flags|=4096);return t}return l?($i(),s=i.fallback,l=t.mode,c=(u=e.child).sibling,(i=Wr(u,{mode:"hidden",children:i.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?s=Wr(c,s):(s=Qr(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,Ja(null,i),i=t.child,null===(s=e.child.memoizedState)?s=rs(n):(null!==(l=s.cachePool)?(u=Jo._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=ii(),s={baseLanes:s.baseLanes|n,cachePool:l}),i.memoizedState=s,i.childLanes=os(e,o,n),t.memoizedState=ns,Ja(e.child,i)):(zi(t),e=(n=e.child).sibling,(n=Wr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(o=t.deletions)?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function ls(e,t){return(t=as({mode:"visible",children:t},e.mode)).return=e,e.child=t}function as(e,t){return(e=$r(22,e,null,t)).lanes=0,e}function ss(e,t,n){return _i(t,e.child,null,n),(e=ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Lo(e.return,t,n)}function cs(e,t,n,r,o,i){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o,l.treeForkCount=i)}function ds(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var l=Wi.current,a=!!(2&l);if(a?(l=1&l|2,t.flags|=128):l&=1,Y(Wi,l),Ga(e,t,r,n),r=Eo?lo:0,!a&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&us(e,n,t);else if(19===e.tag)us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Yi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),cs(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Yi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}cs(t,!0,n,null,i,r);break;case"together":cs(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function ps(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Fo(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Wr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function fs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!jo(e))}function hs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ha=!0;else{if(!(fs(e,n)||128&t.flags))return Ha=!1,function(e,t,n){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),Do(0,Jo,e.memoizedState.cache),Oo();break;case 27:case 5:oe(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:Do(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Vi(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(zi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?is(e,t,n):(zi(t),null!==(e=ps(e,t,n))?e.sibling:null);zi(t);break;case 19:var o=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Fo(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ds(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Y(Wi,Wi.current),r)break;return null;case 22:return t.lanes=0,$a(e,t,n,t.pendingProps);case 24:Do(0,Jo,e.memoizedState.cache)}return ps(e,t,n)}(e,t,n);Ha=!!(131072&e.flags)}else Ha=!1,Eo&&1048576&t.flags&&ho(t,lo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=pi(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var i=e.$$typeof;if(i===N){t.tag=11,t=za(null,t,e,o,n);break e}if(i===x){t.tag=14,t=Va(null,t,e,o,n);break e}}throw t=q(e)||e,Error(r(306,t,""))}Jr(e)?(o=Pa(e,o),t.tag=1,t=es(null,t,e,o,n)):(t.tag=0,t=Xa(null,t,e,o,n))}return t;case 0:return Xa(e,t,t.type,t.pendingProps,n);case 1:return es(e,t,o=t.type,i=Pa(o,t.pendingProps),n);case 3:e:{if(ne(t,t.stateNode.containerInfo),null===e)throw Error(r(387));o=t.pendingProps;var l=t.memoizedState;i=l.element,Ii(e,t),xi(t,o,null,n);var a=t.memoizedState;if(o=a.cache,Do(0,Jo,o),o!==l.cache&&Uo(t,[Jo],n,!0),Ri(),o=a.element,l.isDehydrated){if(l={element:o,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=ts(e,t,o,n);break e}if(o!==i){No(i=no(Error(r(424)),t)),t=ts(e,t,o,n);break e}for(e=9===(e=t.stateNode.containerInfo).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,bo=Hd(e.firstChild),vo=t,Eo=!0,So=null,_o=!0,n=wi(t,null,o,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Oo(),o===i){t=ps(e,t,n);break e}Ga(e,t,o,n)}t=t.child}return t;case 26:return Qa(e,t),null===e?(n=Zd(t.type,null,t.pendingProps,null))?t.memoizedState=n:Eo||(n=t.type,e=t.pendingProps,(o=Td(ee.current).createElement(n))[Ye]=t,o[Ke]=e,Ed(o,n,e),st(o),t.stateNode=o):t.memoizedState=Zd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return oe(t),null===e&&Eo&&(o=t.stateNode=Bd(t.type,t.pendingProps,ee.current),vo=t,_o=!0,i=bo,Dd(t.type)?(Gd=i,bo=Hd(o.firstChild)):bo=i),Ga(e,t,t.pendingProps.children,n),Qa(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&Eo&&((i=o=bo)&&(null!==(o=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[nt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Hd(e.nextSibling)))break}return null}(o,t.type,t.pendingProps,_o))?(t.stateNode=o,vo=t,bo=Hd(o.firstChild),_o=!1,i=!0):i=!1),i||To(t)),oe(t),i=t.type,l=t.pendingProps,a=null!==e?e.memoizedProps:null,o=l.children,Ad(i,l)?o=null:null!==a&&Ad(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=ul(e,t,pl,null,null,n),vp._currentValue=i),Qa(e,t),Ga(e,t,o,n),t.child;case 6:return null===e&&Eo&&((e=n=bo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Hd(e.nextSibling)))return null}return e}(n,t.pendingProps,_o))?(t.stateNode=n,vo=t,bo=null,e=!0):e=!1),e||To(t)),null;case 13:return is(e,t,n);case 4:return ne(t,t.stateNode.containerInfo),o=t.pendingProps,null===e?t.child=_i(t,null,o,n):Ga(e,t,o,n),t.child;case 11:return za(e,t,t.type,t.pendingProps,n);case 7:return Ga(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ga(e,t,t.pendingProps.children,n),t.child;case 10:return o=t.pendingProps,Do(0,t.type,o.value),Ga(e,t,o.children,n),t.child;case 9:return i=t.type._context,o=t.pendingProps.children,qo(t),o=o(i=Ho(i)),t.flags|=1,Ga(e,t,o,n),t.child;case 14:return Va(e,t,t.type,t.pendingProps,n);case 15:return Ba(e,t,t.type,t.pendingProps,n);case 19:return ds(e,t,n);case 31:return function(e,t,n){var o=t.pendingProps,i=!!(128&t.flags);if(t.flags&=-129,null===e){if(Eo){if("hidden"===o.mode)return e=Ya(t,o),t.lanes=536870912,Ja(null,e);if(Vi(t),(e=bo)?null!==(e=null!==(e=Fd(e,_o))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==uo?{id:co,overflow:po}:null,retryLane:536870912,hydrationErrors:null},(n=Zr(e)).return=t,t.child=n,vo=t,bo=null):e=null,null===e)throw To(t);return t.lanes=536870912,null}return Ya(t,o)}var l=e.memoizedState;if(null!==l){var a=l.dehydrated;if(Vi(t),i)if(256&t.flags)t.flags&=-257,t=Ka(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Ha||Fo(e,t,n,!1),i=0!==(n&e.childLanes),Ha||i){if(null!==(o=_u)&&0!==(a=ze(o,n))&&a!==l.retryLane)throw l.retryLane=a,Hr(e,a),nc(o,0,a),qa;hc(),t=Ka(e,t,n)}else e=l.treeContext,bo=Hd(a.nextSibling),vo=t,Eo=!0,So=null,_o=!1,null!==e&&yo(t,e),(t=Ya(t,o)).flags|=4096;return t}return(e=Wr(e.child,{mode:o.mode,children:o.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return $a(e,t,n,t.pendingProps);case 24:return qo(t),o=Ho(Jo),null===e?(null===(i=ri())&&(i=_u,l=Wo(),i.pooledCache=l,l.refCount++,null!==l&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:o,cache:i},Ci(t),Do(0,Jo,i)):(0!==(e.lanes&n)&&(Ii(e,t),xi(t,null,null,n),Ri()),i=e.memoizedState,l=t.memoizedState,i.parent!==o?(i={parent:o,cache:o},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Do(0,Jo,o)):(o=l.cache,Do(0,Jo,o),o!==i.cache&&Uo(t,[Jo],n,!0))),Ga(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ms(e){e.flags|=4}function gs(e,t,n,r,o){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!dc())throw fi=ui,ai;e.flags|=8192}}else e.flags&=-16777217}function ys(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!pp(t)){if(!dc())throw fi=ui,ai;e.flags|=8192}}function vs(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Fe():536870912,e.lanes|=t,Lu|=t)}function bs(e,t){if(!Eo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Es(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ss(e,t,n){var o=t.pendingProps;switch(go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return Es(t),null;case 3:return n=t.stateNode,o=null,null!==e&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Mo(Jo),re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(Ao(t)?ms(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,ko())),Es(t),null;case 26:var i=t.type,l=t.memoizedState;return null===e?(ms(t),null!==l?(Es(t),ys(t,l)):(Es(t),gs(t,i,0,0,n))):l?l!==e.memoizedState?(ms(t),Es(t),ys(t,l)):(Es(t),t.flags&=-16777217):((e=e.memoizedProps)!==o&&ms(t),Es(t),gs(t,i,0,0,n)),null;case 27:if(ie(t),n=ee.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&ms(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return Es(t),null}e=X.current,Ao(t)?Co(t):(e=Bd(i,o,n),t.stateNode=e,ms(t))}return Es(t),null;case 5:if(ie(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==o&&ms(t);else{if(!o){if(null===t.stateNode)throw Error(r(166));return Es(t),null}if(l=X.current,Ao(t))Co(t);else{var a=Td(ee.current);switch(l){case 1:l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(l=a.createElement("div")).innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l="string"==typeof o.is?a.createElement("select",{is:o.is}):a.createElement("select"),o.multiple?l.multiple=!0:o.size&&(l.size=o.size);break;default:l="string"==typeof o.is?a.createElement(i,{is:o.is}):a.createElement(i)}}l[Ye]=t,l[Ke]=o;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)l.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=l;e:switch(Ed(l,i,o),i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ms(t)}}return Es(t),gs(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==o&&ms(t);else{if("string"!=typeof o&&null===t.stateNode)throw Error(r(166));if(e=ee.current,Ao(t)){if(e=t.stateNode,n=t.memoizedProps,o=null,null!==(i=vo))switch(i.tag){case 27:case 5:o=i.memoizedProps}e[Ye]=t,(e=!!(e.nodeValue===n||null!==o&&!0===o.suppressHydrationWarning||yd(e.nodeValue,n)))||To(t,!0)}else(e=Td(e).createTextNode(o))[Ye]=t,t.stateNode=e}return Es(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(o=Ao(t),null!==n){if(null===e){if(!o)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Ye]=t}else Oo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Es(t),e=!1}else n=ko(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ji(t),t):(Ji(t),null);if(128&t.flags)throw Error(r(558))}return Es(t),null;case 13:if(o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=Ao(t),null!==o&&null!==o.dehydrated){if(null===e){if(!i)throw Error(r(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(r(317));i[Ye]=t}else Oo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Es(t),i=!1}else i=ko(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ji(t),t):(Ji(t),null)}return Ji(t),128&t.flags?(t.lanes=n,t):(n=null!==o,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(o=t.child).alternate&&null!==o.alternate.memoizedState&&null!==o.alternate.memoizedState.cachePool&&(i=o.alternate.memoizedState.cachePool.pool),l=null,null!==o.memoizedState&&null!==o.memoizedState.cachePool&&(l=o.memoizedState.cachePool.pool),l!==i&&(o.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),vs(t,t.updateQueue),Es(t),null);case 4:return re(),null===e&&ad(t.stateNode.containerInfo),Es(t),null;case 10:return Mo(t.type),Es(t),null;case 19:if(W(Wi),null===(o=t.memoizedState))return Es(t),null;if(i=!!(128&t.flags),null===(l=o.rendering))if(i)bs(o,!1);else{if(0!==Pu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=Yi(e))){for(t.flags|=128,bs(o,!1),e=l.updateQueue,t.updateQueue=e,vs(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Yr(n,e),n=n.sibling;return Y(Wi,1&Wi.current|2),Eo&&fo(t,o.treeForkCount),t.child}e=e.sibling}null!==o.tail&&ge()>Gu&&(t.flags|=128,i=!0,bs(o,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Yi(l))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,vs(t,e),bs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!Eo)return Es(t),null}else 2*ge()-o.renderingStartTime>Gu&&536870912!==n&&(t.flags|=128,i=!0,bs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=o.last)?e.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ge(),e.sibling=null,n=Wi.current,Y(Wi,i?1&n|2:1&n),Eo&&fo(t,o.treeForkCount),e):(Es(t),null);case 22:case 23:return Ji(t),qi(),o=null!==t.memoizedState,null!==e?null!==e.memoizedState!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?!!(536870912&n)&&!(128&t.flags)&&(Es(t),6&t.subtreeFlags&&(t.flags|=8192)):Es(t),null!==(n=t.updateQueue)&&vs(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),o=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(o=t.memoizedState.cachePool.pool),o!==n&&(t.flags|=2048),null!==e&&W(ni),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Mo(Jo),Es(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function _s(e,t){switch(go(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Mo(Jo),re(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return ie(t),null;case 31:if(null!==t.memoizedState){if(Ji(t),null===t.alternate)throw Error(r(340));Oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ji(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Oo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return W(Wi),null;case 4:return re(),null;case 10:return Mo(t.type),null;case 22:case 23:return Ji(t),qi(),null!==e&&W(ni),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Mo(Jo),null;default:return null}}function ws(e,t){switch(go(t),t.tag){case 3:Mo(Jo),re();break;case 26:case 27:case 5:ie(t);break;case 4:re();break;case 31:null!==t.memoizedState&&Ji(t);break;case 13:Ji(t);break;case 19:W(Wi);break;case 10:Mo(t.type);break;case 22:case 23:Ji(t),qi(),null!==e&&W(ni);break;case 24:Mo(Jo)}}function Ts(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,l=n.inst;r=i(),l.destroy=r}n=n.next}while(n!==o)}}catch(a){Pc(t,t.return,a)}}function Cs(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var l=r.inst,a=l.destroy;if(void 0!==a){l.destroy=void 0,o=t;var s=n,u=a;try{u()}catch(c){Pc(o,s,c)}}}r=r.next}while(r!==i)}}catch(c){Pc(t,t.return,c)}}function Is(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Mi(t,n)}catch(r){Pc(e,e.return,r)}}}function As(e,t,n){n.props=Pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Pc(e,t,r)}}function Os(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(o){Pc(e,t,o)}}function ks(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(o){Pc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(i){Pc(e,t,i)}else n.current=null}function Ns(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){Pc(e,e.return,o)}}function Ps(e,t,n){try{var o=e.stateNode;!function(e,t,n,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,a=null,s=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:o.hasOwnProperty(h)||vd(e,t,h,null,o,p)}}for(var f in o){var h=o[f];if(p=n[f],o.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":l=h;break;case"name":i=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":s=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(r(137,t));break;default:h!==p&&vd(e,t,f,h,o,p)}}return void It(e,a,s,u,c,d,l,i);case"select":for(l in h=a=s=f=null,n)if(u=n[l],n.hasOwnProperty(l)&&null!=u)switch(l){case"value":break;case"multiple":h=u;default:o.hasOwnProperty(l)||vd(e,t,l,null,o,u)}for(i in o)if(l=o[i],u=n[i],o.hasOwnProperty(i)&&(null!=l||null!=u))switch(i){case"value":f=l;break;case"defaultValue":s=l;break;case"multiple":a=l;default:l!==u&&vd(e,t,i,l,o,u)}return t=s,n=a,o=h,void(null!=f?kt(e,!!n,f,!1):!!o!=!!n&&(null!=t?kt(e,!!n,t,!0):kt(e,!!n,n?[]:"",!1)));case"textarea":for(s in h=f=null,n)if(i=n[s],n.hasOwnProperty(s)&&null!=i&&!o.hasOwnProperty(s))switch(s){case"value":case"children":break;default:vd(e,t,s,null,o,i)}for(a in o)if(i=o[a],l=n[a],o.hasOwnProperty(a)&&(null!=i||null!=l))switch(a){case"value":f=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(r(91));break;default:i!==l&&vd(e,t,a,i,o,l)}return void Nt(e,f,h);case"option":for(var m in n)f=n[m],n.hasOwnProperty(m)&&null!=f&&!o.hasOwnProperty(m)&&("selected"===m?e.selected=!1:vd(e,t,m,null,o,f));for(u in o)f=o[u],h=n[u],!o.hasOwnProperty(u)||f===h||null==f&&null==h||("selected"===u?e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f:vd(e,t,u,f,o,h));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!o.hasOwnProperty(g)&&vd(e,t,g,null,o,f);for(c in o)if(f=o[c],h=n[c],o.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:vd(e,t,c,f,o,h)}return;default:if(Lt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!o.hasOwnProperty(y)&&bd(e,t,y,void 0,o,f);for(d in o)f=o[d],h=n[d],!o.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||bd(e,t,d,f,o,h);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!o.hasOwnProperty(v)&&vd(e,t,v,null,o,f);for(p in o)f=o[p],h=n[p],!o.hasOwnProperty(p)||f===h||null==f&&null==h||vd(e,t,p,f,o,h)}(o,e.type,n,t),o[Ke]=t}catch(i){Pc(e,e.return,i)}}function Rs(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Dd(e.type)||4===e.tag}function xs(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Dd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Ds(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=qt));else if(4!==r&&(27===r&&Dd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Ds(e,t,n),e=e.sibling;null!==e;)Ds(e,t,n),e=e.sibling}function Ms(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Dd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Ms(e,t,n),e=e.sibling;null!==e;)Ms(e,t,n),e=e.sibling}function Ls(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ed(t,r,n),t[Ye]=e,t[Ke]=n}catch(i){Pc(e,e.return,i)}}var Us=!1,Fs=!1,js=!1,qs="function"==typeof WeakSet?WeakSet:Set,Hs=null;function Gs(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:nu(e,n),4&r&&Ts(5,n);break;case 1:if(nu(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(l){Pc(n,n.return,l)}else{var o=Pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Pc(n,n.return,a)}}64&r&&Is(n),512&r&&Os(n,n.return);break;case 3:if(nu(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Mi(e,t)}catch(l){Pc(n,n.return,l)}}break;case 27:null===t&&4&r&&Ls(n);case 26:case 5:nu(e,n),null===t&&4&r&&Ns(n),512&r&&Os(n,n.return);break;case 12:nu(e,n);break;case 31:nu(e,n),4&r&&Ws(e,n);break;case 13:nu(e,n),4&r&&Ys(e,n),64&r&&null!==(e=n.memoizedState)&&null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Mc.bind(null,n));break;case 22:if(!(r=null!==n.memoizedState||Us)){t=null!==t&&null!==t.memoizedState||Fs,o=Us;var i=Fs;Us=r,(Fs=t)&&!i?ou(e,n,!!(8772&n.subtreeFlags)):nu(e,n),Us=o,Fs=i}break;case 30:break;default:nu(e,n)}}function zs(e){var t=e.alternate;null!==t&&(e.alternate=null,zs(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&rt(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Vs=null,Bs=!1;function $s(e,t,n){for(n=n.child;null!==n;)Js(e,t,n),n=n.sibling}function Js(e,t,n){if(Ie&&"function"==typeof Ie.onCommitFiberUnmount)try{Ie.onCommitFiberUnmount(Ce,n)}catch(i){}switch(n.tag){case 26:Fs||ks(n,t),$s(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Fs||ks(n,t);var r=Vs,o=Bs;Dd(n.type)&&(Vs=n.stateNode,Bs=!1),$s(e,t,n),$d(n.stateNode),Vs=r,Bs=o;break;case 5:Fs||ks(n,t);case 6:if(r=Vs,o=Bs,Vs=null,$s(e,t,n),Bs=o,null!==(Vs=r))if(Bs)try{(9===Vs.nodeType?Vs.body:"HTML"===Vs.nodeName?Vs.ownerDocument.body:Vs).removeChild(n.stateNode)}catch(l){Pc(n,t,l)}else try{Vs.removeChild(n.stateNode)}catch(l){Pc(n,t,l)}break;case 18:null!==Vs&&(Bs?(Md(9===(e=Vs).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Xp(e)):Md(Vs,n.stateNode));break;case 4:r=Vs,o=Bs,Vs=n.stateNode.containerInfo,Bs=!0,$s(e,t,n),Vs=r,Bs=o;break;case 0:case 11:case 14:case 15:Cs(2,n,t),Fs||Cs(4,n,t),$s(e,t,n);break;case 1:Fs||(ks(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&As(n,t,r)),$s(e,t,n);break;case 21:$s(e,t,n);break;case 22:Fs=(r=Fs)||null!==n.memoizedState,$s(e,t,n),Fs=r;break;default:$s(e,t,n)}}function Ws(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)){e=e.dehydrated;try{Xp(e)}catch(n){Pc(t,t.return,n)}}}function Ys(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{Xp(e)}catch(n){Pc(t,t.return,n)}}function Ks(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new qs),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new qs),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Lc.bind(null,e,t);t.then(r,r)}})}function Qs(e,t){var n=t.deletions;if(null!==n)for(var o=0;o<n.length;o++){var i=n[o],l=e,a=t,s=a;e:for(;null!==s;){switch(s.tag){case 27:if(Dd(s.type)){Vs=s.stateNode,Bs=!1;break e}break;case 5:Vs=s.stateNode,Bs=!1;break e;case 3:case 4:Vs=s.stateNode.containerInfo,Bs=!0;break e}s=s.return}if(null===Vs)throw Error(r(160));Js(l,a,i),Vs=null,Bs=!1,null!==(l=i.alternate)&&(l.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Zs(t,e),t=t.sibling}var Xs=null;function Zs(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qs(t,e),eu(e),4&o&&(Cs(3,e,e.return),Ts(3,e),Cs(5,e,e.return));break;case 1:Qs(t,e),eu(e),512&o&&(Fs||null===n||ks(n,n.return)),64&o&&Us&&null!==(e=e.updateQueue)&&null!==(o=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?o:n.concat(o));break;case 26:var i=Xs;if(Qs(t,e),eu(e),512&o&&(Fs||null===n||ks(n,n.return)),4&o){var l=null!==n?n.memoizedState:null;if(o=e.memoizedState,null===n)if(null===o)if(null===e.stateNode){e:{o=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(o){case"title":(!(l=i.getElementsByTagName("title")[0])||l[nt]||l[Ye]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=i.createElement(o),i.head.insertBefore(l,i.querySelector("head > title"))),Ed(l,o,n),l[Ye]=e,st(l),o=l;break e;case"link":var a=cp("link","href",i).get(o+(n.href||""));if(a)for(var s=0;s<a.length;s++)if((l=a[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(s,1);break t}Ed(l=i.createElement(o),o,n),i.head.appendChild(l);break;case"meta":if(a=cp("meta","content",i).get(o+(n.content||"")))for(s=0;s<a.length;s++)if((l=a[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(s,1);break t}Ed(l=i.createElement(o),o,n),i.head.appendChild(l);break;default:throw Error(r(468,o))}l[Ye]=e,st(l),o=l}e.stateNode=o}else dp(i,e.type,e.stateNode);else e.stateNode=ip(i,o,e.memoizedProps);else l!==o?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===o?dp(i,e.type,e.stateNode):ip(i,o,e.memoizedProps)):null===o&&null!==e.stateNode&&Ps(e,e.memoizedProps,n.memoizedProps)}break;case 27:Qs(t,e),eu(e),512&o&&(Fs||null===n||ks(n,n.return)),null!==n&&4&o&&Ps(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Qs(t,e),eu(e),512&o&&(Fs||null===n||ks(n,n.return)),32&e.flags){i=e.stateNode;try{Rt(i,"")}catch(m){Pc(e,e.return,m)}}4&o&&null!=e.stateNode&&Ps(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&o&&(js=!0);break;case 6:if(Qs(t,e),eu(e),4&o){if(null===e.stateNode)throw Error(r(162));o=e.memoizedProps,n=e.stateNode;try{n.nodeValue=o}catch(m){Pc(e,e.return,m)}}break;case 3:if(up=null,i=Xs,Xs=Yd(t.containerInfo),Qs(t,e),Xs=i,eu(e),4&o&&null!==n&&n.memoizedState.isDehydrated)try{Xp(t.containerInfo)}catch(m){Pc(e,e.return,m)}js&&(js=!1,tu(e));break;case 4:o=Xs,Xs=Yd(e.stateNode.containerInfo),Qs(t,e),eu(e),Xs=o;break;case 12:default:Qs(t,e),eu(e);break;case 31:case 19:Qs(t,e),eu(e),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,Ks(e,o));break;case 13:Qs(t,e),eu(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(qu=ge()),4&o&&null!==(o=e.updateQueue)&&(e.updateQueue=null,Ks(e,o));break;case 22:i=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Us,d=Fs;if(Us=c||i,Fs=d||u,Qs(t,e),Fs=d,Us=c,eu(e),8192&o)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||u||Us||Fs||ru(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(l=u.stateNode,i)"function"==typeof(a=l.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{s=u.stateNode;var p=u.memoizedProps.style,f=null!=p&&p.hasOwnProperty("display")?p.display:null;s.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Pc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(m){Pc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var h=u.stateNode;i?Ld(h,!0):Ld(u.stateNode,!1)}catch(m){Pc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&o&&null!==(o=e.updateQueue)&&null!==(n=o.retryQueue)&&(o.retryQueue=null,Ks(e,n));case 30:case 21:}}function eu(e){var t=e.flags;if(2&t){try{for(var n,o=e.return;null!==o;){if(Rs(o)){n=o;break}o=o.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var i=n.stateNode;Ms(e,xs(e),i);break;case 5:var l=n.stateNode;32&n.flags&&(Rt(l,""),n.flags&=-33),Ms(e,xs(e),l);break;case 3:case 4:var a=n.stateNode.containerInfo;Ds(e,xs(e),a);break;default:throw Error(r(161))}}catch(s){Pc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function tu(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;tu(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function nu(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Gs(e,t.alternate,t),t=t.sibling}function ru(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Cs(4,t,t.return),ru(t);break;case 1:ks(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&As(t,t.return,n),ru(t);break;case 27:$d(t.stateNode);case 26:case 5:ks(t,t.return),ru(t);break;case 22:null===t.memoizedState&&ru(t);break;default:ru(t)}e=e.sibling}}function ou(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,l=i.flags;switch(i.tag){case 0:case 11:case 15:ou(o,i,n),Ts(4,i);break;case 1:if(ou(o,i,n),"function"==typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){Pc(r,r.return,u)}if(null!==(o=(r=i).updateQueue)){var a=r.stateNode;try{var s=o.shared.hiddenCallbacks;if(null!==s)for(o.shared.hiddenCallbacks=null,o=0;o<s.length;o++)Di(s[o],a)}catch(u){Pc(r,r.return,u)}}n&&64&l&&Is(i),Os(i,i.return);break;case 27:Ls(i);case 26:case 5:ou(o,i,n),n&&null===r&&4&l&&Ns(i),Os(i,i.return);break;case 12:ou(o,i,n);break;case 31:ou(o,i,n),n&&4&l&&Ws(o,i);break;case 13:ou(o,i,n),n&&4&l&&Ys(o,i);break;case 22:null===i.memoizedState&&ou(o,i,n),Os(i,i.return);break;case 30:break;default:ou(o,i,n)}t=t.sibling}}function iu(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Yo(n))}function lu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Yo(e))}function au(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)su(e,t,n,r),t=t.sibling}function su(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:au(e,t,n,r),2048&o&&Ts(9,t);break;case 1:case 31:case 13:default:au(e,t,n,r);break;case 3:au(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Yo(e)));break;case 12:if(2048&o){au(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,l=i.id,a=i.onPostCommit;"function"==typeof a&&a(l,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){Pc(t,t.return,s)}}else au(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,l=t.alternate,null!==t.memoizedState?2&i._visibility?au(e,t,n,r):cu(e,t):2&i._visibility?au(e,t,n,r):(i._visibility|=2,uu(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&o&&iu(l,t);break;case 24:au(e,t,n,r),2048&o&&lu(t.alternate,t)}}function uu(e,t,n,r,o){for(o=o&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,l=t,a=n,s=r,u=l.flags;switch(l.tag){case 0:case 11:case 15:uu(i,l,a,s,o),Ts(8,l);break;case 23:break;case 22:var c=l.stateNode;null!==l.memoizedState?2&c._visibility?uu(i,l,a,s,o):cu(i,l):(c._visibility|=2,uu(i,l,a,s,o)),o&&2048&u&&iu(l.alternate,l);break;case 24:uu(i,l,a,s,o),o&&2048&u&&lu(l.alternate,l);break;default:uu(i,l,a,s,o)}t=t.sibling}}function cu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:cu(n,r),2048&o&&iu(r.alternate,r);break;case 24:cu(n,r),2048&o&&lu(r.alternate,r);break;default:cu(n,r)}t=t.sibling}}var du=8192;function pu(e,t,n){if(e.subtreeFlags&du)for(e=e.child;null!==e;)fu(e,t,n),e=e.sibling}function fu(e,t,n){switch(e.tag){case 26:pu(e,t,n),e.flags&du&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var o=ep(r.href),i=t.querySelector(tp(o));if(i)return null!==(t=i._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=hp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void st(i);i=t.ownerDocument||t,r=np(r),(o=Jd.get(o))&&ap(r,o),st(i=i.createElement("link"));var l=i;l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),Ed(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=hp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Xs,e.memoizedState,e.memoizedProps);break;case 5:default:pu(e,t,n);break;case 3:case 4:var r=Xs;Xs=Yd(e.stateNode.containerInfo),pu(e,t,n),Xs=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=du,du=16777216,pu(e,t,n),du=r):pu(e,t,n))}}function hu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function mu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Hs=r,vu(r,e)}hu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)gu(e),e=e.sibling}function gu(e){switch(e.tag){case 0:case 11:case 15:mu(e),2048&e.flags&&Cs(9,e,e.return);break;case 3:case 12:default:mu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,yu(e)):mu(e)}}function yu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Hs=r,vu(r,e)}hu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:Cs(8,t,t.return),yu(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,yu(t));break;default:yu(t)}e=e.sibling}}function vu(e,t){for(;null!==Hs;){var n=Hs;switch(n.tag){case 0:case 11:case 15:Cs(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Yo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Hs=r;else e:for(n=e;null!==Hs;){var o=(r=Hs).sibling,i=r.return;if(zs(r),r===n){Hs=null;break e}if(null!==o){o.return=i,Hs=o;break e}Hs=i}}}var bu={getCacheForType:function(e){var t=Ho(Jo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ho(Jo).controller.signal}},Eu="function"==typeof WeakMap?WeakMap:Map,Su=0,_u=null,wu=null,Tu=0,Cu=0,Iu=null,Au=!1,Ou=!1,ku=!1,Nu=0,Pu=0,Ru=0,xu=0,Du=0,Mu=0,Lu=0,Uu=null,Fu=null,ju=!1,qu=0,Hu=0,Gu=1/0,zu=null,Vu=null,Bu=0,$u=null,Ju=null,Wu=0,Yu=0,Ku=null,Qu=null,Xu=0,Zu=null;function ec(){return 2&Su&&0!==Tu?Tu&-Tu:null!==G.T?Kc():$e()}function tc(){if(0===Mu)if(536870912&Tu&&!Eo)Mu=536870912;else{var e=Re;!(3932160&(Re<<=1))&&(Re=262144),Mu=e}return null!==(e=Hi.current)&&(e.flags|=32),Mu}function nc(e,t,n){(e!==_u||2!==Cu&&9!==Cu)&&null===e.cancelPendingCommit||(uc(e,0),lc(e,Tu,Mu,!1)),qe(e,n),2&Su&&e===_u||(e===_u&&(!(2&Su)&&(xu|=n),4===Pu&&lc(e,Tu,Mu,!1)),zc(e))}function rc(e,t,n){if(6&Su)throw Error(r(327));for(var o=!n&&!(127&t)&&0===(t&e.expiredLanes)||Le(e,t),i=o?function(e,t){var n=Su;Su|=2;var o=pc(),i=fc();_u!==e||Tu!==t?(zu=null,Gu=ge()+500,uc(e,t)):Ou=Le(e,t);e:for(;;)try{if(0!==Cu&&null!==wu){t=wu;var l=Iu;t:switch(Cu){case 1:Cu=0,Iu=null,Ec(e,t,l,1);break;case 2:case 9:if(ci(l)){Cu=0,Iu=null,bc(t);break}t=function(){2!==Cu&&9!==Cu||_u!==e||(Cu=7),zc(e)},l.then(t,t);break e;case 3:Cu=7;break e;case 4:Cu=5;break e;case 7:ci(l)?(Cu=0,Iu=null,bc(t)):(Cu=0,Iu=null,Ec(e,t,l,7));break;case 5:var a=null;switch(wu.tag){case 26:a=wu.memoizedState;case 5:case 27:var s=wu;if(a?pp(a):s.stateNode.complete){Cu=0,Iu=null;var u=s.sibling;if(null!==u)wu=u;else{var c=s.return;null!==c?(wu=c,Sc(c)):wu=null}break t}}Cu=0,Iu=null,Ec(e,t,l,5);break;case 6:Cu=0,Iu=null,Ec(e,t,l,6);break;case 8:sc(),Pu=6;break e;default:throw Error(r(462))}}yc();break}catch(d){cc(e,d)}return xo=Ro=null,G.H=o,G.A=i,Su=n,null!==wu?0:(_u=null,Tu=0,Fr(),Pu)}(e,t):mc(e,t,!0),l=o;;){if(0===i){Ou&&!o&&lc(e,t,0,!1);break}if(n=e.current.alternate,!l||ic(n)){if(2===i){if(l=t,e.errorRecoveryDisabledLanes&l)var a=0;else a=0!=(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var s=e;i=Uu;var u=s.current.memoizedState.isDehydrated;if(u&&(uc(s,a).flags|=256),2!==(a=mc(s,a,!1))){if(ku&&!u){s.errorRecoveryDisabledLanes|=l,xu|=l,i=4;break e}l=Fu,Fu=i,null!==l&&(null===Fu?Fu=l:Fu.push.apply(Fu,l))}i=a}if(l=!1,2!==i)continue}}if(1===i){uc(e,0),lc(e,t,0,!0);break}e:{switch(o=e,l=i){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:lc(o,t,Mu,!Au);break e;case 2:Fu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(i=qu+300-ge())){if(lc(o,t,Mu,!Au),0!==Me(o,0,!0))break e;Wu=t,o.timeoutHandle=kd(oc.bind(null,o,n,Fu,zu,ju,t,Mu,xu,Lu,Au,l,"Throttled",-0,0),i)}else oc(o,n,Fu,zu,ju,t,Mu,xu,Lu,Au,l,null,-0,0)}break}i=mc(e,t,!1),l=!1}zc(e)}function oc(e,t,n,r,o,i,l,a,s,u,c,d,p,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){fu(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qt});var h=(62914560&i)===i?qu-ge():(4194048&i)===i?Hu-ge():0;if(null!==(h=function(e,t){return e.stylesheets&&0===e.count&&gp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&gp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===fp&&(fp=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,l=o.initiatorType,a=o.duration;if(i&&a&&Sd(l)){for(l=0,a=o.responseEnd,r+=1;r<n.length;r++){var s=n[r],u=s.startTime;if(u>a)break;var c=s.transferSize,d=s.initiatorType;c&&Sd(d)&&(l+=c*((s=s.responseEnd)<a?1:(a-u)/(s-u)))}if(--r,t+=8*(i+l)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&gp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>fp?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,h)))return Wu=i,e.cancelPendingCommit=h(wc.bind(null,e,t,i,n,r,o,l,a,s,c,d,null,p,f)),void lc(e,i,l,!u)}wc(e,t,i,n,r,o,l,a,s)}function ic(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&null!==(n=t.updateQueue)&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!lr(i(),o))return!1}catch(l){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lc(e,t,n,r){t&=~Du,t&=~xu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-Oe(o),l=1<<i;r[i]=-1,o&=~l}0!==n&&He(e,n,t)}function ac(){return!!(6&Su)||(Vc(0),!1)}function sc(){if(null!==wu){if(0===Cu)var e=wu.return;else xo=Ro=null,ml(e=wu),gi=null,yi=0,e=wu;for(;null!==e;)ws(e.alternate,e),e=e.return;wu=null}}function uc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Nd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wu=0,sc(),_u=e,wu=n=Wr(e.current,null),Tu=t,Cu=0,Iu=null,Au=!1,Ou=Le(e,t),ku=!1,Lu=Mu=Du=xu=Ru=Pu=0,Fu=Uu=null,ju=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-Oe(r),i=1<<o;t|=e[o],r&=~i}return Nu=t,Fr(),n}function cc(e,t){Qi=null,G.H=wa,t===li||t===si?(t=hi(),Cu=3):t===ai?(t=hi(),Cu=4):Cu=t===qa?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,Iu=t,null===wu&&(Pu=1,Ma(e,no(t,e.current)))}function dc(){var e=Hi.current;return null===e||((4194048&Tu)===Tu?null===Gi:!!((62914560&Tu)===Tu||536870912&Tu)&&e===Gi)}function pc(){var e=G.H;return G.H=wa,null===e?wa:e}function fc(){var e=G.A;return G.A=bu,e}function hc(){Pu=4,Au||(4194048&Tu)!==Tu&&null!==Hi.current||(Ou=!0),!(134217727&Ru)&&!(134217727&xu)||null===_u||lc(_u,Tu,Mu,!1)}function mc(e,t,n){var r=Su;Su|=2;var o=pc(),i=fc();_u===e&&Tu===t||(zu=null,uc(e,t)),t=!1;var l=Pu;e:for(;;)try{if(0!==Cu&&null!==wu){var a=wu,s=Iu;switch(Cu){case 8:sc(),l=6;break e;case 3:case 2:case 9:case 6:null===Hi.current&&(t=!0);var u=Cu;if(Cu=0,Iu=null,Ec(e,a,s,u),n&&Ou){l=0;break e}break;default:u=Cu,Cu=0,Iu=null,Ec(e,a,s,u)}}gc(),l=Pu;break}catch(c){cc(e,c)}return t&&e.shellSuspendCounter++,xo=Ro=null,Su=r,G.H=o,G.A=i,null===wu&&(_u=null,Tu=0,Fr()),l}function gc(){for(;null!==wu;)vc(wu)}function yc(){for(;null!==wu&&!he();)vc(wu)}function vc(e){var t=hs(e.alternate,e,Nu);e.memoizedProps=e.pendingProps,null===t?Sc(e):wu=t}function bc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Za(n,t,t.pendingProps,t.type,void 0,Tu);break;case 11:t=Za(n,t,t.pendingProps,t.type.render,t.ref,Tu);break;case 5:ml(t);default:ws(n,t),t=hs(n,t=wu=Yr(t,Nu),Nu)}e.memoizedProps=e.pendingProps,null===t?Sc(e):wu=t}function Ec(e,t,n,o){xo=Ro=null,ml(t),gi=null,yi=0;var i=t.return;try{if(function(e,t,n,o,i){if(n.flags|=32768,null!==o&&"object"==typeof o&&"function"==typeof o.then){if(null!==(t=n.alternate)&&Fo(t,n,i,!0),null!==(n=Hi.current)){switch(n.tag){case 31:case 13:return null===Gi?hc():null===n.alternate&&0===Pu&&(Pu=3),n.flags&=-257,n.flags|=65536,n.lanes=i,o===ui?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([o]):t.add(o),Rc(e,o,i)),!1;case 22:return n.flags|=65536,o===ui?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([o]):n.add(o),Rc(e,o,i)),!1}throw Error(r(435,n.tag))}return Rc(e,o,i),hc(),!1}if(Eo)return null!==(t=Hi.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,o!==wo&&No(no(e=Error(r(422),{cause:o}),n))):(o!==wo&&No(no(t=Error(r(423),{cause:o}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,o=no(o,n),Ni(e,i=Ua(e.stateNode,o,i)),4!==Pu&&(Pu=2)),!1;var l=Error(r(520),{cause:o});if(l=no(l,n),null===Uu?Uu=[l]:Uu.push(l),4!==Pu&&(Pu=2),null===t)return!0;o=no(o,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Ni(n,e=Ua(n.stateNode,o,e)),!1;case 1:if(t=n.type,l=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===l||"function"!=typeof l.componentDidCatch||null!==Vu&&Vu.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,ja(i=Fa(i),e,n,o),Ni(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,Tu))return Pu=1,Ma(e,no(n,e.current)),void(wu=null)}catch(l){if(null!==i)throw wu=i,l;return Pu=1,Ma(e,no(n,e.current)),void(wu=null)}32768&t.flags?(Eo||1===o?e=!0:Ou||536870912&Tu?e=!1:(Au=e=!0,(2===o||9===o||3===o||6===o)&&null!==(o=Hi.current)&&13===o.tag&&(o.flags|=16384)),_c(t,e)):Sc(t)}function Sc(e){var t=e;do{if(32768&t.flags)return void _c(t,Au);e=t.return;var n=Ss(t.alternate,t,Nu);if(null!==n)return void(wu=n);if(null!==(t=t.sibling))return void(wu=t);wu=t=e}while(null!==t);0===Pu&&(Pu=5)}function _c(e,t){do{var n=_s(e.alternate,e);if(null!==n)return n.flags&=32767,void(wu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(wu=e);wu=e=n}while(null!==e);Pu=6,wu=null}function wc(e,t,n,o,i,l,a,s,u){e.cancelPendingCommit=null;do{Oc()}while(0!==Bu);if(6&Su)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,o,i){var l=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(n=l&~n;0<n;){var c=31-Oe(n),d=1<<c;a[c]=0,s[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&He(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(l&~t))}(e,n,l|=Ur,a,s,u),e===_u&&(wu=_u=null,Tu=0),Ju=t,$u=e,Wu=n,Yu=l,Ku=i,Qu=o,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,pe(Ee,function(){return kc(),null})):(e.callbackNode=null,e.callbackPriority=0),o=!!(13878&t.flags),13878&t.subtreeFlags||o){o=G.T,G.T=null,i=z.p,z.p=2,a=Su,Su|=4;try{!function(e,t){if(e=e.containerInfo,_d=Ap,pr(e=dr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var o=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(o&&0!==o.rangeCount){n=o.anchorNode;var i=o.anchorOffset,l=o.focusNode;o=o.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var a=0,s=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(s=a+i),p!==l||0!==o&&3!==p.nodeType||(u=a+o),3===p.nodeType&&(a+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(s=a),f===l&&++d===o&&(u=a),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wd={focusedElem:e,selectionRange:n},Ap=!1,Hs=t;null!==Hs;)if(e=(t=Hs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Hs=e;else for(;null!==Hs;){switch(l=(t=Hs).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==l){e=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,o=n.stateNode;try{var m=Pa(n.type,i);e=o.getSnapshotBeforeUpdate(m,l),o.__reactInternalSnapshotBeforeUpdate=e}catch(y){Pc(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ud(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Hs=e;break}Hs=t.return}}(e,t)}finally{Su=a,z.p=i,G.T=o}}Bu=1,Tc(),Cc(),Ic()}}function Tc(){if(1===Bu){Bu=0;var e=$u,t=Ju,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=G.T,G.T=null;var r=z.p;z.p=2;var o=Su;Su|=4;try{Zs(t,e);var i=wd,l=dr(e.containerInfo),a=i.focusedElem,s=i.selectionRange;if(l!==a&&a&&a.ownerDocument&&cr(a.ownerDocument.documentElement,a)){if(null!==s&&pr(a)){var u=s.start,c=s.end;if(void 0===c&&(c=u),"selectionStart"in a)a.selectionStart=u,a.selectionEnd=Math.min(c,a.value.length);else{var d=a.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=a.textContent.length,m=Math.min(s.start,h),g=void 0===s.end?m:Math.min(s.end,h);!f.extend&&m>g&&(l=g,g=m,m=l);var y=ur(a,m),v=ur(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=a;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof a.focus&&a.focus(),a=0;a<d.length;a++){var E=d[a];E.element.scrollLeft=E.left,E.element.scrollTop=E.top}}Ap=!!_d,wd=_d=null}finally{Su=o,z.p=r,G.T=n}}e.current=t,Bu=2}}function Cc(){if(2===Bu){Bu=0;var e=$u,t=Ju,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=G.T,G.T=null;var r=z.p;z.p=2;var o=Su;Su|=4;try{Gs(e,t.alternate,t)}finally{Su=o,z.p=r,G.T=n}}Bu=3}}function Ic(){if(4===Bu||3===Bu){Bu=0,me();var e=$u,t=Ju,n=Wu,r=Qu;10256&t.subtreeFlags||10256&t.flags?Bu=5:(Bu=0,Ju=$u=null,Ac(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Vu=null),Be(n),t=t.stateNode,Ie&&"function"==typeof Ie.onCommitFiberRoot)try{Ie.onCommitFiberRoot(Ce,t,void 0,!(128&~t.current.flags))}catch(s){}if(null!==r){t=G.T,o=z.p,z.p=2,G.T=null;try{for(var i=e.onRecoverableError,l=0;l<r.length;l++){var a=r[l];i(a.value,{componentStack:a.stack})}}finally{G.T=t,z.p=o}}3&Wu&&Oc(),zc(e),o=e.pendingLanes,261930&n&&42&o?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,Vc(0)}}function Ac(e,t){0===(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,Yo(t))}function Oc(){return Tc(),Cc(),Ic(),kc()}function kc(){if(5!==Bu)return!1;var e=$u,t=Yu;Yu=0;var n=Be(Wu),o=G.T,i=z.p;try{z.p=32>n?32:n,G.T=null,n=Ku,Ku=null;var l=$u,a=Wu;if(Bu=0,Ju=$u=null,Wu=0,6&Su)throw Error(r(331));var s=Su;if(Su|=4,gu(l.current),su(l,l.current,a,n),Su=s,Vc(0),Ie&&"function"==typeof Ie.onPostCommitFiberRoot)try{Ie.onPostCommitFiberRoot(Ce,l)}catch(u){}return!0}finally{z.p=i,G.T=o,Ac(e,t)}}function Nc(e,t,n){t=no(n,t),null!==(e=Oi(e,t=Ua(e.stateNode,t,2),2))&&(qe(e,2),zc(e))}function Pc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){e=no(n,e),null!==(r=Oi(t,n=Fa(2),2))&&(ja(n,r,t,e),qe(r,2),zc(r));break}}t=t.return}}function Rc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Eu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(ku=!0,o.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,_u===e&&(Tu&n)===n&&(4===Pu||3===Pu&&(62914560&Tu)===Tu&&300>ge()-qu?!(2&Su)&&uc(e,0):Du|=n,Lu===Tu&&(Lu=0)),zc(e)}function Dc(e,t){0===t&&(t=Fe()),null!==(e=Hr(e,t))&&(qe(e,t),zc(e))}function Mc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Dc(e,n)}function Lc(e,t){var n=0;switch(e.tag){case 31:case 13:var o=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==o&&o.delete(t),Dc(e,n)}var Uc=null,Fc=null,jc=!1,qc=!1,Hc=!1,Gc=0;function zc(e){e!==Fc&&null===e.next&&(null===Fc?Uc=Fc=e:Fc=Fc.next=e),qc=!0,jc||(jc=!0,Rd(function(){6&Su?pe(ve,Bc):$c()}))}function Vc(e,t){if(!Hc&&qc){Hc=!0;do{for(var n=!1,r=Uc;null!==r;){if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var l=r.suspendedLanes,a=r.pingedLanes;i=(1<<31-Oe(42|e)+1)-1,i=201326741&(i&=o&~(l&~a))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Yc(r,i))}else i=Tu,!(3&(i=Me(r,r===_u?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Le(r,i)||(n=!0,Yc(r,i));r=r.next}}while(n);Hc=!1}}function Bc(){$c()}function $c(){qc=jc=!1;var e,t=0;0!==Gc&&((e=window.event)&&"popstate"===e.type?e!==Od&&(Od=e,1):(Od=null,0))&&(t=Gc);for(var n=ge(),r=null,o=Uc;null!==o;){var i=o.next,l=Jc(o,n);0===l?(o.next=null,null===r?Uc=i:r.next=i,null===i&&(Fc=r)):(r=o,(0!==t||3&l)&&(qc=!0)),o=i}0!==Bu&&5!==Bu||Vc(t),0!==Gc&&(Gc=0)}function Jc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var l=31-Oe(i),a=1<<l,s=o[l];-1===s?0!==(a&n)&&0===(a&r)||(o[l]=Ue(a,t)):s<=t&&(e.expiredLanes|=a),i&=~a}if(n=Tu,n=Me(e,e===(t=_u)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===Cu||9===Cu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&fe(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||Le(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&fe(r),Be(n)){case 2:case 8:n=be;break;case 32:default:n=Ee;break;case 268435456:n=_e}return r=Wc.bind(null,e),n=pe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&fe(r),e.callbackPriority=2,e.callbackNode=null,2}function Wc(e,t){if(0!==Bu&&5!==Bu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Oc()&&e.callbackNode!==n)return null;var r=Tu;return 0===(r=Me(e,e===_u?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(rc(e,r,t),Jc(e,ge()),null!=e.callbackNode&&e.callbackNode===n?Wc.bind(null,e):null)}function Yc(e,t){if(Oc())return null;rc(e,t,!0)}function Kc(){if(0===Gc){var e=Xo;0===e&&(e=Pe,!(261888&(Pe<<=1))&&(Pe=256)),Gc=e}return Gc}function Qc(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:jt(""+e)}function Xc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Zc=0;Zc<Rr.length;Zc++){var ed=Rr[Zc];xr(ed.toLowerCase(),"on"+(ed[0].toUpperCase()+ed.slice(1)))}xr(Tr,"onAnimationEnd"),xr(Cr,"onAnimationIteration"),xr(Ir,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Ar,"onTransitionRun"),xr(Or,"onTransitionStart"),xr(kr,"onTransitionCancel"),xr(Nr,"onTransitionEnd"),pt("onMouseEnter",["mouseout","mouseover"]),pt("onMouseLeave",["mouseout","mouseover"]),pt("onPointerEnter",["pointerout","pointerover"]),pt("onPointerLeave",["pointerout","pointerover"]),dt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dt("onBeforeInput",["compositionend","keypress","textInput","paste"]),dt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(td));function rd(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var l=r.length-1;0<=l;l--){var a=r[l],s=a.instance,u=a.currentTarget;if(a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Dr(c)}o.currentTarget=null,i=s}else for(l=0;l<r.length;l++){if(s=(a=r[l]).instance,u=a.currentTarget,a=a.listener,s!==i&&o.isPropagationStopped())break e;i=a,o.currentTarget=u;try{i(o)}catch(c){Dr(c)}o.currentTarget=null,i=s}}}}function od(e,t){var n=t[Xe];void 0===n&&(n=t[Xe]=new Set);var r=e+"__bubble";n.has(r)||(sd(t,e,2,!1),n.add(r))}function id(e,t,n){var r=0;t&&(r|=4),sd(n,e,r,t)}var ld="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[ld]){e[ld]=!0,ut.forEach(function(t){"selectionchange"!==t&&(nd.has(t)||id(t,!1,e),id(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ld]||(t[ld]=!0,id("selectionchange",!1,t))}}function sd(e,t,n,r){switch(Dp(t)){case 2:var o=Op;break;case 8:o=kp;break;default:o=Np}n=o.bind(null,t,n,e),o=void 0,!Kt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ud(e,t,n,r,o){var l=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=ot(s)))return;if(5===(u=a.tag)||6===u||26===u||27===u){r=l=a;continue e}s=s.parentNode}}r=r.return}Jt(function(){var r=l,o=Gt(n),a=[];e:{var s=Pr.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":u=In;break;case"focusin":c="focus",u=yn;break;case"focusout":c="blur",u=yn;break;case"beforeblur":case"afterblur":u=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tr:case Cr:case Ir:u=vn;break;case Nr:u=kn;break;case"scroll":case"scrollend":u=fn;break;case"wheel":u=Nn;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An;break;case"toggle":case"beforetoggle":u=Pn}var d=!!(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var g=m;if(h=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===h||null===f||null!=(g=Wt(m,f))&&d.push(cd(m,g,h)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,o),a.push({event:s,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Ht||!(c=n.relatedTarget||n.fromElement)||!ot(c)&&!c[Qe])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ot(c):null)&&(p=i(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=mn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,g="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?s:lt(u),h=null==c?s:lt(c),(s=new d(g,m+"leave",u,n,o)).target=p,s.relatedTarget=h,g=null,ot(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,g=d),p=g,u&&c)e:{for(d=pd,m=c,h=0,g=f=u;g;g=d(g))h++;g=0;for(var y=m;y;y=d(y))g++;for(;0<h-g;)f=d(f),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&fd(a,s,u,d,!1),null!==c&&null!==p&&fd(a,p,c,d,!0)}if("select"===(u=(s=r?lt(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(zn(s))if(Kn)v=ir;else{v=rr;var b=nr}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Lt(r.elementType)&&(v=Yn):v=or;switch(v&&(v=v(e,r))?Vn(a,v,n,o):(b&&b(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&Ot(s,"number",s.value)),b=r?lt(r):window,e){case"focusin":(zn(b)||"true"===b.contentEditable)&&(hr=b,mr=r,gr=null);break;case"focusout":gr=mr=hr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,vr(a,n,o);break;case"selectionchange":if(fr)break;case"keydown":case"keyup":vr(a,n,o)}var E;if(xn)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Hn?jn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Hn&&(E=tn()):(Zt="value"in(Xt=o)?Xt.value:Xt.textContent,Hn=!0)),0<(b=dd(r,S)).length&&(S=new En(S,e,null,n,o),a.push({event:S,listeners:b}),(E||null!==(E=qn(n)))&&(S.data=E))),(E=Mn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!xn&&jn(e,t)?(e=tn(),en=Zt=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(S=dd(r,"onBeforeInput")).length&&(b=new En("onBeforeInput","beforeinput",null,n,o),a.push({event:b,listeners:S}),b.data=E),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Qc((o[Ke]||null).action),l=r.submitter;l&&null!==(t=(t=l[Ke]||null)?Qc(t.formAction):l.getAttribute("formAction"))&&(i=t,l=null);var a=new dn("action","action",null,r,o);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Gc){var e=l?Xc(o,l):new FormData(o);ua(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"==typeof i&&(a.preventDefault(),e=l?Xc(o,l):new FormData(o),ua(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}rd(a,t)})}function cd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dd(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Wt(e,n))&&r.unshift(cd(e,o,i)),null!=(o=Wt(e,t))&&r.push(cd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function pd(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function fd(e,t,n,r,o){for(var i=t._reactName,l=[];null!==n&&n!==r;){var a=n,s=a.alternate,u=a.stateNode;if(a=a.tag,null!==s&&s===r)break;5!==a&&26!==a&&27!==a||null===u||(s=u,o?null!=(u=Wt(n,i))&&l.unshift(cd(n,u,s)):o||null!=(u=Wt(n,i))&&l.push(cd(n,u,s))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var hd=/\r\n?/g,md=/\u0000|\uFFFD/g;function gd(e){return("string"==typeof e?e:""+e).replace(hd,"\n").replace(md,"")}function yd(e,t){return t=gd(t),gd(e)===t}function vd(e,t,n,o,i,l){switch(n){case"children":"string"==typeof o?"body"===t||"textarea"===t&&""===o||Rt(e,o):("number"==typeof o||"bigint"==typeof o)&&"body"!==t&&Rt(e,""+o);break;case"className":yt(e,"class",o);break;case"tabIndex":yt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yt(e,n,o);break;case"style":Mt(e,o,l);break;case"data":if("object"!==t){yt(e,"data",o);break}case"src":case"href":if(""===o&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==o||"function"==typeof o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=jt(""+o),e.setAttribute(n,o);break;case"action":case"formAction":if("function"==typeof o){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof l&&("formAction"===n?("input"!==t&&vd(e,t,"name",i.name,i,null),vd(e,t,"formEncType",i.formEncType,i,null),vd(e,t,"formMethod",i.formMethod,i,null),vd(e,t,"formTarget",i.formTarget,i,null)):(vd(e,t,"encType",i.encType,i,null),vd(e,t,"method",i.method,i,null),vd(e,t,"target",i.target,i,null))),null==o||"symbol"==typeof o||"boolean"==typeof o){e.removeAttribute(n);break}o=jt(""+o),e.setAttribute(n,o);break;case"onClick":null!=o&&(e.onclick=qt);break;case"onScroll":null!=o&&od("scroll",e);break;case"onScrollEnd":null!=o&&od("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"muted":e.muted=o&&"function"!=typeof o&&"symbol"!=typeof o;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==o||"function"==typeof o||"boolean"==typeof o||"symbol"==typeof o){e.removeAttribute("xlink:href");break}n=jt(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""+o):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===o?e.setAttribute(n,""):!1!==o&&null!=o&&"function"!=typeof o&&"symbol"!=typeof o?e.setAttribute(n,o):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&!isNaN(o)&&1<=o?e.setAttribute(n,o):e.removeAttribute(n);break;case"rowSpan":case"start":null==o||"function"==typeof o||"symbol"==typeof o||isNaN(o)?e.removeAttribute(n):e.setAttribute(n,o);break;case"popover":od("beforetoggle",e),od("toggle",e),gt(e,"popover",o);break;case"xlinkActuate":vt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":vt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":vt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":vt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":vt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":vt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":vt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":vt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":vt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":gt(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&gt(e,n=Ut.get(n)||n,o)}}function bd(e,t,n,o,i,l){switch(n){case"style":Mt(e,o,l);break;case"dangerouslySetInnerHTML":if(null!=o){if("object"!=typeof o||!("__html"in o))throw Error(r(61));if(null!=(n=o.__html)){if(null!=i.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof o?Rt(e,o):("number"==typeof o||"bigint"==typeof o)&&Rt(e,""+o);break;case"onScroll":null!=o&&od("scroll",e);break;case"onScrollEnd":null!=o&&od("scrollend",e);break;case"onClick":null!=o&&(e.onclick=qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:ct.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"==typeof(l=null!=(l=e[Ke]||null)?l[n]:null)&&e.removeEventListener(t,l,i),"function"!=typeof o)?n in e?e[n]=o:!0===o?e.setAttribute(n,""):gt(e,n,o):("function"!=typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,o,i)))}}function Ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":od("error",e),od("load",e);var o,i=!1,l=!1;for(o in n)if(n.hasOwnProperty(o)){var a=n[o];if(null!=a)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:vd(e,t,o,a,n,null)}}return l&&vd(e,t,"srcSet",n.srcSet,n,null),void(i&&vd(e,t,"src",n.src,n,null));case"input":od("invalid",e);var s=o=a=l=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":l=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":o=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:vd(e,t,i,d,n,null)}}return void At(e,o,s,u,c,a,l,!1);case"select":for(l in od("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":o=s;break;case"defaultValue":a=s;break;case"multiple":i=s;default:vd(e,t,l,s,n,null)}return t=o,n=a,e.multiple=!!i,void(null!=t?kt(e,!!i,t,!1):null!=n&&kt(e,!!i,n,!0));case"textarea":for(a in od("invalid",e),o=l=i=null,n)if(n.hasOwnProperty(a)&&null!=(s=n[a]))switch(a){case"value":i=s;break;case"defaultValue":l=s;break;case"children":o=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(r(91));break;default:vd(e,t,a,s,n,null)}return void Pt(e,i,l,o);case"option":for(u in n)n.hasOwnProperty(u)&&null!=(i=n[u])&&("selected"===u?e.selected=i&&"function"!=typeof i&&"symbol"!=typeof i:vd(e,t,u,i,n,null));return;case"dialog":od("beforetoggle",e),od("toggle",e),od("cancel",e),od("close",e);break;case"iframe":case"object":od("load",e);break;case"video":case"audio":for(i=0;i<td.length;i++)od(td[i],e);break;case"image":od("error",e),od("load",e);break;case"details":od("toggle",e);break;case"embed":case"source":case"link":od("error",e),od("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:vd(e,t,c,i,n,null)}return;default:if(Lt(t)){for(d in n)n.hasOwnProperty(d)&&void 0!==(i=n[d])&&bd(e,t,d,i,n,void 0);return}}for(s in n)n.hasOwnProperty(s)&&null!=(i=n[s])&&vd(e,t,s,i,n,null)}function Sd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var _d=null,wd=null;function Td(e){return 9===e.nodeType?e:e.ownerDocument}function Cd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Id(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ad(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Od=null,kd="function"==typeof setTimeout?setTimeout:void 0,Nd="function"==typeof clearTimeout?clearTimeout:void 0,Pd="function"==typeof Promise?Promise:void 0,Rd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Pd?function(e){return Pd.resolve(null).then(e).catch(xd)}:kd;function xd(e){setTimeout(function(){throw e})}function Dd(e){return"head"===e}function Md(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Xp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)$d(e.ownerDocument.documentElement);else if("head"===n){$d(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var l=i.nextSibling,a=i.nodeName;i[nt]||"SCRIPT"===a||"STYLE"===a||"LINK"===a&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=l}}else"body"===n&&$d(e.ownerDocument.body);n=o}while(n);Xp(t)}function Ld(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ud(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ud(n),rt(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Fd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Hd(e.nextSibling)))return null}return e}function jd(e){return"$?"===e.data||"$~"===e.data}function qd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Hd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Gd=null;function zd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Hd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Vd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Bd(e,t,n){switch(t=Td(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function $d(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);rt(e)}var Jd=new Map,Wd=new Set;function Yd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Kd=z.d;z.d={f:function(){var e=Kd.f(),t=ac();return e||t},r:function(e){var t=it(e);null!==t&&5===t.tag&&"form"===t.type?da(t):Kd.r(e)},D:function(e){Kd.D(e),Xd("dns-prefetch",e,null)},C:function(e,t){Kd.C(e,t),Xd("preconnect",e,t)},L:function(e,t,n){Kd.L(e,t,n);var r=Qd;if(r&&e&&t){var o='link[rel="preload"][as="'+Ct(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Ct(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(o+='[imagesizes="'+Ct(n.imageSizes)+'"]')):o+='[href="'+Ct(e)+'"]';var i=o;switch(t){case"style":i=ep(e);break;case"script":i=rp(e)}Jd.has(i)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Jd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(tp(i))||"script"===t&&r.querySelector(op(i))||(Ed(t=r.createElement("link"),"link",e),st(t),r.head.appendChild(t)))}},m:function(e,t){Kd.m(e,t);var n=Qd;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+Ct(r)+'"][href="'+Ct(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=rp(e)}if(!Jd.has(i)&&(e=c({rel:"modulepreload",href:e},t),Jd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(op(i)))return}Ed(r=n.createElement("link"),"link",e),st(r),n.head.appendChild(r)}}},X:function(e,t){Kd.X(e,t);var n=Qd;if(n&&e){var r=at(n).hoistableScripts,o=rp(e),i=r.get(o);i||((i=n.querySelector(op(o)))||(e=c({src:e,async:!0},t),(t=Jd.get(o))&&sp(e,t),st(i=n.createElement("script")),Ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){Kd.S(e,t,n);var r=Qd;if(r&&e){var o=at(r).hoistableStyles,i=ep(e);t=t||"default";var l=o.get(i);if(!l){var a={loading:0,preload:null};if(l=r.querySelector(tp(i)))a.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Jd.get(i))&&ap(e,n);var s=l=r.createElement("link");st(s),Ed(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){a.loading|=1}),s.addEventListener("error",function(){a.loading|=2}),a.loading|=4,lp(l,t,r)}l={type:"stylesheet",instance:l,count:1,state:a},o.set(i,l)}}},M:function(e,t){Kd.M(e,t);var n=Qd;if(n&&e){var r=at(n).hoistableScripts,o=rp(e),i=r.get(o);i||((i=n.querySelector(op(o)))||(e=c({src:e,async:!0,type:"module"},t),(t=Jd.get(o))&&sp(e,t),st(i=n.createElement("script")),Ed(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Qd="undefined"==typeof document?null:document;function Xd(e,t,n){var r=Qd;if(r&&"string"==typeof t&&t){var o=Ct(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"==typeof n&&(o+='[crossorigin="'+n+'"]'),Wd.has(o)||(Wd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(Ed(t=r.createElement("link"),"link",e),st(t),r.head.appendChild(t)))}}function Zd(e,t,n,o){var i,l,a,s,u=(u=ee.current)?Yd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=ep(n.href),(o=(n=at(u).hoistableStyles).get(t))||(o={type:"style",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=ep(n.href);var c=at(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(tp(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Jd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Jd.set(e,n),c||(i=u,l=e,a=n,s=d.state,i.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=i.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),Ed(l,"link",a),st(l),i.head.appendChild(l))))),t&&null===o)throw Error(r(528,""));return d}if(t&&null!==o)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=rp(n),(o=(n=at(u).hoistableScripts).get(t))||(o={type:"script",instance:null,count:0,state:null},n.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ep(e){return'href="'+Ct(e)+'"'}function tp(e){return'link[rel="stylesheet"]['+e+"]"}function np(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function rp(e){return'[src="'+Ct(e)+'"]'}function op(e){return"script[async]"+e}function ip(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Ct(n.href)+'"]');if(o)return t.instance=o,st(o),o;var i=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return st(o=(e.ownerDocument||e).createElement("style")),Ed(o,"style",i),lp(o,n.precedence,e),t.instance=o;case"stylesheet":i=ep(n.href);var l=e.querySelector(tp(i));if(l)return t.state.loading|=4,t.instance=l,st(l),l;o=np(n),(i=Jd.get(i))&&ap(o,i),st(l=(e.ownerDocument||e).createElement("link"));var a=l;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),Ed(l,"link",o),t.state.loading|=4,lp(l,n.precedence,e),t.instance=l;case"script":return l=rp(n.src),(i=e.querySelector(op(l)))?(t.instance=i,st(i),i):(o=n,(i=Jd.get(l))&&sp(o=c({},n),i),st(i=(e=e.ownerDocument||e).createElement("script")),Ed(i,"link",o),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(o=t.instance,t.state.loading|=4,lp(o,n.precedence,e));return t.instance}function lp(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,l=0;l<r.length;l++){var a=r[l];if(a.dataset.precedence===t)i=a;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ap(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function sp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var up=null;function cp(e,t,n){if(null===up){var r=new Map,o=up=new Map;o.set(n,r)}else(r=(o=up).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[nt]||i[Ye]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var l=i.getAttribute(t)||"";l=e+l;var a=r.get(l);a?a.push(i):r.set(l,[i])}}return r}function dp(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function pp(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var fp=0;function hp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var mp=null;function gp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,mp=new Map,t.forEach(yp,e),mp=null,hp.call(e))}function yp(e,t){if(!(4&t.state.loading)){var n=mp.get(e);if(n)var r=n.get(null);else{n=new Map,mp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var l=o[i];"LINK"!==l.nodeName&&"not all"===l.getAttribute("media")||(n.set(l.dataset.precedence,l),r=l)}r&&n.set(null,r)}l=(o=t.instance).getAttribute("data-precedence"),(i=n.get(l)||r)===r&&n.set(null,o),n.set(l,o),this.count++,r=hp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var vp={$$typeof:k,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function bp(e,t,n,r,o,i,l,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.hiddenUpdates=je(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Ep(e,t,n,r,o,i,l,a,s,u,c,d){return e=new bp(e,t,n,l,s,u,c,d,a),t=1,!0===i&&(t|=24),i=$r(3,null,null,t),e.current=i,i.stateNode=e,(t=Wo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},Ci(i),e}function Sp(e){return e?e=Vr:Vr}function _p(e,t,n,r,o,i){o=Sp(o),null===r.context?r.context=o:r.pendingContext=o,(r=Ai(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=Oi(e,r,t))&&(nc(n,0,t),ki(n,e,t))}function wp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Tp(e,t){wp(e,t),(e=e.alternate)&&wp(e,t)}function Cp(e){if(13===e.tag||31===e.tag){var t=Hr(e,67108864);null!==t&&nc(t,0,67108864),Tp(e,67108864)}}function Ip(e){if(13===e.tag||31===e.tag){var t=ec(),n=Hr(e,t=Ve(t));null!==n&&nc(n,0,t),Tp(e,t)}}var Ap=!0;function Op(e,t,n,r){var o=G.T;G.T=null;var i=z.p;try{z.p=2,Np(e,t,n,r)}finally{z.p=i,G.T=o}}function kp(e,t,n,r){var o=G.T;G.T=null;var i=z.p;try{z.p=8,Np(e,t,n,r)}finally{z.p=i,G.T=o}}function Np(e,t,n,r){if(Ap){var o=Pp(r);if(null===o)ud(e,t,r,Rp,n),zp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Lp=Vp(Lp,e,t,n,r,o),!0;case"dragenter":return Up=Vp(Up,e,t,n,r,o),!0;case"mouseover":return Fp=Vp(Fp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return jp.set(i,Vp(jp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,qp.set(i,Vp(qp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(zp(e,r),4&t&&-1<Gp.indexOf(e)){for(;null!==o;){var i=it(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var l=De(i.pendingLanes);if(0!==l){var a=i;for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var s=1<<31-Oe(l);a.entanglements[1]|=s,l&=~s}zc(i),!(6&Su)&&(Gu=ge()+500,Vc(0))}}break;case 31:case 13:null!==(a=Hr(i,2))&&nc(a,0,2),ac(),Tp(i,2)}if(null===(i=Pp(r))&&ud(e,t,r,Rp,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else ud(e,t,r,null,n)}}function Pp(e){return xp(e=Gt(e))}var Rp=null;function xp(e){if(Rp=null,null!==(e=ot(e))){var t=i(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=l(t)))return e;e=null}else if(31===n){if(null!==(e=a(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rp=e,null}function Dp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case ve:return 2;case be:return 8;case Ee:case Se:return 32;case _e:return 268435456;default:return 32}default:return 32}}var Mp=!1,Lp=null,Up=null,Fp=null,jp=new Map,qp=new Map,Hp=[],Gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":Lp=null;break;case"dragenter":case"dragleave":Up=null;break;case"mouseover":case"mouseout":Fp=null;break;case"pointerover":case"pointerout":jp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qp.delete(t.pointerId)}}function Vp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=it(t))&&Cp(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Bp(e){var t=ot(e.target);if(null!==t){var n=i(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=l(n)))return e.blockedOn=t,void Je(e.priority,function(){Ip(n)})}else if(31===t){if(null!==(t=a(n)))return e.blockedOn=t,void Je(e.priority,function(){Ip(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $p(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pp(e.nativeEvent);if(null!==n)return null!==(t=it(n))&&Cp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Ht=r,n.target.dispatchEvent(r),Ht=null,t.shift()}return!0}function Jp(e,t,n){$p(e)&&n.delete(t)}function Wp(){Mp=!1,null!==Lp&&$p(Lp)&&(Lp=null),null!==Up&&$p(Up)&&(Up=null),null!==Fp&&$p(Fp)&&(Fp=null),jp.forEach(Jp),qp.forEach(Jp)}function Yp(t,n){t.blockedOn===n&&(t.blockedOn=null,Mp||(Mp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Wp)))}var Kp=null;function Qp(t){Kp!==t&&(Kp=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kp===t&&(Kp=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],o=t[e+2];if("function"!=typeof r){if(null===xp(r||n))continue;break}var i=it(n);null!==i&&(t.splice(e,3),e-=3,ua(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Xp(e){function t(t){return Yp(t,e)}null!==Lp&&Yp(Lp,e),null!==Up&&Yp(Up,e),null!==Fp&&Yp(Fp,e),jp.forEach(t),qp.forEach(t);for(var n=0;n<Hp.length;n++){var r=Hp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Hp.length&&null===(n=Hp[0]).blockedOn;)Bp(n),null===n.blockedOn&&Hp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],l=o[Ke]||null;if("function"==typeof i)l||Qp(n);else if(l){var a=null;if(i&&i.hasAttribute("formAction")){if(o=i,l=i[Ke]||null)a=l.formAction;else if(null!==xp(o))continue}else a=l.action;"function"==typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Qp(n)}}}function Zp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function ef(e){this._internalRoot=e}function tf(e){this._internalRoot=e}tf.prototype.render=ef.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));_p(t.current,ec(),e,t,null,null)},tf.prototype.unmount=ef.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;_p(e.current,2,null,e,null,null),ac(),t[Qe]=null}},tf.prototype.unstable_scheduleHydration=function(e){if(e){var t=$e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Hp.length&&0!==t&&t<Hp[n].priority;n++);Hp.splice(n,0,e),0===n&&Bp(e)}};var nf=t.version;if("19.2.3"!==nf)throw Error(r(527,nf,"19.2.3"));z.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=i(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,o=t;;){var l=n.return;if(null===l)break;var a=l.alternate;if(null===a){if(null!==(o=l.return)){n=o;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return s(l),e;if(a===o)return s(l),t;a=a.sibling}throw Error(r(188))}if(n.return!==o.return)n=l,o=a;else{for(var u=!1,c=l.child;c;){if(c===n){u=!0,n=l,o=a;break}if(c===o){u=!0,o=l,n=a;break}c=c.sibling}if(!u){for(c=a.child;c;){if(c===n){u=!0,n=a,o=l;break}if(c===o){u=!0,o=a,n=l;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==o)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),null===(e=null!==e?u(e):null)?null:e.stateNode};var rf={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Ce=of.inject(rf),Ie=of}catch(af){}}return y.createRoot=function(e,t){if(!o(e))throw Error(r(299));var n=!1,i="",l=Ra,a=xa,s=Da;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(l=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Ep(e,1,!1,null,0,n,i,null,l,a,s,Zp),e[Qe]=t.current,ad(e),new ef(t)},y.hydrateRoot=function(e,t,n){if(!o(e))throw Error(r(299));var i=!1,l="",a=Ra,s=xa,u=Da,c=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=Ep(e,1,!0,t,0,i,l,c,a,s,u,Zp)).context=Sp(null),n=t.current,(l=Ai(i=Ve(i=ec()))).callback=null,Oi(n,l,i),n=i,t.current.lanes=n,qe(t,n),zc(t),e[Qe]=t.current,ad(e),new tf(t)},y.version="19.2.3",y}()),g.exports));var A={};class O{}function k(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function N(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++)N(r[e],t.slice(i+1),n[e]);else for(const e of r)N(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);return o in e||(e[o]=[{}]),void N(e[o][0],t.slice(i+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!=typeof o||"object"!=typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function P(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const o=t[r];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in e){const o=e[i];return Array.isArray(o)?o.map(e=>P(e,t.slice(r+1),n)):n}return n}e=e[o]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function R(e,t,n,r,o){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const i=t[r];if(i.endsWith("[]")){const l=i.slice(0,-2),a=e;if(l in a&&Array.isArray(a[l]))for(const e of a[l])R(e,t,n,r+1,o)}else if("*"===i){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,i=Object.keys(t).filter(e=>!e.startsWith("_")&&!o.has(e)),l={};for(const e of i)l[e]=t[e];for(const[e,o]of Object.entries(l)){const i=[];for(const t of n.slice(r))"*"===t?i.push(e):i.push(t);N(t,i,o)}for(const e of i)delete t[e]}}else i in e&&R(e[i],t,n,r+1,o)}function x(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}function D(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["parent"]);null!=r&&N(t,["parent"],r);const o=P(e,["documentName"]);return null!=o&&N(t,["documentName"],o),t}(l)),t}var M,L,U,F,j,q,H,G,z,V,B,$,J,W,Y,K,Q,X,Z,ee,te,ne,re,oe,ie,le,ae,se,ue,ce,de,pe,fe,he,me,ge,ye,ve,be,Ee,Se,_e,we,Te,Ce,Ie,Ae,Oe,ke,Ne,Pe,Re,xe,De,Me,Le,Ue,Fe,je,qe,He,Ge,ze,Ve,Be,$e,Je,We,Ye,Ke,Qe,Xe,Ze,et,tt,nt,rt,ot,it,lt,at,st,ut,ct,dt,pt,ft,ht,mt,gt,yt,vt,bt,Et,St,_t,wt,Tt,Ct,It,At,Ot,kt,Nt,Pt,Rt,xt,Dt,Mt,Lt,Ut,Ft,jt,qt;(L=M||(M={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",L.OUTCOME_OK="OUTCOME_OK",L.OUTCOME_FAILED="OUTCOME_FAILED",L.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(F=U||(U={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",F.PYTHON="PYTHON",(q=j||(j={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",q.SILENT="SILENT",q.WHEN_IDLE="WHEN_IDLE",q.INTERRUPT="INTERRUPT",(G=H||(H={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",G.STRING="STRING",G.NUMBER="NUMBER",G.INTEGER="INTEGER",G.BOOLEAN="BOOLEAN",G.ARRAY="ARRAY",G.OBJECT="OBJECT",G.NULL="NULL",(V=z||(z={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",V.MODE_DYNAMIC="MODE_DYNAMIC",($=B||(B={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",$.SIMPLE_SEARCH="SIMPLE_SEARCH",$.ELASTIC_SEARCH="ELASTIC_SEARCH",(W=J||(J={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",W.NO_AUTH="NO_AUTH",W.API_KEY_AUTH="API_KEY_AUTH",W.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",W.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",W.OAUTH="OAUTH",W.OIDC_AUTH="OIDC_AUTH",(K=Y||(Y={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",K.HTTP_IN_QUERY="HTTP_IN_QUERY",K.HTTP_IN_HEADER="HTTP_IN_HEADER",K.HTTP_IN_PATH="HTTP_IN_PATH",K.HTTP_IN_BODY="HTTP_IN_BODY",K.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(X=Q||(Q={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",X.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",X.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",X.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",X.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",X.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",X.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(ee=Z||(Z={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",ee.LOW="LOW",ee.MEDIUM="MEDIUM",ee.HIGH="HIGH",ee.MINIMAL="MINIMAL",(ne=te||(te={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",ne.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",ne.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",ne.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",ne.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",ne.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",ne.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",ne.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",ne.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",ne.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",ne.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(oe=re||(re={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",oe.SEVERITY="SEVERITY",oe.PROBABILITY="PROBABILITY",(le=ie||(ie={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",le.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",le.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",le.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",le.BLOCK_NONE="BLOCK_NONE",le.OFF="OFF",(se=ae||(ae={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",se.STOP="STOP",se.MAX_TOKENS="MAX_TOKENS",se.SAFETY="SAFETY",se.RECITATION="RECITATION",se.LANGUAGE="LANGUAGE",se.OTHER="OTHER",se.BLOCKLIST="BLOCKLIST",se.PROHIBITED_CONTENT="PROHIBITED_CONTENT",se.SPII="SPII",se.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",se.IMAGE_SAFETY="IMAGE_SAFETY",se.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",se.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",se.NO_IMAGE="NO_IMAGE",se.IMAGE_RECITATION="IMAGE_RECITATION",se.IMAGE_OTHER="IMAGE_OTHER",(ce=ue||(ue={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",ce.NEGLIGIBLE="NEGLIGIBLE",ce.LOW="LOW",ce.MEDIUM="MEDIUM",ce.HIGH="HIGH",(pe=de||(de={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",pe.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",pe.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",pe.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",pe.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(he=fe||(fe={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",he.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",he.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",he.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",he.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(ge=me||(me={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",ge.SAFETY="SAFETY",ge.OTHER="OTHER",ge.BLOCKLIST="BLOCKLIST",ge.PROHIBITED_CONTENT="PROHIBITED_CONTENT",ge.IMAGE_SAFETY="IMAGE_SAFETY",ge.MODEL_ARMOR="MODEL_ARMOR",ge.JAILBREAK="JAILBREAK",(ve=ye||(ye={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",ve.ON_DEMAND="ON_DEMAND",ve.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(Ee=be||(be={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",Ee.TEXT="TEXT",Ee.IMAGE="IMAGE",Ee.AUDIO="AUDIO",(_e=Se||(Se={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",_e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",_e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",_e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(Te=we||(we={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",Te.TUNING_MODE_FULL="TUNING_MODE_FULL",Te.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(Ie=Ce||(Ce={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",Ie.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",Ie.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",Ie.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",Ie.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",Ie.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",Ie.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(Oe=Ae||(Ae={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",Oe.JOB_STATE_QUEUED="JOB_STATE_QUEUED",Oe.JOB_STATE_PENDING="JOB_STATE_PENDING",Oe.JOB_STATE_RUNNING="JOB_STATE_RUNNING",Oe.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",Oe.JOB_STATE_FAILED="JOB_STATE_FAILED",Oe.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",Oe.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",Oe.JOB_STATE_PAUSED="JOB_STATE_PAUSED",Oe.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",Oe.JOB_STATE_UPDATING="JOB_STATE_UPDATING",Oe.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(Ne=ke||(ke={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",Ne.TUNING_TASK_I2V="TUNING_TASK_I2V",Ne.TUNING_TASK_T2V="TUNING_TASK_T2V",Ne.TUNING_TASK_R2V="TUNING_TASK_R2V",(Re=Pe||(Pe={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",Re.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",Re.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",Re.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",Re.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(De=xe||(xe={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",De.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",De.BALANCED="BALANCED",De.PRIORITIZE_COST="PRIORITIZE_COST",(Le=Me||(Me={})).UNSPECIFIED="UNSPECIFIED",Le.BLOCKING="BLOCKING",Le.NON_BLOCKING="NON_BLOCKING",(Fe=Ue||(Ue={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Fe.MODE_DYNAMIC="MODE_DYNAMIC",(qe=je||(je={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",qe.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(Ge=He||(He={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",Ge.AUTO="AUTO",Ge.ANY="ANY",Ge.NONE="NONE",Ge.VALIDATED="VALIDATED",(Ve=ze||(ze={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",Ve.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",Ve.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",Ve.BLOCK_NONE="BLOCK_NONE",($e=Be||(Be={})).DONT_ALLOW="DONT_ALLOW",$e.ALLOW_ADULT="ALLOW_ADULT",$e.ALLOW_ALL="ALLOW_ALL",(We=Je||(Je={})).auto="auto",We.en="en",We.ja="ja",We.ko="ko",We.hi="hi",We.zh="zh",We.pt="pt",We.es="es",(Ke=Ye||(Ye={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",Ke.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",Ke.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",Ke.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",Ke.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(Xe=Qe||(Qe={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",Xe.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",Xe.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",Xe.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(et=Ze||(Ze={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",et.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",et.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",et.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(nt=tt||(tt={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",nt.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",nt.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",nt.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",nt.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",nt.EDIT_MODE_STYLE="EDIT_MODE_STYLE",nt.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",nt.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(ot=rt||(rt={})).FOREGROUND="FOREGROUND",ot.BACKGROUND="BACKGROUND",ot.PROMPT="PROMPT",ot.SEMANTIC="SEMANTIC",ot.INTERACTIVE="INTERACTIVE",(lt=it||(it={})).ASSET="ASSET",lt.STYLE="STYLE",(st=at||(at={})).INSERT="INSERT",st.REMOVE="REMOVE",st.REMOVE_STATIC="REMOVE_STATIC",st.OUTPAINT="OUTPAINT",(ct=ut||(ut={})).OPTIMIZED="OPTIMIZED",ct.LOSSLESS="LOSSLESS",(pt=dt||(dt={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",pt.PREFERENCE_TUNING="PREFERENCE_TUNING",(ht=ft||(ft={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",ht.STATE_PENDING="STATE_PENDING",ht.STATE_ACTIVE="STATE_ACTIVE",ht.STATE_FAILED="STATE_FAILED",(gt=mt||(mt={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",gt.PROCESSING="PROCESSING",gt.ACTIVE="ACTIVE",gt.FAILED="FAILED",(vt=yt||(yt={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",vt.UPLOADED="UPLOADED",vt.GENERATED="GENERATED",(Et=bt||(bt={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",Et.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",Et.RESPONSE_REJECTED="RESPONSE_REJECTED",Et.NEED_MORE_INPUT="NEED_MORE_INPUT",(_t=St||(St={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",_t.TEXT="TEXT",_t.IMAGE="IMAGE",_t.VIDEO="VIDEO",_t.AUDIO="AUDIO",_t.DOCUMENT="DOCUMENT",(Tt=wt||(wt={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",Tt.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",Tt.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(It=Ct||(Ct={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",It.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",It.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(Ot=At||(At={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",Ot.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",Ot.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(Nt=kt||(kt={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",Nt.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",Nt.NO_INTERRUPTION="NO_INTERRUPTION",(Rt=Pt||(Pt={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",Rt.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",Rt.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(Dt=xt||(xt={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",Dt.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",Dt.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",Dt.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",Dt.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",Dt.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",Dt.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",Dt.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",Dt.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",Dt.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",Dt.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",Dt.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",Dt.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(Lt=Mt||(Mt={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",Lt.QUALITY="QUALITY",Lt.DIVERSITY="DIVERSITY",Lt.VOCALIZATION="VOCALIZATION",(Ft=Ut||(Ut={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",Ft.PLAY="PLAY",Ft.PAUSE="PAUSE",Ft.STOP="STOP",Ft.RESET_CONTEXT="RESET_CONTEXT";class Ht{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Gt{get text(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let s="",u=!1;const c=[];for(const d of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,s+=d.text}}return c.length,u?s:void 0}get data(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let s="";const u=[];for(const c of null!==(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(s+=atob(c.inlineData.data))}return u.length,s.length>0?btoa(s):void 0}get functionCalls(){var e,t,n,r,o,i,l,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const s=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==s?void 0:s.length)?s:void 0}get executableCode(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,l,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(a=null===(l=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===l?void 0:l.parts)||void 0===a?void 0:a.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(s=null==u?void 0:u[0])||void 0===s?void 0:s.output:void 0}}class zt{}class Vt{}class Bt{}class $t{}class Jt{}class Wt{}class Yt{}class Kt{}class Qt{}class Xt{}class Zt{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new Zt;let r;const o=e;return r=t?function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["_self"]);return null!=n&&N(t,["video"],function(e){const t={},n=P(e,["gcsUri"]);null!=n&&N(t,["uri"],n);const r=P(e,["bytesBase64Encoded"]);null!=r&&N(t,["videoBytes"],x(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["mimeType"],o),t}(n)),t}(e))),N(t,["generatedVideos"],e)}const r=P(e,["raiMediaFilteredCount"]);null!=r&&N(t,["raiMediaFilteredCount"],r);const o=P(e,["raiMediaFilteredReasons"]);return null!=o&&N(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o):function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response","generateVideoResponse"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["video"]);return null!=n&&N(t,["video"],function(e){const t={},n=P(e,["uri"]);null!=n&&N(t,["uri"],n);const r=P(e,["encodedVideo"]);null!=r&&N(t,["videoBytes"],x(r));const o=P(e,["encoding"]);return null!=o&&N(t,["mimeType"],o),t}(n)),t}(e))),N(t,["generatedVideos"],e)}const r=P(e,["raiMediaFilteredCount"]);null!=r&&N(t,["raiMediaFilteredCount"],r);const o=P(e,["raiMediaFilteredReasons"]);return null!=o&&N(t,["raiMediaFilteredReasons"],o),t}(l)),t}(o),Object.assign(n,r),n}}class en{}class tn{}class nn{}class rn{}class on{}class ln{}class an{}class sn{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new sn,r=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["parent"]);null!=r&&N(t,["parent"],r);const o=P(e,["documentName"]);return null!=o&&N(t,["documentName"],o),t}(l)),t}(e);return Object.assign(n,r),n}}class un{}class cn{}class dn{}class pn{}class fn{get text(){var e,t,n;let r="",o=!1;const i=[];for(const l of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(l))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"==typeof l.text){if("boolean"==typeof l.thought&&l.thought)continue;o=!0,r+=l.text}}return i.length,o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"==typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length,r.length>0?btoa(r):void 0}}class hn{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class mn{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new mn,r=D(e);return Object.assign(n,r),n}}function gn(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function yn(e,t){const n=gn(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function vn(e){return Array.isArray(e)?e.map(e=>bn(e)):[bn(e)]}function bn(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function En(e){const t=bn(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Sn(e){const t=bn(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function _n(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function wn(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>_n(e)):[_n(e)]}function Tn(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Cn(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function In(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function An(e){if(null==e)throw new Error("ContentUnion is required");return Tn(e)?e:{role:"user",parts:wn(e)}}function On(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=An(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=An(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>An(e)):[An(t)]}function kn(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(Cn(e)||In(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[An(e)]}const t=[],n=[],r=Tn(e[0]);for(const o of e){const e=Tn(o);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(o);else{if(Cn(o)||In(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return r||t.push({role:"user",parts:wn(n)}),t}function Nn(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(H).includes(n[0].toUpperCase())?n[0].toUpperCase():H.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(H).includes(e.toUpperCase())?e.toUpperCase():H.TYPE_UNSPECIFIED})}}(e.type,t);for(const[l,a]of Object.entries(e))if(null!=a)if("type"==l){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(H).includes(a.toUpperCase())?a.toUpperCase():H.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=Nn(a);else if(r.includes(l)){const e=[];for(const n of a)"null"!=n.type?e.push(Nn(n)):t.nullable=!0;t[l]=e}else if(o.includes(l)){const e={};for(const[t,n]of Object.entries(a))e[t]=Nn(n);t[l]=e}else{if("additionalProperties"===l)continue;t[l]=a}return t}function Pn(e){return Nn(e)}function Rn(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function xn(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Dn(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Nn(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Nn(t.response));return e}function Mn(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function Ln(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function Un(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Fn(e){return x(e)}function jn(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function qn(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Hn(e){for(const t of["models","tunedModels","publisherModels"])if(Gn(e,t))return e[t];return[]}function Gn(e,t){return null!==e&&"object"==typeof e&&t in e}function zn(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Vn(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==o)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Bn(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let o=!1;for(const i of r){if("object"!=typeof i||null===i)continue;const e=i.response;if("object"==typeof e&&null!==e&&void 0!==e.embedding){o=!0;break}}return o&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function $n(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Jn(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}function Wn(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata","displayName"]);null!=r&&N(t,["displayName"],r);const o=P(e,["metadata","state"]);null!=o&&N(t,["state"],Jn(o));const i=P(e,["metadata","createTime"]);null!=i&&N(t,["createTime"],i);const l=P(e,["metadata","endTime"]);null!=l&&N(t,["endTime"],l);const a=P(e,["metadata","updateTime"]);null!=a&&N(t,["updateTime"],a);const s=P(e,["metadata","model"]);null!=s&&N(t,["model"],s);const u=P(e,["metadata","output"]);return null!=u&&N(t,["dest"],function(e){const t={},n=P(e,["responsesFile"]);null!=n&&N(t,["fileName"],n);const r=P(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["response"]);null!=n&&N(t,["response"],function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["content"]);null!=n&&N(t,["content"],n);const r=P(e,["citationMetadata"]);null!=r&&N(t,["citationMetadata"],function(e){const t={},n=P(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["citations"],e)}return t}(r));const o=P(e,["tokenCount"]);null!=o&&N(t,["tokenCount"],o);const i=P(e,["finishReason"]);null!=i&&N(t,["finishReason"],i);const l=P(e,["avgLogprobs"]);null!=l&&N(t,["avgLogprobs"],l);const a=P(e,["groundingMetadata"]);null!=a&&N(t,["groundingMetadata"],a);const s=P(e,["index"]);null!=s&&N(t,["index"],s);const u=P(e,["logprobsResult"]);null!=u&&N(t,["logprobsResult"],u);const c=P(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["safetyRatings"],e)}const d=P(e,["urlContextMetadata"]);return null!=d&&N(t,["urlContextMetadata"],d),t}(e))),N(t,["candidates"],e)}const o=P(e,["modelVersion"]);null!=o&&N(t,["modelVersion"],o);const i=P(e,["promptFeedback"]);null!=i&&N(t,["promptFeedback"],i);const l=P(e,["responseId"]);null!=l&&N(t,["responseId"],l);const a=P(e,["usageMetadata"]);return null!=a&&N(t,["usageMetadata"],a),t}(n));const r=P(e,["error"]);return null!=r&&N(t,["error"],r),t}(e))),N(t,["inlinedResponses"],e)}const o=P(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["inlinedEmbedContentResponses"],e)}return t}(Bn(u))),t}function Yn(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["displayName"]);null!=r&&N(t,["displayName"],r);const o=P(e,["state"]);null!=o&&N(t,["state"],Jn(o));const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["createTime"]);null!=l&&N(t,["createTime"],l);const a=P(e,["startTime"]);null!=a&&N(t,["startTime"],a);const s=P(e,["endTime"]);null!=s&&N(t,["endTime"],s);const u=P(e,["updateTime"]);null!=u&&N(t,["updateTime"],u);const c=P(e,["model"]);null!=c&&N(t,["model"],c);const d=P(e,["inputConfig"]);null!=d&&N(t,["src"],function(e){const t={},n=P(e,["instancesFormat"]);null!=n&&N(t,["format"],n);const r=P(e,["gcsSource","uris"]);null!=r&&N(t,["gcsUri"],r);const o=P(e,["bigquerySource","inputUri"]);return null!=o&&N(t,["bigqueryUri"],o),t}(d));const p=P(e,["outputConfig"]);null!=p&&N(t,["dest"],function(e){const t={},n=P(e,["predictionsFormat"]);null!=n&&N(t,["format"],n);const r=P(e,["gcsDestination","outputUriPrefix"]);null!=r&&N(t,["gcsUri"],r);const o=P(e,["bigqueryDestination","outputUri"]);return null!=o&&N(t,["bigqueryUri"],o),t}(Bn(p)));const f=P(e,["completionStats"]);return null!=f&&N(t,["completionStats"],f),t}function Kn(e){const t={},n=P(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["mediaResolution"]);null!=n&&N(t,["mediaResolution"],n);const r=P(e,["codeExecutionResult"]);null!=r&&N(t,["codeExecutionResult"],r);const o=P(e,["executableCode"]);null!=o&&N(t,["executableCode"],o);const i=P(e,["fileData"]);null!=i&&N(t,["fileData"],function(e){const t={};if(void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=P(e,["fileUri"]);null!=n&&N(t,["fileUri"],n);const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(i));const l=P(e,["functionCall"]);null!=l&&N(t,["functionCall"],function(e){const t={},n=P(e,["id"]);null!=n&&N(t,["id"],n);const r=P(e,["args"]);null!=r&&N(t,["args"],r);const o=P(e,["name"]);if(null!=o&&N(t,["name"],o),void 0!==P(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==P(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=P(e,["functionResponse"]);null!=a&&N(t,["functionResponse"],a);const s=P(e,["inlineData"]);null!=s&&N(t,["inlineData"],function(e){const t={},n=P(e,["data"]);if(null!=n&&N(t,["data"],n),void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(s));const u=P(e,["text"]);null!=u&&N(t,["text"],u);const c=P(e,["thought"]);null!=c&&N(t,["thought"],c);const d=P(e,["thoughtSignature"]);null!=d&&N(t,["thoughtSignature"],d);const p=P(e,["videoMetadata"]);return null!=p&&N(t,["videoMetadata"],p),t}(e))),N(t,["parts"],e)}const r=P(e,["role"]);return null!=r&&N(t,["role"],r),t}function Qn(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["src"]);null!=o&&N(n,["batch","inputConfig"],function(e,t){const n={};if(void 0!==P(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==P(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==P(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=P(t,["fileName"]);null!=r&&N(n,["fileName"],r);const o=P(t,["inlinedRequests"]);if(null!=o){let t=o;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["request","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>Kn(e))),N(n,["request","contents"],e)}const i=P(t,["metadata"]);null!=i&&N(n,["metadata"],i);const l=P(t,["config"]);return null!=l&&N(n,["request","generationConfig"],function(e,t,n){const r={},o=P(t,["systemInstruction"]);void 0!==n&&null!=o&&N(n,["systemInstruction"],Kn(An(o)));const i=P(t,["temperature"]);null!=i&&N(r,["temperature"],i);const l=P(t,["topP"]);null!=l&&N(r,["topP"],l);const a=P(t,["topK"]);null!=a&&N(r,["topK"],a);const s=P(t,["candidateCount"]);null!=s&&N(r,["candidateCount"],s);const u=P(t,["maxOutputTokens"]);null!=u&&N(r,["maxOutputTokens"],u);const c=P(t,["stopSequences"]);null!=c&&N(r,["stopSequences"],c);const d=P(t,["responseLogprobs"]);null!=d&&N(r,["responseLogprobs"],d);const p=P(t,["logprobs"]);null!=p&&N(r,["logprobs"],p);const f=P(t,["presencePenalty"]);null!=f&&N(r,["presencePenalty"],f);const h=P(t,["frequencyPenalty"]);null!=h&&N(r,["frequencyPenalty"],h);const m=P(t,["seed"]);null!=m&&N(r,["seed"],m);const g=P(t,["responseMimeType"]);null!=g&&N(r,["responseMimeType"],g);const y=P(t,["responseSchema"]);null!=y&&N(r,["responseSchema"],Pn(y));const v=P(t,["responseJsonSchema"]);if(null!=v&&N(r,["responseJsonSchema"],v),void 0!==P(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==P(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=P(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["category"]);if(null!=n&&N(t,["category"],n),void 0!==P(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=P(e,["threshold"]);return null!=r&&N(t,["threshold"],r),t}(e))),N(n,["safetySettings"],e)}const E=P(t,["tools"]);if(void 0!==n&&null!=E){let e=Mn(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["functionDeclarations"],e)}if(void 0!==P(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(e,["googleSearchRetrieval"]);null!=r&&N(t,["googleSearchRetrieval"],r);const o=P(e,["computerUse"]);null!=o&&N(t,["computerUse"],o);const i=P(e,["fileSearch"]);null!=i&&N(t,["fileSearch"],i);const l=P(e,["codeExecution"]);if(null!=l&&N(t,["codeExecution"],l),void 0!==P(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=P(e,["googleMaps"]);null!=a&&N(t,["googleMaps"],function(e){const t={};if(void 0!==P(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=P(e,["enableWidget"]);return null!=n&&N(t,["enableWidget"],n),t}(a));const s=P(e,["googleSearch"]);null!=s&&N(t,["googleSearch"],function(e){const t={};if(void 0!==P(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==P(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=P(e,["timeRangeFilter"]);return null!=n&&N(t,["timeRangeFilter"],n),t}(s));const u=P(e,["urlContext"]);return null!=u&&N(t,["urlContext"],u),t}(Dn(e)))),N(n,["tools"],e)}const S=P(t,["toolConfig"]);if(void 0!==n&&null!=S&&N(n,["toolConfig"],function(e){const t={},n=P(e,["functionCallingConfig"]);null!=n&&N(t,["functionCallingConfig"],function(e){const t={},n=P(e,["mode"]);null!=n&&N(t,["mode"],n);const r=P(e,["allowedFunctionNames"]);if(null!=r&&N(t,["allowedFunctionNames"],r),void 0!==P(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=P(e,["retrievalConfig"]);return null!=r&&N(t,["retrievalConfig"],r),t}(S)),void 0!==P(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=P(t,["cachedContent"]);void 0!==n&&null!=_&&N(n,["cachedContent"],Ln(e,_));const w=P(t,["responseModalities"]);null!=w&&N(r,["responseModalities"],w);const T=P(t,["mediaResolution"]);null!=T&&N(r,["mediaResolution"],T);const C=P(t,["speechConfig"]);if(null!=C&&N(r,["speechConfig"],Rn(C)),void 0!==P(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=P(t,["thinkingConfig"]);null!=I&&N(r,["thinkingConfig"],I);const A=P(t,["imageConfig"]);null!=A&&N(r,["imageConfig"],function(e){const t={},n=P(e,["aspectRatio"]);null!=n&&N(t,["aspectRatio"],n);const r=P(e,["imageSize"]);if(null!=r&&N(t,["imageSize"],r),void 0!==P(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==P(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const O=P(t,["enableEnhancedCivicAnswers"]);return null!=O&&N(r,["enableEnhancedCivicAnswers"],O),r}(e,l,P(n,["request"],{}))),n}(e,t))),N(n,["requests","requests"],t)}return n}(e,Vn(e,o)));const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["displayName"]);if(void 0!==t&&null!=n&&N(t,["batch","displayName"],n),void 0!==P(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(i,n),n}function Xn(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["model"],gn(e,r));const o=P(t,["src"]);null!=o&&N(n,["inputConfig"],function(e){const t={},n=P(e,["format"]);null!=n&&N(t,["instancesFormat"],n);const r=P(e,["gcsUri"]);null!=r&&N(t,["gcsSource","uris"],r);const o=P(e,["bigqueryUri"]);if(null!=o&&N(t,["bigquerySource","inputUri"],o),void 0!==P(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==P(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(Vn(e,o)));const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["displayName"]);void 0!==t&&null!=n&&N(t,["displayName"],n);const r=P(e,["dest"]);void 0!==t&&null!=r&&N(t,["outputConfig"],function(e){const t={},n=P(e,["format"]);null!=n&&N(t,["predictionsFormat"],n);const r=P(e,["gcsUri"]);null!=r&&N(t,["gcsDestination","outputUriPrefix"],r);const o=P(e,["bigqueryUri"]);if(null!=o&&N(t,["bigqueryDestination","outputUri"],o),void 0!==P(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==P(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==P(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r)))}(i,n),n}(qt=jt||(jt={})).PAGED_ITEM_BATCH_JOBS="batchJobs",qt.PAGED_ITEM_MODELS="models",qt.PAGED_ITEM_TUNING_JOBS="tuningJobs",qt.PAGED_ITEM_FILES="files",qt.PAGED_ITEM_CACHED_CONTENTS="cachedContents",qt.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",qt.PAGED_ITEM_DOCUMENTS="documents";class Zn{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let i={config:{}};i=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class er extends O{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Zn(jt.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=Qn(this.apiClient,e),n=k("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,o=r.requests,i=[];for(const l of o){const e=Object.assign({},l);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}i.push(e)}return r.requests=i,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),o=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!o)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${o}_dest_${r}`}}return n}async createInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Xn(this.apiClient,e);return l=k("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yn(e))}{const t=Qn(this.apiClient,e);return l=k("{model}:batchGenerateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Wn(e))}}async createEmbeddingsInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["src"]);null!=o&&N(n,["batch","inputConfig"],function(e,t){const n={},r=P(t,["fileName"]);null!=r&&N(n,["file_name"],r);const o=P(t,["inlinedRequests"]);return null!=o&&N(n,["requests"],function(e,t){const n={},r=P(t,["contents"]);if(null!=r){let t=On(e,r);Array.isArray(t)&&(t=t.map(e=>e)),N(n,["requests[]","request","content"],t)}const o=P(t,["config"]);return null!=o&&(N(n,["_self"],function(e,t){const n=P(e,["taskType"]);void 0!==t&&null!=n&&N(t,["requests[]","taskType"],n);const r=P(e,["title"]);void 0!==t&&null!=r&&N(t,["requests[]","title"],r);const o=P(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&N(t,["requests[]","outputDimensionality"],o),void 0!==P(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==P(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(o,n)),function(e){for(const[t,n]of Object.entries({"requests[].*":"requests[].request.*"})){const r=t.split("."),o=n.split("."),i=new Set;let l=-1;for(let e=0;e<r.length;e++)if("*"===r[e]){l=e;break}if(-1!==l&&o.length>l)for(let e=l;e<o.length;e++){const t=o[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||i.add(t)}R(e,r,o,0,i)}}(n)),n}(e,o)),n}(e,o));const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["displayName"]);void 0!==t&&null!=n&&N(t,["batch","displayName"],n)}(i,n),n}(this.apiClient,e);return o=k("{model}:asyncBatchEmbedContent",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Wn(e))}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=k("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Yn(e))}{const t=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=k("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>Wn(e))}}async cancel(e){var t,n,r,o;let i="",l={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);i=k("batchPredictionJobs/{name}:cancel",r._url),l=r._query,delete r._url,delete r._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);i=k("batches/{name}:cancel",t._url),l=t._query,delete t._url,delete t._query,await this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal})}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r);const o=P(e,["filter"]);void 0!==t&&null!=o&&N(t,["_query","filter"],o)}(n,t),t}(e);return l=k("batchPredictionJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["batchPredictionJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Yn(e))),N(t,["batchJobs"],e)}return t}(e),n=new pn;return Object.assign(n,t),n})}{const t=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);if(void 0!==t&&null!=r&&N(t,["_query","pageToken"],r),void 0!==P(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}(e);return l=k("batches",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["operations"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>Wn(e))),N(t,["batchJobs"],e)}return t}(e),n=new pn;return Object.assign(n,t),n})}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=k("batchPredictionJobs/{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);return null!=i&&N(t,["error"],i),t}(e))}{const t=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],$n(e,r)),n}(this.apiClient,e);return l=k("batches/{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);return null!=i&&N(t,["error"],i),t}(e))}}}function tr(e){const t={},n=P(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["mediaResolution"]);null!=n&&N(t,["mediaResolution"],n);const r=P(e,["codeExecutionResult"]);null!=r&&N(t,["codeExecutionResult"],r);const o=P(e,["executableCode"]);null!=o&&N(t,["executableCode"],o);const i=P(e,["fileData"]);null!=i&&N(t,["fileData"],function(e){const t={};if(void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=P(e,["fileUri"]);null!=n&&N(t,["fileUri"],n);const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(i));const l=P(e,["functionCall"]);null!=l&&N(t,["functionCall"],function(e){const t={},n=P(e,["id"]);null!=n&&N(t,["id"],n);const r=P(e,["args"]);null!=r&&N(t,["args"],r);const o=P(e,["name"]);if(null!=o&&N(t,["name"],o),void 0!==P(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==P(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=P(e,["functionResponse"]);null!=a&&N(t,["functionResponse"],a);const s=P(e,["inlineData"]);null!=s&&N(t,["inlineData"],function(e){const t={},n=P(e,["data"]);if(null!=n&&N(t,["data"],n),void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(s));const u=P(e,["text"]);null!=u&&N(t,["text"],u);const c=P(e,["thought"]);null!=c&&N(t,["thought"],c);const d=P(e,["thoughtSignature"]);null!=d&&N(t,["thoughtSignature"],d);const p=P(e,["videoMetadata"]);return null!=p&&N(t,["videoMetadata"],p),t}(e))),N(t,["parts"],e)}const r=P(e,["role"]);return null!=r&&N(t,["role"],r),t}class nr extends O{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Zn(jt.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["model"],yn(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["ttl"]);void 0!==t&&null!=n&&N(t,["ttl"],n);const r=P(e,["expireTime"]);void 0!==t&&null!=r&&N(t,["expireTime"],r);const o=P(e,["displayName"]);void 0!==t&&null!=o&&N(t,["displayName"],o);const i=P(e,["contents"]);if(void 0!==t&&null!=i){let e=kn(i);Array.isArray(e)&&(e=e.map(e=>e)),N(t,["contents"],e)}const l=P(e,["systemInstruction"]);void 0!==t&&null!=l&&N(t,["systemInstruction"],An(l));const a=P(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==P(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=P(e,["description"]);null!=n&&N(t,["description"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["parameters"]);null!=o&&N(t,["parameters"],o);const i=P(e,["parametersJsonSchema"]);null!=i&&N(t,["parametersJsonSchema"],i);const l=P(e,["response"]);null!=l&&N(t,["response"],l);const a=P(e,["responseJsonSchema"]);return null!=a&&N(t,["responseJsonSchema"],a),t}(e))),N(t,["functionDeclarations"],e)}const r=P(e,["retrieval"]);null!=r&&N(t,["retrieval"],r);const o=P(e,["googleSearchRetrieval"]);null!=o&&N(t,["googleSearchRetrieval"],o);const i=P(e,["computerUse"]);if(null!=i&&N(t,["computerUse"],i),void 0!==P(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=P(e,["codeExecution"]);null!=l&&N(t,["codeExecution"],l);const a=P(e,["enterpriseWebSearch"]);null!=a&&N(t,["enterpriseWebSearch"],a);const s=P(e,["googleMaps"]);null!=s&&N(t,["googleMaps"],s);const u=P(e,["googleSearch"]);null!=u&&N(t,["googleSearch"],u);const c=P(e,["urlContext"]);return null!=c&&N(t,["urlContext"],c),t}(e))),N(t,["tools"],e)}const s=P(e,["toolConfig"]);void 0!==t&&null!=s&&N(t,["toolConfig"],s);const u=P(e,["kmsKeyName"]);void 0!==t&&null!=u&&N(t,["encryption_spec","kmsKeyName"],u)}(o,n),n}(this.apiClient,e);return l=k("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["model"],yn(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["ttl"]);void 0!==t&&null!=n&&N(t,["ttl"],n);const r=P(e,["expireTime"]);void 0!==t&&null!=r&&N(t,["expireTime"],r);const o=P(e,["displayName"]);void 0!==t&&null!=o&&N(t,["displayName"],o);const i=P(e,["contents"]);if(void 0!==t&&null!=i){let e=kn(i);Array.isArray(e)&&(e=e.map(e=>tr(e))),N(t,["contents"],e)}const l=P(e,["systemInstruction"]);void 0!==t&&null!=l&&N(t,["systemInstruction"],tr(An(l)));const a=P(e,["tools"]);if(void 0!==t&&null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["functionDeclarations"],e)}if(void 0!==P(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(e,["googleSearchRetrieval"]);null!=r&&N(t,["googleSearchRetrieval"],r);const o=P(e,["computerUse"]);null!=o&&N(t,["computerUse"],o);const i=P(e,["fileSearch"]);null!=i&&N(t,["fileSearch"],i);const l=P(e,["codeExecution"]);if(null!=l&&N(t,["codeExecution"],l),void 0!==P(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=P(e,["googleMaps"]);null!=a&&N(t,["googleMaps"],function(e){const t={};if(void 0!==P(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=P(e,["enableWidget"]);return null!=n&&N(t,["enableWidget"],n),t}(a));const s=P(e,["googleSearch"]);null!=s&&N(t,["googleSearch"],function(e){const t={};if(void 0!==P(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==P(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=P(e,["timeRangeFilter"]);return null!=n&&N(t,["timeRangeFilter"],n),t}(s));const u=P(e,["urlContext"]);return null!=u&&N(t,["urlContext"],u),t}(e))),N(t,["tools"],e)}const s=P(e,["toolConfig"]);if(void 0!==t&&null!=s&&N(t,["toolConfig"],function(e){const t={},n=P(e,["functionCallingConfig"]);null!=n&&N(t,["functionCallingConfig"],function(e){const t={},n=P(e,["mode"]);null!=n&&N(t,["mode"],n);const r=P(e,["allowedFunctionNames"]);if(null!=r&&N(t,["allowedFunctionNames"],r),void 0!==P(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=P(e,["retrievalConfig"]);return null!=r&&N(t,["retrievalConfig"],r),t}(s)),void 0!==P(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.")}(o,n),n}(this.apiClient,e);return l=k("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],Ln(e,r)),n}(this.apiClient,e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],Ln(e,r)),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],Ln(e,r)),n}(this.apiClient,e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new nn;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["name"]);return null!=r&&N(n,["_url","name"],Ln(e,r)),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new nn;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["name"]);null!=r&&N(n,["_url","name"],Ln(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["ttl"]);void 0!==t&&null!=n&&N(t,["ttl"],n);const r=P(e,["expireTime"]);void 0!==t&&null!=r&&N(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>e)}{const t=function(e,t){const n={},r=P(t,["name"]);null!=r&&N(n,["_url","name"],Ln(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["ttl"]);void 0!==t&&null!=n&&N(t,["ttl"],n);const r=P(e,["expireTime"]);void 0!==t&&null!=r&&N(t,["expireTime"],r)}(o,n),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>e)}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r)}(n,t),t}(e);return l=k("cachedContents",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["cachedContents"],e)}return t}(e),n=new rn;return Object.assign(n,t),n})}{const t=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r)}(n,t),t}(e);return l=k("cachedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["cachedContents"],e)}return t}(e),n=new rn;return Object.assign(n,t),n})}}}function rr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function or(e){return this instanceof or?(this.v=e,this):new or(e)}function ir(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function l(e,t){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||a(e,t)})},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof or?Promise.resolve(n.value.v).then(s,u):c(i[0][2],n)}catch(r){c(i[0][3],r)}var n}function s(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function lr(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}function ar(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&sr(n)}function sr(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function ur(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!sr(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class cr{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new dr(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class dr{constructor(e,t,n,r={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=An(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,l=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,s=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(s))&&void 0!==o?o:[]);const c=l?[l]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=An(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const o=await r;return this.processStreamResponse(o,n)}getHistory(e=!1){const t=e?ur(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return ir(this,arguments,function*(){var n,r,o,i,l,a;const s=[];try{for(var u,c=!0,d=lr(e);!(n=(u=yield or(d.next())).done);c=!0){i=u.value,c=!1;const e=i;if(ar(e)){const t=null===(a=null===(l=e.candidates)||void 0===l?void 0:l[0])||void 0===a?void 0:a.content;void 0!==t&&s.push(t)}yield yield or(e)}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield or(o.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,s)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...ur(n)):this.history.push(e),this.history.push(...r)}}class pr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,pr.prototype)}}class fr extends O{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Zn(jt.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r)}(n,t),t}(e);return o=k("files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["files"],e)}return t}(e),n=new un;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["file"]);return null!=n&&N(t,["file"],n),t}(e);return o=k("upload/v1beta/files",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new cn;return Object.assign(n,t),n})}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","file"],jn(n)),t}(e);return o=k("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","file"],jn(n)),t}(e);return o=k("files/{file}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new dn;return Object.assign(n,t),n})}}}function hr(e){const t={},n=P(e,["data"]);if(null!=n&&N(t,["data"],n),void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}function mr(e,t){const n=P(e,["generationConfig"]);void 0!==t&&null!=n&&N(t,["setup","generationConfig"],n);const r=P(e,["responseModalities"]);void 0!==t&&null!=r&&N(t,["setup","generationConfig","responseModalities"],r);const o=P(e,["temperature"]);void 0!==t&&null!=o&&N(t,["setup","generationConfig","temperature"],o);const i=P(e,["topP"]);void 0!==t&&null!=i&&N(t,["setup","generationConfig","topP"],i);const l=P(e,["topK"]);void 0!==t&&null!=l&&N(t,["setup","generationConfig","topK"],l);const a=P(e,["maxOutputTokens"]);void 0!==t&&null!=a&&N(t,["setup","generationConfig","maxOutputTokens"],a);const s=P(e,["mediaResolution"]);void 0!==t&&null!=s&&N(t,["setup","generationConfig","mediaResolution"],s);const u=P(e,["seed"]);void 0!==t&&null!=u&&N(t,["setup","generationConfig","seed"],u);const c=P(e,["speechConfig"]);void 0!==t&&null!=c&&N(t,["setup","generationConfig","speechConfig"],xn(c));const d=P(e,["thinkingConfig"]);void 0!==t&&null!=d&&N(t,["setup","generationConfig","thinkingConfig"],d);const p=P(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&N(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=P(e,["systemInstruction"]);void 0!==t&&null!=f&&N(t,["setup","systemInstruction"],function(e){const t={},n=P(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["mediaResolution"]);null!=n&&N(t,["mediaResolution"],n);const r=P(e,["codeExecutionResult"]);null!=r&&N(t,["codeExecutionResult"],r);const o=P(e,["executableCode"]);null!=o&&N(t,["executableCode"],o);const i=P(e,["fileData"]);null!=i&&N(t,["fileData"],function(e){const t={};if(void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=P(e,["fileUri"]);null!=n&&N(t,["fileUri"],n);const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(i));const l=P(e,["functionCall"]);null!=l&&N(t,["functionCall"],function(e){const t={},n=P(e,["id"]);null!=n&&N(t,["id"],n);const r=P(e,["args"]);null!=r&&N(t,["args"],r);const o=P(e,["name"]);if(null!=o&&N(t,["name"],o),void 0!==P(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==P(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=P(e,["functionResponse"]);null!=a&&N(t,["functionResponse"],a);const s=P(e,["inlineData"]);null!=s&&N(t,["inlineData"],hr(s));const u=P(e,["text"]);null!=u&&N(t,["text"],u);const c=P(e,["thought"]);null!=c&&N(t,["thought"],c);const d=P(e,["thoughtSignature"]);null!=d&&N(t,["thoughtSignature"],d);const p=P(e,["videoMetadata"]);return null!=p&&N(t,["videoMetadata"],p),t}(e))),N(t,["parts"],e)}const r=P(e,["role"]);return null!=r&&N(t,["role"],r),t}(An(f)));const h=P(e,["tools"]);if(void 0!==t&&null!=h){let e=Mn(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["functionDeclarations"],e)}if(void 0!==P(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(e,["googleSearchRetrieval"]);null!=r&&N(t,["googleSearchRetrieval"],r);const o=P(e,["computerUse"]);null!=o&&N(t,["computerUse"],o);const i=P(e,["fileSearch"]);null!=i&&N(t,["fileSearch"],i);const l=P(e,["codeExecution"]);if(null!=l&&N(t,["codeExecution"],l),void 0!==P(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=P(e,["googleMaps"]);null!=a&&N(t,["googleMaps"],function(e){const t={};if(void 0!==P(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=P(e,["enableWidget"]);return null!=n&&N(t,["enableWidget"],n),t}(a));const s=P(e,["googleSearch"]);null!=s&&N(t,["googleSearch"],function(e){const t={};if(void 0!==P(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==P(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=P(e,["timeRangeFilter"]);return null!=n&&N(t,["timeRangeFilter"],n),t}(s));const u=P(e,["urlContext"]);return null!=u&&N(t,["urlContext"],u),t}(Dn(e)))),N(t,["setup","tools"],e)}const m=P(e,["sessionResumption"]);void 0!==t&&null!=m&&N(t,["setup","sessionResumption"],function(e){const t={},n=P(e,["handle"]);if(null!=n&&N(t,["handle"],n),void 0!==P(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=P(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&N(t,["setup","inputAudioTranscription"],g);const y=P(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&N(t,["setup","outputAudioTranscription"],y);const v=P(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&N(t,["setup","realtimeInputConfig"],v);const b=P(e,["contextWindowCompression"]);void 0!==t&&null!=b&&N(t,["setup","contextWindowCompression"],b);const E=P(e,["proactivity"]);if(void 0!==t&&null!=E&&N(t,["setup","proactivity"],E),void 0!==P(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function gr(e){const t={},n=P(e,["media"]);if(null!=n){let e=vn(n);Array.isArray(e)&&(e=e.map(e=>hr(e))),N(t,["mediaChunks"],e)}const r=P(e,["audio"]);null!=r&&N(t,["audio"],hr(Sn(r)));const o=P(e,["audioStreamEnd"]);null!=o&&N(t,["audioStreamEnd"],o);const i=P(e,["video"]);null!=i&&N(t,["video"],hr(En(i)));const l=P(e,["text"]);null!=l&&N(t,["text"],l);const a=P(e,["activityStart"]);null!=a&&N(t,["activityStart"],a);const s=P(e,["activityEnd"]);return null!=s&&N(t,["activityEnd"],s),t}function yr(e){const t={},n=P(e,["media"]);if(null!=n){let e=vn(n);Array.isArray(e)&&(e=e.map(e=>e)),N(t,["mediaChunks"],e)}const r=P(e,["audio"]);null!=r&&N(t,["audio"],Sn(r));const o=P(e,["audioStreamEnd"]);null!=o&&N(t,["audioStreamEnd"],o);const i=P(e,["video"]);null!=i&&N(t,["video"],En(i));const l=P(e,["text"]);null!=l&&N(t,["text"],l);const a=P(e,["activityStart"]);null!=a&&N(t,["activityStart"],a);const s=P(e,["activityEnd"]);return null!=s&&N(t,["activityEnd"],s),t}function vr(e){const t={},n=P(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["mediaResolution"]);null!=n&&N(t,["mediaResolution"],n);const r=P(e,["codeExecutionResult"]);null!=r&&N(t,["codeExecutionResult"],r);const o=P(e,["executableCode"]);null!=o&&N(t,["executableCode"],o);const i=P(e,["fileData"]);null!=i&&N(t,["fileData"],function(e){const t={};if(void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=P(e,["fileUri"]);null!=n&&N(t,["fileUri"],n);const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(i));const l=P(e,["functionCall"]);null!=l&&N(t,["functionCall"],function(e){const t={},n=P(e,["id"]);null!=n&&N(t,["id"],n);const r=P(e,["args"]);null!=r&&N(t,["args"],r);const o=P(e,["name"]);if(null!=o&&N(t,["name"],o),void 0!==P(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==P(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=P(e,["functionResponse"]);null!=a&&N(t,["functionResponse"],a);const s=P(e,["inlineData"]);null!=s&&N(t,["inlineData"],function(e){const t={},n=P(e,["data"]);if(null!=n&&N(t,["data"],n),void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(s));const u=P(e,["text"]);null!=u&&N(t,["text"],u);const c=P(e,["thought"]);null!=c&&N(t,["thought"],c);const d=P(e,["thoughtSignature"]);null!=d&&N(t,["thoughtSignature"],d);const p=P(e,["videoMetadata"]);return null!=p&&N(t,["videoMetadata"],p),t}(e))),N(t,["parts"],e)}const r=P(e,["role"]);return null!=r&&N(t,["role"],r),t}function br(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>vr(e))),N(n,["contents"],e)}const i=P(t,["config"]);return null!=i&&N(n,["generationConfig"],function(e,t,n){const r={},o=P(t,["systemInstruction"]);void 0!==n&&null!=o&&N(n,["systemInstruction"],vr(An(o)));const i=P(t,["temperature"]);null!=i&&N(r,["temperature"],i);const l=P(t,["topP"]);null!=l&&N(r,["topP"],l);const a=P(t,["topK"]);null!=a&&N(r,["topK"],a);const s=P(t,["candidateCount"]);null!=s&&N(r,["candidateCount"],s);const u=P(t,["maxOutputTokens"]);null!=u&&N(r,["maxOutputTokens"],u);const c=P(t,["stopSequences"]);null!=c&&N(r,["stopSequences"],c);const d=P(t,["responseLogprobs"]);null!=d&&N(r,["responseLogprobs"],d);const p=P(t,["logprobs"]);null!=p&&N(r,["logprobs"],p);const f=P(t,["presencePenalty"]);null!=f&&N(r,["presencePenalty"],f);const h=P(t,["frequencyPenalty"]);null!=h&&N(r,["frequencyPenalty"],h);const m=P(t,["seed"]);null!=m&&N(r,["seed"],m);const g=P(t,["responseMimeType"]);null!=g&&N(r,["responseMimeType"],g);const y=P(t,["responseSchema"]);null!=y&&N(r,["responseSchema"],Pn(y));const v=P(t,["responseJsonSchema"]);if(null!=v&&N(r,["responseJsonSchema"],v),void 0!==P(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==P(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=P(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["category"]);if(null!=n&&N(t,["category"],n),void 0!==P(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=P(e,["threshold"]);return null!=r&&N(t,["threshold"],r),t}(e))),N(n,["safetySettings"],e)}const E=P(t,["tools"]);if(void 0!==n&&null!=E){let e=Mn(E);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["functionDeclarations"],e)}if(void 0!==P(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(e,["googleSearchRetrieval"]);null!=r&&N(t,["googleSearchRetrieval"],r);const o=P(e,["computerUse"]);null!=o&&N(t,["computerUse"],o);const i=P(e,["fileSearch"]);null!=i&&N(t,["fileSearch"],i);const l=P(e,["codeExecution"]);if(null!=l&&N(t,["codeExecution"],l),void 0!==P(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=P(e,["googleMaps"]);null!=a&&N(t,["googleMaps"],function(e){const t={};if(void 0!==P(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=P(e,["enableWidget"]);return null!=n&&N(t,["enableWidget"],n),t}(a));const s=P(e,["googleSearch"]);null!=s&&N(t,["googleSearch"],function(e){const t={};if(void 0!==P(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==P(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=P(e,["timeRangeFilter"]);return null!=n&&N(t,["timeRangeFilter"],n),t}(s));const u=P(e,["urlContext"]);return null!=u&&N(t,["urlContext"],u),t}(Dn(e)))),N(n,["tools"],e)}const S=P(t,["toolConfig"]);if(void 0!==n&&null!=S&&N(n,["toolConfig"],function(e){const t={},n=P(e,["functionCallingConfig"]);null!=n&&N(t,["functionCallingConfig"],function(e){const t={},n=P(e,["mode"]);null!=n&&N(t,["mode"],n);const r=P(e,["allowedFunctionNames"]);if(null!=r&&N(t,["allowedFunctionNames"],r),void 0!==P(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=P(e,["retrievalConfig"]);return null!=r&&N(t,["retrievalConfig"],r),t}(S)),void 0!==P(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=P(t,["cachedContent"]);void 0!==n&&null!=_&&N(n,["cachedContent"],Ln(e,_));const w=P(t,["responseModalities"]);null!=w&&N(r,["responseModalities"],w);const T=P(t,["mediaResolution"]);null!=T&&N(r,["mediaResolution"],T);const C=P(t,["speechConfig"]);if(null!=C&&N(r,["speechConfig"],Rn(C)),void 0!==P(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=P(t,["thinkingConfig"]);null!=I&&N(r,["thinkingConfig"],I);const A=P(t,["imageConfig"]);null!=A&&N(r,["imageConfig"],function(e){const t={},n=P(e,["aspectRatio"]);null!=n&&N(t,["aspectRatio"],n);const r=P(e,["imageSize"]);if(null!=r&&N(t,["imageSize"],r),void 0!==P(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==P(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(A));const O=P(t,["enableEnhancedCivicAnswers"]);return null!=O&&N(r,["enableEnhancedCivicAnswers"],O),r}(e,i,n)),n}function Er(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>e)),N(n,["contents"],e)}const i=P(t,["config"]);return null!=i&&N(n,["generationConfig"],function(e,t,n){const r={},o=P(t,["systemInstruction"]);void 0!==n&&null!=o&&N(n,["systemInstruction"],An(o));const i=P(t,["temperature"]);null!=i&&N(r,["temperature"],i);const l=P(t,["topP"]);null!=l&&N(r,["topP"],l);const a=P(t,["topK"]);null!=a&&N(r,["topK"],a);const s=P(t,["candidateCount"]);null!=s&&N(r,["candidateCount"],s);const u=P(t,["maxOutputTokens"]);null!=u&&N(r,["maxOutputTokens"],u);const c=P(t,["stopSequences"]);null!=c&&N(r,["stopSequences"],c);const d=P(t,["responseLogprobs"]);null!=d&&N(r,["responseLogprobs"],d);const p=P(t,["logprobs"]);null!=p&&N(r,["logprobs"],p);const f=P(t,["presencePenalty"]);null!=f&&N(r,["presencePenalty"],f);const h=P(t,["frequencyPenalty"]);null!=h&&N(r,["frequencyPenalty"],h);const m=P(t,["seed"]);null!=m&&N(r,["seed"],m);const g=P(t,["responseMimeType"]);null!=g&&N(r,["responseMimeType"],g);const y=P(t,["responseSchema"]);null!=y&&N(r,["responseSchema"],Pn(y));const v=P(t,["responseJsonSchema"]);null!=v&&N(r,["responseJsonSchema"],v);const b=P(t,["routingConfig"]);null!=b&&N(r,["routingConfig"],b);const E=P(t,["modelSelectionConfig"]);null!=E&&N(r,["modelConfig"],E);const S=P(t,["safetySettings"]);if(void 0!==n&&null!=S){let e=S;Array.isArray(e)&&(e=e.map(e=>e)),N(n,["safetySettings"],e)}const _=P(t,["tools"]);if(void 0!==n&&null!=_){let e=Mn(_);Array.isArray(e)&&(e=e.map(e=>xr(Dn(e)))),N(n,["tools"],e)}const w=P(t,["toolConfig"]);void 0!==n&&null!=w&&N(n,["toolConfig"],w);const T=P(t,["labels"]);void 0!==n&&null!=T&&N(n,["labels"],T);const C=P(t,["cachedContent"]);void 0!==n&&null!=C&&N(n,["cachedContent"],Ln(e,C));const I=P(t,["responseModalities"]);null!=I&&N(r,["responseModalities"],I);const A=P(t,["mediaResolution"]);null!=A&&N(r,["mediaResolution"],A);const O=P(t,["speechConfig"]);null!=O&&N(r,["speechConfig"],Rn(O));const k=P(t,["audioTimestamp"]);null!=k&&N(r,["audioTimestamp"],k);const R=P(t,["thinkingConfig"]);null!=R&&N(r,["thinkingConfig"],R);const x=P(t,["imageConfig"]);if(null!=x&&N(r,["imageConfig"],function(e){const t={},n=P(e,["aspectRatio"]);null!=n&&N(t,["aspectRatio"],n);const r=P(e,["imageSize"]);null!=r&&N(t,["imageSize"],r);const o=P(e,["outputMimeType"]);null!=o&&N(t,["imageOutputOptions","mimeType"],o);const i=P(e,["outputCompressionQuality"]);return null!=i&&N(t,["imageOutputOptions","compressionQuality"],i),t}(x)),void 0!==P(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}(e,i,n)),n}function Sr(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["content"]);null!=n&&N(t,["content"],n);const r=P(e,["citationMetadata"]);null!=r&&N(t,["citationMetadata"],function(e){const t={},n=P(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["citations"],e)}return t}(r));const o=P(e,["tokenCount"]);null!=o&&N(t,["tokenCount"],o);const i=P(e,["finishReason"]);null!=i&&N(t,["finishReason"],i);const l=P(e,["avgLogprobs"]);null!=l&&N(t,["avgLogprobs"],l);const a=P(e,["groundingMetadata"]);null!=a&&N(t,["groundingMetadata"],a);const s=P(e,["index"]);null!=s&&N(t,["index"],s);const u=P(e,["logprobsResult"]);null!=u&&N(t,["logprobsResult"],u);const c=P(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["safetyRatings"],e)}const d=P(e,["urlContextMetadata"]);return null!=d&&N(t,["urlContextMetadata"],d),t}(e))),N(t,["candidates"],e)}const o=P(e,["modelVersion"]);null!=o&&N(t,["modelVersion"],o);const i=P(e,["promptFeedback"]);null!=i&&N(t,["promptFeedback"],i);const l=P(e,["responseId"]);null!=l&&N(t,["responseId"],l);const a=P(e,["usageMetadata"]);return null!=a&&N(t,["usageMetadata"],a),t}function _r(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["candidates"],e)}const o=P(e,["createTime"]);null!=o&&N(t,["createTime"],o);const i=P(e,["modelVersion"]);null!=i&&N(t,["modelVersion"],i);const l=P(e,["promptFeedback"]);null!=l&&N(t,["promptFeedback"],l);const a=P(e,["responseId"]);null!=a&&N(t,["responseId"],a);const s=P(e,["usageMetadata"]);return null!=s&&N(t,["usageMetadata"],s),t}function wr(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["prompt"]);null!=o&&N(n,["instances[0]","prompt"],o);const i=P(t,["image"]);null!=i&&N(n,["instances[0]","image"],Ar(i));const l=P(t,["video"]);null!=l&&N(n,["instances[0]","video"],Dr(l));const a=P(t,["source"]);null!=a&&function(e,t){const n=P(e,["prompt"]);void 0!==t&&null!=n&&N(t,["instances[0]","prompt"],n);const r=P(e,["image"]);void 0!==t&&null!=r&&N(t,["instances[0]","image"],Ar(r));const o=P(e,["video"]);void 0!==t&&null!=o&&N(t,["instances[0]","video"],Dr(o))}(a,n);const s=P(t,["config"]);return null!=s&&function(e,t){const n=P(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&N(t,["parameters","sampleCount"],n),void 0!==P(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==P(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=P(e,["durationSeconds"]);if(void 0!==t&&null!=r&&N(t,["parameters","durationSeconds"],r),void 0!==P(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=P(e,["aspectRatio"]);void 0!==t&&null!=o&&N(t,["parameters","aspectRatio"],o);const i=P(e,["resolution"]);void 0!==t&&null!=i&&N(t,["parameters","resolution"],i);const l=P(e,["personGeneration"]);if(void 0!==t&&null!=l&&N(t,["parameters","personGeneration"],l),void 0!==P(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=P(e,["negativePrompt"]);void 0!==t&&null!=a&&N(t,["parameters","negativePrompt"],a);const s=P(e,["enhancePrompt"]);if(void 0!==t&&null!=s&&N(t,["parameters","enhancePrompt"],s),void 0!==P(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=P(e,["lastFrame"]);void 0!==t&&null!=u&&N(t,["instances[0]","lastFrame"],Ar(u));const c=P(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["image"]);null!=n&&N(t,["image"],Ar(n));const r=P(e,["referenceType"]);return null!=r&&N(t,["referenceType"],r),t}(e))),N(t,["instances[0]","referenceImages"],e)}if(void 0!==P(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==P(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.")}(s,n),n}function Tr(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["prompt"]);null!=o&&N(n,["instances[0]","prompt"],o);const i=P(t,["image"]);null!=i&&N(n,["instances[0]","image"],Or(i));const l=P(t,["video"]);null!=l&&N(n,["instances[0]","video"],Mr(l));const a=P(t,["source"]);null!=a&&function(e,t){const n=P(e,["prompt"]);void 0!==t&&null!=n&&N(t,["instances[0]","prompt"],n);const r=P(e,["image"]);void 0!==t&&null!=r&&N(t,["instances[0]","image"],Or(r));const o=P(e,["video"]);void 0!==t&&null!=o&&N(t,["instances[0]","video"],Mr(o))}(a,n);const s=P(t,["config"]);return null!=s&&function(e,t){const n=P(e,["numberOfVideos"]);void 0!==t&&null!=n&&N(t,["parameters","sampleCount"],n);const r=P(e,["outputGcsUri"]);void 0!==t&&null!=r&&N(t,["parameters","storageUri"],r);const o=P(e,["fps"]);void 0!==t&&null!=o&&N(t,["parameters","fps"],o);const i=P(e,["durationSeconds"]);void 0!==t&&null!=i&&N(t,["parameters","durationSeconds"],i);const l=P(e,["seed"]);void 0!==t&&null!=l&&N(t,["parameters","seed"],l);const a=P(e,["aspectRatio"]);void 0!==t&&null!=a&&N(t,["parameters","aspectRatio"],a);const s=P(e,["resolution"]);void 0!==t&&null!=s&&N(t,["parameters","resolution"],s);const u=P(e,["personGeneration"]);void 0!==t&&null!=u&&N(t,["parameters","personGeneration"],u);const c=P(e,["pubsubTopic"]);void 0!==t&&null!=c&&N(t,["parameters","pubsubTopic"],c);const d=P(e,["negativePrompt"]);void 0!==t&&null!=d&&N(t,["parameters","negativePrompt"],d);const p=P(e,["enhancePrompt"]);void 0!==t&&null!=p&&N(t,["parameters","enhancePrompt"],p);const f=P(e,["generateAudio"]);void 0!==t&&null!=f&&N(t,["parameters","generateAudio"],f);const h=P(e,["lastFrame"]);void 0!==t&&null!=h&&N(t,["instances[0]","lastFrame"],Or(h));const m=P(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["image"]);null!=n&&N(t,["image"],Or(n));const r=P(e,["referenceType"]);return null!=r&&N(t,["referenceType"],r),t}(e))),N(t,["instances[0]","referenceImages"],e)}const g=P(e,["mask"]);void 0!==t&&null!=g&&N(t,["instances[0]","mask"],function(e){const t={},n=P(e,["image"]);null!=n&&N(t,["_self"],Or(n));const r=P(e,["maskMode"]);return null!=r&&N(t,["maskMode"],r),t}(g));const y=P(e,["compressionQuality"]);void 0!==t&&null!=y&&N(t,["parameters","compressionQuality"],y)}(s,n),n}function Cr(e){const t={},n=P(e,["_self"]);null!=n&&N(t,["image"],Ir(n));const r=P(e,["raiFilteredReason"]);null!=r&&N(t,["raiFilteredReason"],r);const o=P(e,["_self"]);null!=o&&N(t,["safetyAttributes"],Rr(o));const i=P(e,["prompt"]);return null!=i&&N(t,["enhancedPrompt"],i),t}function Ir(e){const t={},n=P(e,["gcsUri"]);null!=n&&N(t,["gcsUri"],n);const r=P(e,["bytesBase64Encoded"]);null!=r&&N(t,["imageBytes"],Fn(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["mimeType"],o),t}function Ar(e){const t={};if(void 0!==P(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=P(e,["imageBytes"]);null!=n&&N(t,["bytesBase64Encoded"],Fn(n));const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}function Or(e){const t={},n=P(e,["gcsUri"]);null!=n&&N(t,["gcsUri"],n);const r=P(e,["imageBytes"]);null!=r&&N(t,["bytesBase64Encoded"],Fn(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["mimeType"],o),t}function kr(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["displayName"]);null!=r&&N(t,["displayName"],r);const o=P(e,["description"]);null!=o&&N(t,["description"],o);const i=P(e,["version"]);null!=i&&N(t,["version"],i);const l=P(e,["_self"]);null!=l&&N(t,["tunedModelInfo"],function(e){const t={},n=P(e,["baseModel"]);null!=n&&N(t,["baseModel"],n);const r=P(e,["createTime"]);null!=r&&N(t,["createTime"],r);const o=P(e,["updateTime"]);return null!=o&&N(t,["updateTime"],o),t}(l));const a=P(e,["inputTokenLimit"]);null!=a&&N(t,["inputTokenLimit"],a);const s=P(e,["outputTokenLimit"]);null!=s&&N(t,["outputTokenLimit"],s);const u=P(e,["supportedGenerationMethods"]);null!=u&&N(t,["supportedActions"],u);const c=P(e,["temperature"]);null!=c&&N(t,["temperature"],c);const d=P(e,["maxTemperature"]);null!=d&&N(t,["maxTemperature"],d);const p=P(e,["topP"]);null!=p&&N(t,["topP"],p);const f=P(e,["topK"]);null!=f&&N(t,["topK"],f);const h=P(e,["thinking"]);return null!=h&&N(t,["thinking"],h),t}function Nr(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["displayName"]);null!=r&&N(t,["displayName"],r);const o=P(e,["description"]);null!=o&&N(t,["description"],o);const i=P(e,["versionId"]);null!=i&&N(t,["version"],i);const l=P(e,["deployedModels"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["endpoint"]);null!=n&&N(t,["name"],n);const r=P(e,["deployedModelId"]);return null!=r&&N(t,["deployedModelId"],r),t}(e))),N(t,["endpoints"],e)}const a=P(e,["labels"]);null!=a&&N(t,["labels"],a);const s=P(e,["_self"]);null!=s&&N(t,["tunedModelInfo"],function(e){const t={},n=P(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&N(t,["baseModel"],n);const r=P(e,["createTime"]);null!=r&&N(t,["createTime"],r);const o=P(e,["updateTime"]);return null!=o&&N(t,["updateTime"],o),t}(s));const u=P(e,["defaultCheckpointId"]);null!=u&&N(t,["defaultCheckpointId"],u);const c=P(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["checkpoints"],e)}return t}function Pr(e){const t={},n=P(e,["safetyAttributes","categories"]);null!=n&&N(t,["categories"],n);const r=P(e,["safetyAttributes","scores"]);null!=r&&N(t,["scores"],r);const o=P(e,["contentType"]);return null!=o&&N(t,["contentType"],o),t}function Rr(e){const t={},n=P(e,["safetyAttributes","categories"]);null!=n&&N(t,["categories"],n);const r=P(e,["safetyAttributes","scores"]);null!=r&&N(t,["scores"],r);const o=P(e,["contentType"]);return null!=o&&N(t,["contentType"],o),t}function xr(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==P(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=P(e,["description"]);null!=n&&N(t,["description"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["parameters"]);null!=o&&N(t,["parameters"],o);const i=P(e,["parametersJsonSchema"]);null!=i&&N(t,["parametersJsonSchema"],i);const l=P(e,["response"]);null!=l&&N(t,["response"],l);const a=P(e,["responseJsonSchema"]);return null!=a&&N(t,["responseJsonSchema"],a),t}(e))),N(t,["functionDeclarations"],e)}const r=P(e,["retrieval"]);null!=r&&N(t,["retrieval"],r);const o=P(e,["googleSearchRetrieval"]);null!=o&&N(t,["googleSearchRetrieval"],o);const i=P(e,["computerUse"]);if(null!=i&&N(t,["computerUse"],i),void 0!==P(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=P(e,["codeExecution"]);null!=l&&N(t,["codeExecution"],l);const a=P(e,["enterpriseWebSearch"]);null!=a&&N(t,["enterpriseWebSearch"],a);const s=P(e,["googleMaps"]);null!=s&&N(t,["googleMaps"],s);const u=P(e,["googleSearch"]);null!=u&&N(t,["googleSearch"],u);const c=P(e,["urlContext"]);return null!=c&&N(t,["urlContext"],c),t}function Dr(e){const t={},n=P(e,["uri"]);null!=n&&N(t,["uri"],n);const r=P(e,["videoBytes"]);null!=r&&N(t,["encodedVideo"],Fn(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["encoding"],o),t}function Mr(e){const t={},n=P(e,["uri"]);null!=n&&N(t,["gcsUri"],n);const r=P(e,["videoBytes"]);null!=r&&N(t,["bytesBase64Encoded"],Fn(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["mimeType"],o),t}function Lr(e,t){const n=P(e,["mimeType"]);void 0!==t&&null!=n&&N(t,["mimeType"],n);const r=P(e,["displayName"]);void 0!==t&&null!=r&&N(t,["displayName"],r);const o=P(e,["customMetadata"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["customMetadata"],e)}const i=P(e,["chunkingConfig"]);return void 0!==t&&null!=i&&N(t,["chunkingConfig"],i),{}}const Ur="x-goog-api-client";class Fr{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,l]of Object.entries(e.queryParams))r.searchParams.append(i,String(l));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"==typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,r.toString(),e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,o=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=o}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch(o){return}const r=function e(t,n){const r=Object.assign({},t);for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const t=n[o],i=r[o];t&&"object"==typeof t&&!Array.isArray(t)&&i&&"object"==typeof i&&!Array.isArray(i)?r[o]=e(i,t):r[o]=t}return r}(n,t);e.body=JSON.stringify(r)}(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await jr(e),new Ht(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await jr(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return ir(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const i="data:",l=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:a,value:s}=yield or(n.read());if(a){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const u=r.decode(s,{stream:!0});try{const e=JSON.parse(u);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600)throw new pr({message:o,status:r})}}catch(o){if("ApiError"===o.name)throw o}t+=u;let c=-1,d=0;for(;;){c=-1,d=0;for(const e of l){const n=t.indexOf(e);-1!==n&&(-1===c||n<c)&&(c=n,d=e.length)}if(-1===c)break;const n=t.substring(0,c);t=t.substring(c+d);const r=n.trim();if(r.startsWith(i)){const t=r.substring(i.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield or(new Ht(n))}catch(o){throw new Error(`exception parsing stream chunk ${t}. ${o}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.34.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[Ur]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const l=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===l||""===l)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=l;const a={file:r},s=this.getFileName(e),u=k("upload/v1beta/files",a._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,s,a,null==t?void 0:t.httpOptions);return o.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const o=this.clientOptions.uploader,i=await o.stat(t),l=String(i.size),a=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:i.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const s=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&Lr(n,c);const d=await this.fetchUploadUrl(s,l,a,u,c,null==n?void 0:n.httpOptions);return o.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,o,i){var l;let a={};a=i||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const s=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:a});if(!s||!(null==s?void 0:s.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(l=null==s?void 0:s.headers)||void 0===l?void 0:l["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function jr(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(r);if(n>=400&&n<600)throw new pr({message:o,status:n});throw new Error(o)}}function qr(e){for(const t of e){if(Gr(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return!1}function Hr(e){var t;const n=null!==(t=e[Ur])&&void 0!==t?t:"";e[Ur]=(n+" mcp_used/unknown").trimStart()}function Gr(e){return null!==e&&"object"==typeof e&&e instanceof Vr}function zr(e){return ir(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield or(e.listTools({cursor:n}));for(const e of t.tools)yield yield or(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class Vr{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Vr(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var l,a=!0,s=(t=void 0,lr(zr(c)));!(e=(l=await s.next()).done);a=!0){r=l.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=s.return)||await n.call(s)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=zn(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const o=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:o.isError?{error:o}:o}})}return t}}class Br{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),l=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const s=new Promise(e=>{a=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new hn;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(l,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(i),c);d.connect(),await s;const p={setup:{model:gn(this.apiClient,e.model)}};return d.send(JSON.stringify(p)),new $r(d,this.apiClient)}}class $r{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=P(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=P(e,["musicGenerationConfig"]);return null!=n&&N(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Ut.PLAY)}pause(){this.sendPlaybackControl(Ut.PAUSE)}stop(){this.sendPlaybackControl(Ut.STOP)}resetContext(){this.sendPlaybackControl(Ut.RESET_CONTEXT)}close(){this.conn.close()}}class Jr{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Br(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const a=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&qr(e.config.tools)&&Hr(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${s}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${s}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new fn;let o;o=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const i=JSON.parse(o);if(e.isVertexAI()){const e=function(e){const t={},n=P(e,["setupComplete"]);null!=n&&N(t,["setupComplete"],n);const r=P(e,["serverContent"]);null!=r&&N(t,["serverContent"],r);const o=P(e,["toolCall"]);null!=o&&N(t,["toolCall"],o);const i=P(e,["toolCallCancellation"]);null!=i&&N(t,["toolCallCancellation"],i);const l=P(e,["usageMetadata"]);null!=l&&N(t,["usageMetadata"],function(e){const t={},n=P(e,["promptTokenCount"]);null!=n&&N(t,["promptTokenCount"],n);const r=P(e,["cachedContentTokenCount"]);null!=r&&N(t,["cachedContentTokenCount"],r);const o=P(e,["candidatesTokenCount"]);null!=o&&N(t,["responseTokenCount"],o);const i=P(e,["toolUsePromptTokenCount"]);null!=i&&N(t,["toolUsePromptTokenCount"],i);const l=P(e,["thoughtsTokenCount"]);null!=l&&N(t,["thoughtsTokenCount"],l);const a=P(e,["totalTokenCount"]);null!=a&&N(t,["totalTokenCount"],a);const s=P(e,["promptTokensDetails"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["promptTokensDetails"],e)}const u=P(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["cacheTokensDetails"],e)}const c=P(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["responseTokensDetails"],e)}const d=P(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["toolUsePromptTokensDetails"],e)}const p=P(e,["trafficType"]);return null!=p&&N(t,["trafficType"],p),t}(l));const a=P(e,["goAway"]);null!=a&&N(t,["goAway"],a);const s=P(e,["sessionResumptionUpdate"]);null!=s&&N(t,["sessionResumptionUpdate"],s);const u=P(e,["voiceActivityDetectionSignal"]);return null!=u&&N(t,["voiceActivityDetectionSignal"],u),t}(i);Object.assign(r,e)}else{const e=i;Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=gn(this.apiClient,e.model);this.apiClient.isVertexAI()&&v.startsWith("publishers/")&&(v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v);let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[be.AUDIO]}:e.config.responseModalities=[be.AUDIO]),null===(o=e.config)||void 0===o||o.generationConfig;const E=null!==(l=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==l?l:[],S=[];for(const w of E)if(this.isCallableTool(w)){const e=w;S.push(await e.tool())}else S.push(w);S.length>0&&(e.config.tools=S);const _={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["setup","model"],gn(e,r));const o=P(t,["config"]);return null!=o&&N(n,["config"],function(e,t){const n=P(e,["generationConfig"]);void 0!==t&&null!=n&&N(t,["setup","generationConfig"],function(e){const t={},n=P(e,["modelSelectionConfig"]);null!=n&&N(t,["modelConfig"],n);const r=P(e,["responseJsonSchema"]);null!=r&&N(t,["responseJsonSchema"],r);const o=P(e,["audioTimestamp"]);null!=o&&N(t,["audioTimestamp"],o);const i=P(e,["candidateCount"]);null!=i&&N(t,["candidateCount"],i);const l=P(e,["enableAffectiveDialog"]);null!=l&&N(t,["enableAffectiveDialog"],l);const a=P(e,["frequencyPenalty"]);null!=a&&N(t,["frequencyPenalty"],a);const s=P(e,["logprobs"]);null!=s&&N(t,["logprobs"],s);const u=P(e,["maxOutputTokens"]);null!=u&&N(t,["maxOutputTokens"],u);const c=P(e,["mediaResolution"]);null!=c&&N(t,["mediaResolution"],c);const d=P(e,["presencePenalty"]);null!=d&&N(t,["presencePenalty"],d);const p=P(e,["responseLogprobs"]);null!=p&&N(t,["responseLogprobs"],p);const f=P(e,["responseMimeType"]);null!=f&&N(t,["responseMimeType"],f);const h=P(e,["responseModalities"]);null!=h&&N(t,["responseModalities"],h);const m=P(e,["responseSchema"]);null!=m&&N(t,["responseSchema"],m);const g=P(e,["routingConfig"]);null!=g&&N(t,["routingConfig"],g);const y=P(e,["seed"]);null!=y&&N(t,["seed"],y);const v=P(e,["speechConfig"]);null!=v&&N(t,["speechConfig"],v);const b=P(e,["stopSequences"]);null!=b&&N(t,["stopSequences"],b);const E=P(e,["temperature"]);null!=E&&N(t,["temperature"],E);const S=P(e,["thinkingConfig"]);null!=S&&N(t,["thinkingConfig"],S);const _=P(e,["topK"]);null!=_&&N(t,["topK"],_);const w=P(e,["topP"]);if(null!=w&&N(t,["topP"],w),void 0!==P(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=P(e,["responseModalities"]);void 0!==t&&null!=r&&N(t,["setup","generationConfig","responseModalities"],r);const o=P(e,["temperature"]);void 0!==t&&null!=o&&N(t,["setup","generationConfig","temperature"],o);const i=P(e,["topP"]);void 0!==t&&null!=i&&N(t,["setup","generationConfig","topP"],i);const l=P(e,["topK"]);void 0!==t&&null!=l&&N(t,["setup","generationConfig","topK"],l);const a=P(e,["maxOutputTokens"]);void 0!==t&&null!=a&&N(t,["setup","generationConfig","maxOutputTokens"],a);const s=P(e,["mediaResolution"]);void 0!==t&&null!=s&&N(t,["setup","generationConfig","mediaResolution"],s);const u=P(e,["seed"]);void 0!==t&&null!=u&&N(t,["setup","generationConfig","seed"],u);const c=P(e,["speechConfig"]);void 0!==t&&null!=c&&N(t,["setup","generationConfig","speechConfig"],xn(c));const d=P(e,["thinkingConfig"]);void 0!==t&&null!=d&&N(t,["setup","generationConfig","thinkingConfig"],d);const p=P(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&N(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=P(e,["systemInstruction"]);void 0!==t&&null!=f&&N(t,["setup","systemInstruction"],An(f));const h=P(e,["tools"]);if(void 0!==t&&null!=h){let e=Mn(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==P(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=P(e,["description"]);null!=n&&N(t,["description"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["parameters"]);null!=o&&N(t,["parameters"],o);const i=P(e,["parametersJsonSchema"]);null!=i&&N(t,["parametersJsonSchema"],i);const l=P(e,["response"]);null!=l&&N(t,["response"],l);const a=P(e,["responseJsonSchema"]);return null!=a&&N(t,["responseJsonSchema"],a),t}(e))),N(t,["functionDeclarations"],e)}const r=P(e,["retrieval"]);null!=r&&N(t,["retrieval"],r);const o=P(e,["googleSearchRetrieval"]);null!=o&&N(t,["googleSearchRetrieval"],o);const i=P(e,["computerUse"]);if(null!=i&&N(t,["computerUse"],i),void 0!==P(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=P(e,["codeExecution"]);null!=l&&N(t,["codeExecution"],l);const a=P(e,["enterpriseWebSearch"]);null!=a&&N(t,["enterpriseWebSearch"],a);const s=P(e,["googleMaps"]);null!=s&&N(t,["googleMaps"],s);const u=P(e,["googleSearch"]);null!=u&&N(t,["googleSearch"],u);const c=P(e,["urlContext"]);return null!=c&&N(t,["urlContext"],c),t}(Dn(e)))),N(t,["setup","tools"],e)}const m=P(e,["sessionResumption"]);void 0!==t&&null!=m&&N(t,["setup","sessionResumption"],m);const g=P(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&N(t,["setup","inputAudioTranscription"],g);const y=P(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&N(t,["setup","outputAudioTranscription"],y);const v=P(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&N(t,["setup","realtimeInputConfig"],v);const b=P(e,["contextWindowCompression"]);void 0!==t&&null!=b&&N(t,["setup","contextWindowCompression"],b);const E=P(e,["proactivity"]);void 0!==t&&null!=E&&N(t,["setup","proactivity"],E);const S=P(e,["explicitVadSignal"]);return void 0!==t&&null!=S&&N(t,["setup","explicitVadSignal"],S),{}}(o,n)),n}(this.apiClient,_):function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["setup","model"],gn(e,r));const o=P(t,["config"]);return null!=o&&N(n,["config"],mr(o,n)),n}(this.apiClient,_),delete b.config,y.send(JSON.stringify(b)),new Yr(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Wr={turnComplete:!0};class Yr{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=kn(t.turns),e.isVertexAI()||(r=r.map(e=>vr(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Wr),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:yr(e)}:{realtimeInput:gr(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Kr(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const l of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Qr(l)){o=!0;break}if(!o)return!0;const i=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)}function Qr(e){return"callTool"in e&&"function"==typeof e.callTool}function Xr(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(Qr(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function Zr(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class eo extends O{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const l=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Qr(e)))&&void 0!==r&&r}(e)||Kr(e.config))return await this.generateContentInternal(l);const a=Xr(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let s,u;const c=kn(l.contents),d=null!==(r=null===(n=null===(t=l.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let p=0;for(;p<d&&(s=await this.generateContentInternal(l),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Qr(r)){const e=r,t=await e.callTool(s.functionCalls);n.push(...t)}p++,u={role:"user",parts:n},l.contents=kn(l.contents),l.contents.push(t),l.contents.push(u),Zr(l.config)&&(c.push(t),c.push(u))}return Zr(l.config)&&(s.automaticFunctionCallingHistory=c),s},this.generateContentStream=async e=>{var t,n,r,o,i;if(this.maybeMoveToResponseJsonSchem(e),Kr(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const l=Xr(e);if(l.length>0){const e=l.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const a=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,s=null===(i=null===(o=null==e?void 0:e.config)||void 0===o?void 0:o.automaticFunctionCalling)||void 0===i?void 0:i.disable;if(a&&!s)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},o}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new Zn(jt.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,o,i,l;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(o=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===o?void 0:o.uri)&&(null===(l=null===(i=e.source)||void 0===i?void 0:i.video)||void 0===l?void 0:l.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map(async e=>{if(Qr(e)){const t=e;return await t.tool()}return e})),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(l.config.tools=i,e.config&&e.config.tools&&qr(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),Hr(o),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return l}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Qr(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,l=0;return function(e,t,n){return ir(this,arguments,function*(){for(var r,a,s,u,c,d;l<o;){i&&(l++,i=!1);const g=yield or(e.processParamsMaybeAddMcpUsage(n)),y=yield or(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var p,f=!0,h=(a=void 0,lr(y));!(r=(p=yield or(h.next())).done);f=!0){u=p.value,f=!1;const e=u;if(yield yield or(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(l<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield or(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){a={error:m}}finally{try{f||r||!(s=h.return)||(yield or(s.call(h)))}finally{if(a)throw a.error}}if(!(v.length>0))break;{i=!0;const e=new Gt;e.candidates=[{content:{role:"user",parts:v}}],yield yield or(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=kn(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Er(this.apiClient,e);return l=k("{model}:generateContent",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=_r(e),n=new Gt;return Object.assign(n,t),n})}{const t=br(this.apiClient,e);return l=k("{model}:generateContent",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=Sr(e),n=new Gt;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Er(this.apiClient,e);return l=k("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then(function(e){return ir(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=lr(e);!(t=(i=yield or(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=_r(yield or(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gt;Object.assign(n,t),yield yield or(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield or(r.call(a)))}finally{if(n)throw n.error}}})})}{const t=br(this.apiClient,e);return l=k("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.requestStream({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then(function(e){return ir(this,arguments,function*(){var t,n,r,o;try{for(var i,l=!0,a=lr(e);!(t=(i=yield or(a.next())).done);l=!0){o=i.value,l=!1;const e=o,t=Sr(yield or(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new Gt;Object.assign(n,t),yield yield or(n)}}catch(s){n={error:s}}finally{try{l||t||!(r=a.return)||(yield or(r.call(a)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let t=On(e,o);Array.isArray(t)&&(t=t.map(e=>e)),N(n,["instances[]","content"],t)}const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["taskType"]);void 0!==t&&null!=n&&N(t,["instances[]","task_type"],n);const r=P(e,["title"]);void 0!==t&&null!=r&&N(t,["instances[]","title"],r);const o=P(e,["outputDimensionality"]);void 0!==t&&null!=o&&N(t,["parameters","outputDimensionality"],o);const i=P(e,["mimeType"]);void 0!==t&&null!=i&&N(t,["instances[]","mimeType"],i);const l=P(e,["autoTruncate"]);void 0!==t&&null!=l&&N(t,["parameters","autoTruncate"],l)}(i,n),n}(this.apiClient,e);return l=k("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["values"]);null!=n&&N(t,["values"],n);const r=P(e,["statistics"]);return null!=r&&N(t,["statistics"],function(e){const t={},n=P(e,["truncated"]);null!=n&&N(t,["truncated"],n);const r=P(e,["token_count"]);return null!=r&&N(t,["tokenCount"],r),t}(r)),t}(e))),N(t,["embeddings"],e)}const o=P(e,["metadata"]);return null!=o&&N(t,["metadata"],o),t}(e),n=new zt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let t=On(e,o);Array.isArray(t)&&(t=t.map(e=>e)),N(n,["requests[]","content"],t)}const i=P(t,["config"]);null!=i&&function(e,t){const n=P(e,["taskType"]);void 0!==t&&null!=n&&N(t,["requests[]","taskType"],n);const r=P(e,["title"]);void 0!==t&&null!=r&&N(t,["requests[]","title"],r);const o=P(e,["outputDimensionality"]);if(void 0!==t&&null!=o&&N(t,["requests[]","outputDimensionality"],o),void 0!==P(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==P(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(i,n);const l=P(t,["model"]);return void 0!==l&&N(n,["requests[]","model"],gn(e,l)),n}(this.apiClient,e);return l=k("{model}:batchEmbedContents",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["embeddings"],e)}const o=P(e,["metadata"]);return null!=o&&N(t,["metadata"],o),t}(e),n=new zt;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["prompt"]);null!=o&&N(n,["instances[0]","prompt"],o);const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["outputGcsUri"]);void 0!==t&&null!=n&&N(t,["parameters","storageUri"],n);const r=P(e,["negativePrompt"]);void 0!==t&&null!=r&&N(t,["parameters","negativePrompt"],r);const o=P(e,["numberOfImages"]);void 0!==t&&null!=o&&N(t,["parameters","sampleCount"],o);const i=P(e,["aspectRatio"]);void 0!==t&&null!=i&&N(t,["parameters","aspectRatio"],i);const l=P(e,["guidanceScale"]);void 0!==t&&null!=l&&N(t,["parameters","guidanceScale"],l);const a=P(e,["seed"]);void 0!==t&&null!=a&&N(t,["parameters","seed"],a);const s=P(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&N(t,["parameters","safetySetting"],s);const u=P(e,["personGeneration"]);void 0!==t&&null!=u&&N(t,["parameters","personGeneration"],u);const c=P(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&N(t,["parameters","includeSafetyAttributes"],c);const d=P(e,["includeRaiReason"]);void 0!==t&&null!=d&&N(t,["parameters","includeRaiReason"],d);const p=P(e,["language"]);void 0!==t&&null!=p&&N(t,["parameters","language"],p);const f=P(e,["outputMimeType"]);void 0!==t&&null!=f&&N(t,["parameters","outputOptions","mimeType"],f);const h=P(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&N(t,["parameters","outputOptions","compressionQuality"],h);const m=P(e,["addWatermark"]);void 0!==t&&null!=m&&N(t,["parameters","addWatermark"],m);const g=P(e,["labels"]);void 0!==t&&null!=g&&N(t,["labels"],g);const y=P(e,["imageSize"]);void 0!==t&&null!=y&&N(t,["parameters","sampleImageSize"],y);const v=P(e,["enhancePrompt"]);void 0!==t&&null!=v&&N(t,["parameters","enhancePrompt"],v)}(i,n),n}(this.apiClient,e);return l=k("{model}:predict",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Cr(e))),N(t,["generatedImages"],e)}const o=P(e,["positivePromptSafetyAttributes"]);return null!=o&&N(t,["positivePromptSafetyAttributes"],Rr(o)),t}(e),n=new Vt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["prompt"]);null!=o&&N(n,["instances[0]","prompt"],o);const i=P(t,["config"]);return null!=i&&function(e,t){if(void 0!==P(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==P(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=P(e,["numberOfImages"]);void 0!==t&&null!=n&&N(t,["parameters","sampleCount"],n);const r=P(e,["aspectRatio"]);void 0!==t&&null!=r&&N(t,["parameters","aspectRatio"],r);const o=P(e,["guidanceScale"]);if(void 0!==t&&null!=o&&N(t,["parameters","guidanceScale"],o),void 0!==P(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=P(e,["safetyFilterLevel"]);void 0!==t&&null!=i&&N(t,["parameters","safetySetting"],i);const l=P(e,["personGeneration"]);void 0!==t&&null!=l&&N(t,["parameters","personGeneration"],l);const a=P(e,["includeSafetyAttributes"]);void 0!==t&&null!=a&&N(t,["parameters","includeSafetyAttributes"],a);const s=P(e,["includeRaiReason"]);void 0!==t&&null!=s&&N(t,["parameters","includeRaiReason"],s);const u=P(e,["language"]);void 0!==t&&null!=u&&N(t,["parameters","language"],u);const c=P(e,["outputMimeType"]);void 0!==t&&null!=c&&N(t,["parameters","outputOptions","mimeType"],c);const d=P(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&N(t,["parameters","outputOptions","compressionQuality"],d),void 0!==P(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==P(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const p=P(e,["imageSize"]);if(void 0!==t&&null!=p&&N(t,["parameters","sampleImageSize"],p),void 0!==P(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(i,n),n}(this.apiClient,e);return l=k("{model}:predict",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["_self"]);null!=n&&N(t,["image"],function(e){const t={},n=P(e,["bytesBase64Encoded"]);null!=n&&N(t,["imageBytes"],Fn(n));const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(n));const r=P(e,["raiFilteredReason"]);null!=r&&N(t,["raiFilteredReason"],r);const o=P(e,["_self"]);return null!=o&&N(t,["safetyAttributes"],Pr(o)),t}(e))),N(t,["generatedImages"],e)}const o=P(e,["positivePromptSafetyAttributes"]);return null!=o&&N(t,["positivePromptSafetyAttributes"],Pr(o)),t}(e),n=new Vt;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["prompt"]);null!=o&&N(n,["instances[0]","prompt"],o);const i=P(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["referenceImage"]);null!=n&&N(t,["referenceImage"],Or(n));const r=P(e,["referenceId"]);null!=r&&N(t,["referenceId"],r);const o=P(e,["referenceType"]);null!=o&&N(t,["referenceType"],o);const i=P(e,["maskImageConfig"]);null!=i&&N(t,["maskImageConfig"],function(e){const t={},n=P(e,["maskMode"]);null!=n&&N(t,["maskMode"],n);const r=P(e,["segmentationClasses"]);null!=r&&N(t,["maskClasses"],r);const o=P(e,["maskDilation"]);return null!=o&&N(t,["dilation"],o),t}(i));const l=P(e,["controlImageConfig"]);null!=l&&N(t,["controlImageConfig"],function(e){const t={},n=P(e,["controlType"]);null!=n&&N(t,["controlType"],n);const r=P(e,["enableControlImageComputation"]);return null!=r&&N(t,["computeControl"],r),t}(l));const a=P(e,["styleImageConfig"]);null!=a&&N(t,["styleImageConfig"],a);const s=P(e,["subjectImageConfig"]);return null!=s&&N(t,["subjectImageConfig"],s),t}(e))),N(n,["instances[0]","referenceImages"],e)}const l=P(t,["config"]);return null!=l&&function(e,t){const n=P(e,["outputGcsUri"]);void 0!==t&&null!=n&&N(t,["parameters","storageUri"],n);const r=P(e,["negativePrompt"]);void 0!==t&&null!=r&&N(t,["parameters","negativePrompt"],r);const o=P(e,["numberOfImages"]);void 0!==t&&null!=o&&N(t,["parameters","sampleCount"],o);const i=P(e,["aspectRatio"]);void 0!==t&&null!=i&&N(t,["parameters","aspectRatio"],i);const l=P(e,["guidanceScale"]);void 0!==t&&null!=l&&N(t,["parameters","guidanceScale"],l);const a=P(e,["seed"]);void 0!==t&&null!=a&&N(t,["parameters","seed"],a);const s=P(e,["safetyFilterLevel"]);void 0!==t&&null!=s&&N(t,["parameters","safetySetting"],s);const u=P(e,["personGeneration"]);void 0!==t&&null!=u&&N(t,["parameters","personGeneration"],u);const c=P(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&N(t,["parameters","includeSafetyAttributes"],c);const d=P(e,["includeRaiReason"]);void 0!==t&&null!=d&&N(t,["parameters","includeRaiReason"],d);const p=P(e,["language"]);void 0!==t&&null!=p&&N(t,["parameters","language"],p);const f=P(e,["outputMimeType"]);void 0!==t&&null!=f&&N(t,["parameters","outputOptions","mimeType"],f);const h=P(e,["outputCompressionQuality"]);void 0!==t&&null!=h&&N(t,["parameters","outputOptions","compressionQuality"],h);const m=P(e,["addWatermark"]);void 0!==t&&null!=m&&N(t,["parameters","addWatermark"],m);const g=P(e,["labels"]);void 0!==t&&null!=g&&N(t,["labels"],g);const y=P(e,["editMode"]);void 0!==t&&null!=y&&N(t,["parameters","editMode"],y);const v=P(e,["baseSteps"]);void 0!==t&&null!=v&&N(t,["parameters","editConfig","baseSteps"],v)}(l,n),n}(this.apiClient,e);return o=k("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Cr(e))),N(t,["generatedImages"],e)}return t}(e),n=new Bt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["image"]);null!=o&&N(n,["instances[0]","image"],Or(o));const i=P(t,["upscaleFactor"]);null!=i&&N(n,["parameters","upscaleConfig","upscaleFactor"],i);const l=P(t,["config"]);return null!=l&&function(e,t){const n=P(e,["outputGcsUri"]);void 0!==t&&null!=n&&N(t,["parameters","storageUri"],n);const r=P(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&N(t,["parameters","safetySetting"],r);const o=P(e,["personGeneration"]);void 0!==t&&null!=o&&N(t,["parameters","personGeneration"],o);const i=P(e,["includeRaiReason"]);void 0!==t&&null!=i&&N(t,["parameters","includeRaiReason"],i);const l=P(e,["outputMimeType"]);void 0!==t&&null!=l&&N(t,["parameters","outputOptions","mimeType"],l);const a=P(e,["outputCompressionQuality"]);void 0!==t&&null!=a&&N(t,["parameters","outputOptions","compressionQuality"],a);const s=P(e,["enhanceInputImage"]);void 0!==t&&null!=s&&N(t,["parameters","upscaleConfig","enhanceInputImage"],s);const u=P(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&N(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=P(e,["labels"]);void 0!==t&&null!=c&&N(t,["labels"],c);const d=P(e,["numberOfImages"]);void 0!==t&&null!=d&&N(t,["parameters","sampleCount"],d);const p=P(e,["mode"]);void 0!==t&&null!=p&&N(t,["parameters","mode"],p)}(l,n),n}(this.apiClient,e);return o=k("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Cr(e))),N(t,["generatedImages"],e)}return t}(e),n=new $t;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["source"]);null!=o&&function(e,t){const n=P(e,["prompt"]);void 0!==t&&null!=n&&N(t,["instances[0]","prompt"],n);const r=P(e,["personImage"]);void 0!==t&&null!=r&&N(t,["instances[0]","personImage","image"],Or(r));const o=P(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["productImage"]);return null!=n&&N(t,["image"],Or(n)),t}(e))),N(t,["instances[0]","productImages"],e)}}(o,n);const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["numberOfImages"]);void 0!==t&&null!=n&&N(t,["parameters","sampleCount"],n);const r=P(e,["baseSteps"]);void 0!==t&&null!=r&&N(t,["parameters","baseSteps"],r);const o=P(e,["outputGcsUri"]);void 0!==t&&null!=o&&N(t,["parameters","storageUri"],o);const i=P(e,["seed"]);void 0!==t&&null!=i&&N(t,["parameters","seed"],i);const l=P(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&N(t,["parameters","safetySetting"],l);const a=P(e,["personGeneration"]);void 0!==t&&null!=a&&N(t,["parameters","personGeneration"],a);const s=P(e,["addWatermark"]);void 0!==t&&null!=s&&N(t,["parameters","addWatermark"],s);const u=P(e,["outputMimeType"]);void 0!==t&&null!=u&&N(t,["parameters","outputOptions","mimeType"],u);const c=P(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&N(t,["parameters","outputOptions","compressionQuality"],c);const d=P(e,["enhancePrompt"]);void 0!==t&&null!=d&&N(t,["parameters","enhancePrompt"],d);const p=P(e,["labels"]);void 0!==t&&null!=p&&N(t,["labels"],p)}(i,n),n}(this.apiClient,e);return o=k("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>Cr(e))),N(t,["generatedImages"],e)}return t}(e),n=new Jt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["source"]);null!=o&&function(e,t){const n=P(e,["prompt"]);void 0!==t&&null!=n&&N(t,["instances[0]","prompt"],n);const r=P(e,["image"]);void 0!==t&&null!=r&&N(t,["instances[0]","image"],Or(r));const o=P(e,["scribbleImage"]);void 0!==t&&null!=o&&N(t,["instances[0]","scribble"],function(e){const t={},n=P(e,["image"]);return null!=n&&N(t,["image"],Or(n)),t}(o))}(o,n);const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["mode"]);void 0!==t&&null!=n&&N(t,["parameters","mode"],n);const r=P(e,["maxPredictions"]);void 0!==t&&null!=r&&N(t,["parameters","maxPredictions"],r);const o=P(e,["confidenceThreshold"]);void 0!==t&&null!=o&&N(t,["parameters","confidenceThreshold"],o);const i=P(e,["maskDilation"]);void 0!==t&&null!=i&&N(t,["parameters","maskDilation"],i);const l=P(e,["binaryColorThreshold"]);void 0!==t&&null!=l&&N(t,["parameters","binaryColorThreshold"],l);const a=P(e,["labels"]);void 0!==t&&null!=a&&N(t,["labels"],a)}(i,n),n}(this.apiClient,e);return o=k("{model}:predict",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["_self"]);null!=n&&N(t,["mask"],Ir(n));const r=P(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["labels"],e)}return t}(e))),N(t,["generatedMasks"],e)}return t}(e),n=new Wt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);return null!=r&&N(n,["_url","name"],gn(e,r)),n}(this.apiClient,e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Nr(e))}{const t=function(e,t){const n={},r=P(t,["model"]);return null!=r&&N(n,["_url","name"],gn(e,r)),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>kr(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["config"]);return null!=r&&function(e,t,n){const r=P(t,["pageSize"]);void 0!==n&&null!=r&&N(n,["_query","pageSize"],r);const o=P(t,["pageToken"]);void 0!==n&&null!=o&&N(n,["_query","pageToken"],o);const i=P(t,["filter"]);void 0!==n&&null!=i&&N(n,["_query","filter"],i);const l=P(t,["queryBase"]);void 0!==n&&null!=l&&N(n,["_url","models_url"],qn(e,l))}(e,r,n),n}(this.apiClient,e);return l=k("{models_url}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["_self"]);if(null!=o){let e=Hn(o);Array.isArray(e)&&(e=e.map(e=>Nr(e))),N(t,["models"],e)}return t}(e),n=new Yt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["config"]);return null!=r&&function(e,t,n){const r=P(t,["pageSize"]);void 0!==n&&null!=r&&N(n,["_query","pageSize"],r);const o=P(t,["pageToken"]);void 0!==n&&null!=o&&N(n,["_query","pageToken"],o);const i=P(t,["filter"]);void 0!==n&&null!=i&&N(n,["_query","filter"],i);const l=P(t,["queryBase"]);void 0!==n&&null!=l&&N(n,["_url","models_url"],qn(e,l))}(e,r,n),n}(this.apiClient,e);return l=k("{models_url}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["_self"]);if(null!=o){let e=Hn(o);Array.isArray(e)&&(e=e.map(e=>kr(e))),N(t,["models"],e)}return t}(e),n=new Yt;return Object.assign(n,t),n})}}async update(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["displayName"]);void 0!==t&&null!=n&&N(t,["displayName"],n);const r=P(e,["description"]);void 0!==t&&null!=r&&N(t,["description"],r);const o=P(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&N(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=k("{model}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>Nr(e))}{const t=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","name"],gn(e,r));const o=P(t,["config"]);return null!=o&&function(e,t){const n=P(e,["displayName"]);void 0!==t&&null!=n&&N(t,["displayName"],n);const r=P(e,["description"]);void 0!==t&&null!=r&&N(t,["description"],r);const o=P(e,["defaultCheckpointId"]);void 0!==t&&null!=o&&N(t,["defaultCheckpointId"],o)}(o,n),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>kr(e))}}async delete(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);return null!=r&&N(n,["_url","name"],gn(e,r)),n}(this.apiClient,e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new Kt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["model"]);return null!=r&&N(n,["_url","name"],gn(e,r)),n}(this.apiClient,e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new Kt;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>e)),N(n,["contents"],e)}const i=P(t,["config"]);return null!=i&&function(e,t){const n=P(e,["systemInstruction"]);void 0!==t&&null!=n&&N(t,["systemInstruction"],An(n));const r=P(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>xr(e))),N(t,["tools"],e)}const o=P(e,["generationConfig"]);void 0!==t&&null!=o&&N(t,["generationConfig"],function(e){const t={},n=P(e,["modelSelectionConfig"]);null!=n&&N(t,["modelConfig"],n);const r=P(e,["responseJsonSchema"]);null!=r&&N(t,["responseJsonSchema"],r);const o=P(e,["audioTimestamp"]);null!=o&&N(t,["audioTimestamp"],o);const i=P(e,["candidateCount"]);null!=i&&N(t,["candidateCount"],i);const l=P(e,["enableAffectiveDialog"]);null!=l&&N(t,["enableAffectiveDialog"],l);const a=P(e,["frequencyPenalty"]);null!=a&&N(t,["frequencyPenalty"],a);const s=P(e,["logprobs"]);null!=s&&N(t,["logprobs"],s);const u=P(e,["maxOutputTokens"]);null!=u&&N(t,["maxOutputTokens"],u);const c=P(e,["mediaResolution"]);null!=c&&N(t,["mediaResolution"],c);const d=P(e,["presencePenalty"]);null!=d&&N(t,["presencePenalty"],d);const p=P(e,["responseLogprobs"]);null!=p&&N(t,["responseLogprobs"],p);const f=P(e,["responseMimeType"]);null!=f&&N(t,["responseMimeType"],f);const h=P(e,["responseModalities"]);null!=h&&N(t,["responseModalities"],h);const m=P(e,["responseSchema"]);null!=m&&N(t,["responseSchema"],m);const g=P(e,["routingConfig"]);null!=g&&N(t,["routingConfig"],g);const y=P(e,["seed"]);null!=y&&N(t,["seed"],y);const v=P(e,["speechConfig"]);null!=v&&N(t,["speechConfig"],v);const b=P(e,["stopSequences"]);null!=b&&N(t,["stopSequences"],b);const E=P(e,["temperature"]);null!=E&&N(t,["temperature"],E);const S=P(e,["thinkingConfig"]);null!=S&&N(t,["thinkingConfig"],S);const _=P(e,["topK"]);null!=_&&N(t,["topK"],_);const w=P(e,["topP"]);if(null!=w&&N(t,["topP"],w),void 0!==P(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(o))}(i,n),n}(this.apiClient,e);return l=k("{model}:countTokens",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["totalTokens"]);return null!=r&&N(t,["totalTokens"],r),t}(e),n=new Qt;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>vr(e))),N(n,["contents"],e)}const i=P(t,["config"]);return null!=i&&function(e){if(void 0!==P(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==P(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==P(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(i),n}(this.apiClient,e);return l=k("{model}:countTokens",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["totalTokens"]);null!=r&&N(t,["totalTokens"],r);const o=P(e,["cachedContentTokenCount"]);return null!=o&&N(t,["cachedContentTokenCount"],o),t}(e),n=new Qt;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["_url","model"],gn(e,r));const o=P(t,["contents"]);if(null!=o){let e=kn(o);Array.isArray(e)&&(e=e.map(e=>e)),N(n,["contents"],e)}return n}(this.apiClient,e);return o=k("{model}:computeTokens",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["tokensInfo"],e)}return t}(e),n=new Xt;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=Tr(this.apiClient,e);return l=k("{model}:predictLongRunning",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["_self"]);return null!=n&&N(t,["video"],function(e){const t={},n=P(e,["gcsUri"]);null!=n&&N(t,["uri"],n);const r=P(e,["bytesBase64Encoded"]);null!=r&&N(t,["videoBytes"],Fn(r));const o=P(e,["mimeType"]);return null!=o&&N(t,["mimeType"],o),t}(n)),t}(e))),N(t,["generatedVideos"],e)}const r=P(e,["raiMediaFilteredCount"]);null!=r&&N(t,["raiMediaFilteredCount"],r);const o=P(e,["raiMediaFilteredReasons"]);return null!=o&&N(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new Zt;return Object.assign(n,t),n})}{const t=wr(this.apiClient,e);return l=k("{model}:predictLongRunning",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i.then(e=>{const t=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response","generateVideoResponse"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["video"]);return null!=n&&N(t,["video"],function(e){const t={},n=P(e,["uri"]);null!=n&&N(t,["uri"],n);const r=P(e,["encodedVideo"]);null!=r&&N(t,["videoBytes"],Fn(r));const o=P(e,["encoding"]);return null!=o&&N(t,["mimeType"],o),t}(n)),t}(e))),N(t,["generatedVideos"],e)}const r=P(e,["raiMediaFilteredCount"]);null!=r&&N(t,["raiMediaFilteredCount"],r);const o=P(e,["raiMediaFilteredReasons"]);return null!=o&&N(t,["raiMediaFilteredReasons"],o),t}(l)),t}(e),n=new Zt;return Object.assign(n,t),n})}}}class to extends O{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["operationName"]);return null!=n&&N(t,["_url","operationName"],n),t}(e);return l=k("{operationName}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),i}{const t=function(e){const t={},n=P(e,["operationName"]);return null!=n&&N(t,["_url","operationName"],n),t}(e);return l=k("{operationName}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json()),i}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e){const t={},n=P(e,["operationName"]);null!=n&&N(t,["operationName"],n);const r=P(e,["resourceName"]);return null!=r&&N(t,["_url","resourceName"],r),t}(e);return o=k("{resourceName}:fetchPredictOperation",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}function no(e,t,n){const r=P(t,["expireTime"]);void 0!==n&&null!=r&&N(n,["expireTime"],r);const o=P(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&N(n,["newSessionExpireTime"],o);const i=P(t,["uses"]);void 0!==n&&null!=i&&N(n,["uses"],i);const l=P(t,["liveConnectConstraints"]);void 0!==n&&null!=l&&N(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=P(t,["model"]);null!=r&&N(n,["setup","model"],gn(e,r));const o=P(t,["config"]);return null!=o&&N(n,["config"],function(e,t){const n=P(e,["generationConfig"]);void 0!==t&&null!=n&&N(t,["setup","generationConfig"],n);const r=P(e,["responseModalities"]);void 0!==t&&null!=r&&N(t,["setup","generationConfig","responseModalities"],r);const o=P(e,["temperature"]);void 0!==t&&null!=o&&N(t,["setup","generationConfig","temperature"],o);const i=P(e,["topP"]);void 0!==t&&null!=i&&N(t,["setup","generationConfig","topP"],i);const l=P(e,["topK"]);void 0!==t&&null!=l&&N(t,["setup","generationConfig","topK"],l);const a=P(e,["maxOutputTokens"]);void 0!==t&&null!=a&&N(t,["setup","generationConfig","maxOutputTokens"],a);const s=P(e,["mediaResolution"]);void 0!==t&&null!=s&&N(t,["setup","generationConfig","mediaResolution"],s);const u=P(e,["seed"]);void 0!==t&&null!=u&&N(t,["setup","generationConfig","seed"],u);const c=P(e,["speechConfig"]);void 0!==t&&null!=c&&N(t,["setup","generationConfig","speechConfig"],xn(c));const d=P(e,["thinkingConfig"]);void 0!==t&&null!=d&&N(t,["setup","generationConfig","thinkingConfig"],d);const p=P(e,["enableAffectiveDialog"]);void 0!==t&&null!=p&&N(t,["setup","generationConfig","enableAffectiveDialog"],p);const f=P(e,["systemInstruction"]);void 0!==t&&null!=f&&N(t,["setup","systemInstruction"],function(e){const t={},n=P(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["mediaResolution"]);null!=n&&N(t,["mediaResolution"],n);const r=P(e,["codeExecutionResult"]);null!=r&&N(t,["codeExecutionResult"],r);const o=P(e,["executableCode"]);null!=o&&N(t,["executableCode"],o);const i=P(e,["fileData"]);null!=i&&N(t,["fileData"],function(e){const t={};if(void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=P(e,["fileUri"]);null!=n&&N(t,["fileUri"],n);const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(i));const l=P(e,["functionCall"]);null!=l&&N(t,["functionCall"],function(e){const t={},n=P(e,["id"]);null!=n&&N(t,["id"],n);const r=P(e,["args"]);null!=r&&N(t,["args"],r);const o=P(e,["name"]);if(null!=o&&N(t,["name"],o),void 0!==P(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==P(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(l));const a=P(e,["functionResponse"]);null!=a&&N(t,["functionResponse"],a);const s=P(e,["inlineData"]);null!=s&&N(t,["inlineData"],function(e){const t={},n=P(e,["data"]);if(null!=n&&N(t,["data"],n),void 0!==P(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=P(e,["mimeType"]);return null!=r&&N(t,["mimeType"],r),t}(s));const u=P(e,["text"]);null!=u&&N(t,["text"],u);const c=P(e,["thought"]);null!=c&&N(t,["thought"],c);const d=P(e,["thoughtSignature"]);null!=d&&N(t,["thoughtSignature"],d);const p=P(e,["videoMetadata"]);return null!=p&&N(t,["videoMetadata"],p),t}(e))),N(t,["parts"],e)}const r=P(e,["role"]);return null!=r&&N(t,["role"],r),t}(An(f)));const h=P(e,["tools"]);if(void 0!==t&&null!=h){let e=Mn(h);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=P(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["functionDeclarations"],e)}if(void 0!==P(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=P(e,["googleSearchRetrieval"]);null!=r&&N(t,["googleSearchRetrieval"],r);const o=P(e,["computerUse"]);null!=o&&N(t,["computerUse"],o);const i=P(e,["fileSearch"]);null!=i&&N(t,["fileSearch"],i);const l=P(e,["codeExecution"]);if(null!=l&&N(t,["codeExecution"],l),void 0!==P(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=P(e,["googleMaps"]);null!=a&&N(t,["googleMaps"],function(e){const t={};if(void 0!==P(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=P(e,["enableWidget"]);return null!=n&&N(t,["enableWidget"],n),t}(a));const s=P(e,["googleSearch"]);null!=s&&N(t,["googleSearch"],function(e){const t={};if(void 0!==P(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==P(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=P(e,["timeRangeFilter"]);return null!=n&&N(t,["timeRangeFilter"],n),t}(s));const u=P(e,["urlContext"]);return null!=u&&N(t,["urlContext"],u),t}(Dn(e)))),N(t,["setup","tools"],e)}const m=P(e,["sessionResumption"]);void 0!==t&&null!=m&&N(t,["setup","sessionResumption"],function(e){const t={},n=P(e,["handle"]);if(null!=n&&N(t,["handle"],n),void 0!==P(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=P(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&N(t,["setup","inputAudioTranscription"],g);const y=P(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&N(t,["setup","outputAudioTranscription"],y);const v=P(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&N(t,["setup","realtimeInputConfig"],v);const b=P(e,["contextWindowCompression"]);void 0!==t&&null!=b&&N(t,["setup","contextWindowCompression"],b);const E=P(e,["proactivity"]);if(void 0!==t&&null!=E&&N(t,["setup","proactivity"],E),void 0!==P(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}(o,n)),n}(e,l));const a=P(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&N(n,["fieldMask"],a),{}}class ro extends O{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=function(e,t){const n={},r=P(t,["config"]);return null!=r&&N(n,["config"],no(e,r,n)),n}(this.apiClient,e);o=k("auth_tokens",l._url),i=l._query,delete l.config,delete l._url,delete l._query;const a=function(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map(e=>t.includes(e)?`generationConfig.${e}`:e));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}(l,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}class oo extends O{constructor(e){super(),this.apiClient=e,this.list=async e=>new Zn(jt.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return o=k("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["_url","name"],n);const r=P(e,["config"]);return null!=r&&function(e,t){const n=P(e,["force"]);void 0!==t&&null!=n&&N(t,["_query","force"],n)}(r,t),t}(e);r=k("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["parent"]);null!=n&&N(t,["_url","parent"],n);const r=P(e,["config"]);return null!=r&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r)}(r,t),t}(e);return o=k("{parent}/documents",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["documents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["documents"],e)}return t}(e),n=new on;return Object.assign(n,t),n})}}}class io extends O{constructor(e,t=new oo(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new Zn(jt.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["displayName"]);void 0!==t&&null!=n&&N(t,["displayName"],n)}(n,t),t}(e);return o=k("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return o=k("{name}",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const i=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["_url","name"],n);const r=P(e,["config"]);return null!=r&&function(e,t){const n=P(e,["force"]);void 0!==t&&null!=n&&N(t,["_query","force"],n)}(r,t),t}(e);r=k("{name}",i._url),o=i._query,delete i._url,delete i._query,await this.apiClient.request({path:r,queryParams:o,body:JSON.stringify(i),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r)}(n,t),t}(e);return o=k("fileSearchStores",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["fileSearchStores"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["fileSearchStores"],e)}return t}(e),n=new ln;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["fileSearchStoreName"]);null!=n&&N(t,["_url","file_search_store_name"],n);const r=P(e,["config"]);return null!=r&&Lr(r,t),t}(e);return o=k("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new an;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["fileSearchStoreName"]);null!=n&&N(t,["_url","file_search_store_name"],n);const r=P(e,["fileName"]);null!=r&&N(t,["fileName"],r);const o=P(e,["config"]);return null!=o&&function(e,t){const n=P(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["customMetadata"],e)}const r=P(e,["chunkingConfig"]);void 0!==t&&null!=r&&N(t,["chunkingConfig"],r)}(o,t),t}(e);return o=k("{file_search_store_name}:importFile",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["name"],n);const r=P(e,["metadata"]);null!=r&&N(t,["metadata"],r);const o=P(e,["done"]);null!=o&&N(t,["done"],o);const i=P(e,["error"]);null!=i&&N(t,["error"],i);const l=P(e,["response"]);return null!=l&&N(t,["response"],function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["parent"]);null!=r&&N(t,["parent"],r);const o=P(e,["documentName"]);return null!=o&&N(t,["documentName"],o),t}(l)),t}(e),n=new sn;return Object.assign(n,t),n})}}}let lo=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return lo=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};function ao(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const so=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};class uo extends Error{}class co extends uo{constructor(e,t,n,r){super(`${co.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new fo({message:n,cause:so(t)});const o=t;return 400===e?new mo(e,o,n,r):401===e?new go(e,o,n,r):403===e?new yo(e,o,n,r):404===e?new vo(e,o,n,r):409===e?new bo(e,o,n,r):422===e?new Eo(e,o,n,r):429===e?new So(e,o,n,r):e>=500?new _o(e,o,n,r):new co(e,o,n,r)}}class po extends co{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class fo extends co{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class ho extends fo{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class mo extends co{}class go extends co{}class yo extends co{}class vo extends co{}class bo extends co{}class Eo extends co{}class So extends co{}class _o extends co{}const wo=/^[a-z][a-z0-9+.-]*:/i;let To=e=>(To=Array.isArray,To(e));const Co=To,Io="0.0.1",Ao=()=>{var e,t,n,r,o;const i="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Io,"X-Stainless-OS":ko(Deno.build.os),"X-Stainless-Arch":Oo(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===i)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Io,"X-Stainless-OS":ko(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":Oo(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(o=globalThis.process.version)&&void 0!==o?o:"unknown"};const l=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}},Oo=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",ko=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let No;function Po(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function Ro(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Po({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function xo(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const Do=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),Mo=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Lo(e,t,n){return Mo(),new File(e,null!=t?t:"unknown_file",n)}const Uo=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;async function Fo(e){var t,n,r,o,i;let l=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(Uo(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(i=null==e?void 0:e.constructor)||void 0===i?void 0:i.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";return`; props: [${Object.getOwnPropertyNames(e).map(e=>`"${e}"`).join(", ")}]`}(e)}`)}try{for(var a,s=!0,u=lr(e);!(t=(a=await u.next()).done);s=!0){o=a.value,s=!1;const e=o;l.push(...await Fo(e))}}catch(c){n={error:c}}finally{try{s||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return l}class jo{constructor(e){this._client=e}}function qo(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}jo._key=[];const Ho=Object.freeze(Object.create(null)),Go=((e=qo)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const o=[],i=t.reduce((t,i,l)=>{var a,s,u;/[?#]/.test(i)&&(r=!0);const c=n[l];let d=(r?encodeURIComponent:e)(""+c);return l!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(s=Object.getPrototypeOf(null!==(a=c.hasOwnProperty)&&void 0!==a?a:Ho))&&void 0!==s?s:Ho))||void 0===u?void 0:u.toString))&&(d=c+"",o.push({start:t.length+i.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+i+(l===n.length?"":d)},""),l=i.split(/[?#]/,1)[0],a=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let s;for(;null!==(s=a.exec(l));)o.push({start:s.index,length:s[0].length,error:`Value "${s[0]}" can't be safely passed as a path parameter`});if(o.sort((e,t)=>e.start-t.start),o.length>0){let e=0;const t=o.reduce((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o},"");throw new uo(`Path parameters result in path with invalid segments:\n${o.map(e=>e.error).join("\n")}\n${i}\n${t}`)}return i})(qo);class zo extends jo{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,o=rr(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new uo("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new uo("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Go`/${r}/interactions`,Object.assign(Object.assign({body:o},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(Go`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(Go`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const o=null!=t?t:{},{api_version:i=this._client.apiVersion}=o,l=rr(o,["api_version"]);return this._client.get(Go`/${i}/interactions/${e}`,Object.assign(Object.assign({query:l},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}zo._key=Object.freeze(["interactions"]);class Vo extends zo{}let Bo,$o;function Jo(e){let t;return(null!=Bo?Bo:(t=new globalThis.TextEncoder,Bo=t.encode.bind(t)))(e)}function Wo(e){let t;return(null!=$o?$o:(t=new globalThis.TextDecoder,$o=t.decode.bind(t)))(e)}class Yo{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Jo(e):e;this.buffer=function(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=Ko(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(Wo(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=Wo(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function Ko(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function Qo(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}Yo.NEWLINE_CHARS=new Set(["\n","\r"]),Yo.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const Xo={off:0,error:200,warn:300,info:400,debug:500},Zo=(e,t,n)=>{var r,o;if(e)return r=Xo,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void oi(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Xo))}`)};function ei(){}function ti(e,t,n){return!t||Xo[e]>Xo[n]?ei:t[e].bind(t)}const ni={error:ei,warn:ei,info:ei,debug:ei};let ri=new WeakMap;function oi(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return ni;const o=ri.get(n);if(o&&o[0]===r)return o[1];const i={error:ti("error",n,r),warn:ti("warn",n,r),info:ti("info",n,r),debug:ti("debug",n,r)};return ri.set(n,[r,i]),i}const ii=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class li{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const o=n?oi(n):console;return new li(function(){return ir(this,arguments,function*(){var n,i,l,a;if(r)throw new uo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var u,c=!0,d=lr(function(e,t){return ir(this,arguments,function*(){var n,r,o,i;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new uo("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new uo("Attempted to iterate over a response with no body")}const l=new ai,a=new Yo,s=xo(e.body);try{for(var u,c=!0,d=lr(function(e){return ir(this,arguments,function*(){var t,n,r,o;let i=new Uint8Array;try{for(var l,a=!0,s=lr(e);!(t=(l=yield or(s.next())).done);a=!0){o=l.value,a=!1;const e=o;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?Jo(e):e;let n,r=new Uint8Array(i.length+t.length);for(r.set(i),r.set(t,i.length),i=r;-1!==(n=Qo(i));)yield yield or(i.slice(0,n)),i=i.slice(n)}}catch(u){n={error:u}}finally{try{a||t||!(r=s.return)||(yield or(r.call(s)))}finally{if(n)throw n.error}}i.length>0&&(yield yield or(i))})}(s));!(n=(u=yield or(d.next())).done);c=!0){i=u.value,c=!1;const e=i;for(const t of a.decode(e)){const e=l.decode(t);e&&(yield yield or(e))}}}catch(p){r={error:p}}finally{try{c||n||!(o=d.return)||(yield or(o.call(d)))}finally{if(r)throw r.error}}for(const e of a.flush()){const t=l.decode(e);t&&(yield yield or(t))}})}(e,t));!(n=(u=yield or(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(!s)if(e.data.startsWith("[DONE]"))s=!0;else try{yield yield or(JSON.parse(e.data))}catch(p){throw o.error("Could not parse message into JSON:",e.data),o.error("From chunk:",e.raw),p}}}catch(f){i={error:f}}finally{try{c||n||!(l=d.return)||(yield or(l.call(d)))}finally{if(i)throw i.error}}s=!0}catch(p){if(ao(p))return yield or(void 0);throw p}finally{s||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new li(function(){return ir(this,arguments,function*(){var n,o,i,l;if(r)throw new uo("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let a=!1;try{try{for(var s,u=!0,c=lr(function(){return ir(this,arguments,function*(){var t,n,r,o;const i=new Yo,l=xo(e);try{for(var a,s=!0,u=lr(l);!(t=(a=yield or(u.next())).done);s=!0){o=a.value,s=!1;const e=o;for(const t of i.decode(e))yield yield or(t)}}catch(c){n={error:c}}finally{try{s||t||!(r=u.return)||(yield or(r.call(u)))}finally{if(n)throw n.error}}for(const e of i.flush())yield yield or(e)})}());!(n=(s=yield or(c.next())).done);u=!0){l=s.value,u=!1;const e=l;a||e&&(yield yield or(JSON.parse(e)))}}catch(d){o={error:d}}finally{try{u||n||!(i=c.return)||(yield or(i.call(c)))}finally{if(o)throw o.error}}a=!0}catch(p){if(ao(p))return yield or(void 0);throw p}finally{a||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new li(()=>r(e),this.controller,this.client),new li(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return Po({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=Jo(JSON.stringify(n)+"\n");e.enqueue(o)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class ai{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e){const t=e.indexOf(":");return-1!==t?[e.substring(0,t),":",e.substring(t+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function si(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,l=await(async()=>{var r;if(t.options.stream)return oi(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):li.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const o=n.headers.get("content-type"),i=null===(r=null==o?void 0:o.split(";")[0])||void 0===r?void 0:r.trim();return(null==i?void 0:i.includes("application/json"))||(null==i?void 0:i.endsWith("+json"))?await n.json():await n.text()})();return oi(e).debug(`[${r}] response parsed`,ii({retryOfRequestLogID:o,url:n.url,status:n.status,body:l,durationMs:Date.now()-i})),l}class ui extends Promise{constructor(e,t,n=si){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new ui(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const ci=Symbol("brand.privateNullableHeaders");function*di(e){if(!e)return;if(ci in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():Co(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=Co(r[1])?r[1]:[r[1]];let o=!1;for(const r of t)void 0!==r&&(n&&!o&&(o=!0,yield[e,null]),yield[e,r])}}const pi=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of di(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[ci]:!0,values:t,nulls:n}},fi=e=>{var t,n,r,o,i,l;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=A)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(l=null===(i=null===(o=globalThis.Deno.env)||void 0===o?void 0:o.get)||void 0===i?void 0:i.call(o,e))||void 0===l?void 0:l.trim():void 0};var hi;class mi{constructor(e){var t,n,r,o,i,l,a,{baseURL:s=fi("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=fi("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=rr(e,["baseURL","apiKey","apiVersion"]);const p=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:s||"https://generativelanguage.googleapis.com"});this.baseURL=p.baseURL,this.timeout=null!==(n=p.timeout)&&void 0!==n?n:mi.DEFAULT_TIMEOUT,this.logger=null!==(r=p.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(i=null!==(o=Zo(p.logLevel,"ClientOptions.logLevel",this))&&void 0!==o?o:Zo(fi("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==i?i:f,this.fetchOptions=p.fetchOptions,this.maxRetries=null!==(l=p.maxRetries)&&void 0!==l?l:2,this.fetch=null!==(a=p.fetch)&&void 0!==a?a:function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=Do,this._options=p,this.apiKey=u,this.apiVersion=c,this.clientAdapter=p.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=pi([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?pi([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?pi([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new uo(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Io}`}defaultIdempotencyKey(){return`stainless-node-retry-${lo()}`}makeStatusError(e,t,n,r){return co.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,o=(e=>wo.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t=Object.assign(Object.assign({},i),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new ui(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,o,i;const l=await e,a=null!==(r=l.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=a),await this.prepareOptions(l);const{req:s,url:u,timeout:c}=await this.buildRequest(l,{retryCount:a-t});await this.prepareRequest(s,{url:u,options:l});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),p=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(oi(this).debug(`[${d}] sending request`,ii({retryOfRequestLogID:n,method:l.method,url:u,options:l,headers:s.headers})),null===(o=l.signal)||void 0===o?void 0:o.aborted)throw new po;const h=new AbortController,m=await this.fetchWithTimeout(u,s,c,h).catch(so),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(i=l.signal)||void 0===i?void 0:i.aborted)throw new po;const r=ao(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return oi(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),oi(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,ii({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(l,t,null!=n?n:d);if(oi(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),oi(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,ii({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new ho;throw new fo({cause:m})}const y=`[${d}${p}] ${s.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),o=r.cancel();r.releaseLock(),await o}(m.body),oi(this).info(`${y} - ${e}`),oi(this).debug(`[${d}] response error (${e})`,ii({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(l,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";oi(this).info(`${y} - ${r}`);const o=await m.text().catch(e=>so(e).message),i=(e=>{try{return JSON.parse(e)}catch(t){return}})(o),a=i?void 0:o;throw oi(this).debug(`[${d}] response error (${r})`,ii({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:a,durationMs:Date.now()-f})),this.makeStatusError(m.status,i,a,m.headers)}return oi(this).info(y),oi(this).debug(`[${d}] response start`,ii({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:l,controller:h,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const o=t||{},{signal:i,method:l}=o,a=rr(o,["signal","method"]);i&&i.addEventListener("abort",()=>r.abort());const s=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&a.body instanceof globalThis.ReadableStream||"object"==typeof a.body&&null!==a.body&&Symbol.asyncIterator in a.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),a);l&&(c.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(s)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,t,n,r){var o;let i;const l=null==r?void 0:r.get("retry-after-ms");if(l){const e=parseFloat(l);Number.isNaN(e)||(i=e)}const a=null==r?void 0:r.get("retry-after");if(a&&!i){const e=parseFloat(a);i=Number.isNaN(e)?Date.parse(a)-Date.now():1e3*e}if(!(i&&0<=i&&i<6e4)){const n=null!==(o=e.maxRetries)&&void 0!==o?o:this.maxRetries;i=this.calculateDefaultRetryTimeoutMillis(t,n)}var s;return await(s=i,new Promise(e=>setTimeout(e,s))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,o;const i=Object.assign({},e),{method:l,path:a,query:s,defaultBaseURL:u}=i,c=this.buildURL(a,s,u);"timeout"in i&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new uo(`${e} must be an integer`);if(t<0)throw new uo(`${e} must be a positive integer`)})("timeout",i.timeout),i.timeout=null!==(n=i.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:p}=this.buildBody({options:i}),f=await this.buildHeaders({options:e,method:l,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:f},i.signal&&{signal:i.signal}),globalThis.ReadableStream&&p instanceof globalThis.ReadableStream&&{duplex:"half"}),p&&{body:p}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(o=i.fetchOptions)&&void 0!==o?o:{}),url:c,timeout:i.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let o={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const i=await this.authHeaders(e);let l=pi([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=No?No:No=Ao()),this._options.defaultHeaders,n,e.headers,i]);return this.validateHeaders(l),l.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=pi([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:Ro(e)}:this.encoder({body:e,headers:n})}}mi.DEFAULT_TIMEOUT=6e4;class gi extends mi{constructor(){super(...arguments),this.interactions=new Vo(this)}}function yi(e,t){const n={},r=P(e,["sdkHttpResponse"]);null!=r&&N(n,["sdkHttpResponse"],r);const o=P(e,["name"]);null!=o&&N(n,["name"],o);const i=P(e,["state"]);null!=i&&N(n,["state"],Un(i));const l=P(e,["createTime"]);null!=l&&N(n,["createTime"],l);const a=P(e,["tuningTask","startTime"]);null!=a&&N(n,["startTime"],a);const s=P(e,["tuningTask","completeTime"]);null!=s&&N(n,["endTime"],s);const u=P(e,["updateTime"]);null!=u&&N(n,["updateTime"],u);const c=P(e,["description"]);null!=c&&N(n,["description"],c);const d=P(e,["baseModel"]);null!=d&&N(n,["baseModel"],d);const p=P(e,["_self"]);return null!=p&&N(n,["tunedModel"],function(e){const t={},n=P(e,["name"]);null!=n&&N(t,["model"],n);const r=P(e,["name"]);return null!=r&&N(t,["endpoint"],r),t}(p)),n}function vi(e,t){const n={},r=P(e,["sdkHttpResponse"]);null!=r&&N(n,["sdkHttpResponse"],r);const o=P(e,["name"]);null!=o&&N(n,["name"],o);const i=P(e,["state"]);null!=i&&N(n,["state"],Un(i));const l=P(e,["createTime"]);null!=l&&N(n,["createTime"],l);const a=P(e,["startTime"]);null!=a&&N(n,["startTime"],a);const s=P(e,["endTime"]);null!=s&&N(n,["endTime"],s);const u=P(e,["updateTime"]);null!=u&&N(n,["updateTime"],u);const c=P(e,["error"]);null!=c&&N(n,["error"],c);const d=P(e,["description"]);null!=d&&N(n,["description"],d);const p=P(e,["baseModel"]);null!=p&&N(n,["baseModel"],p);const f=P(e,["tunedModel"]);null!=f&&N(n,["tunedModel"],f);const h=P(e,["preTunedModel"]);null!=h&&N(n,["preTunedModel"],h);const m=P(e,["supervisedTuningSpec"]);null!=m&&N(n,["supervisedTuningSpec"],m);const g=P(e,["preferenceOptimizationSpec"]);null!=g&&N(n,["preferenceOptimizationSpec"],g);const y=P(e,["tuningDataStats"]);null!=y&&N(n,["tuningDataStats"],y);const v=P(e,["encryptionSpec"]);null!=v&&N(n,["encryptionSpec"],v);const b=P(e,["partnerModelTuningSpec"]);null!=b&&N(n,["partnerModelTuningSpec"],b);const E=P(e,["customBaseModel"]);null!=E&&N(n,["customBaseModel"],E);const S=P(e,["experiment"]);null!=S&&N(n,["experiment"],S);const _=P(e,["labels"]);null!=_&&N(n,["labels"],_);const w=P(e,["outputUri"]);null!=w&&N(n,["outputUri"],w);const T=P(e,["pipelineJob"]);null!=T&&N(n,["pipelineJob"],T);const C=P(e,["serviceAccount"]);null!=C&&N(n,["serviceAccount"],C);const I=P(e,["tunedModelDisplayName"]);null!=I&&N(n,["tunedModelDisplayName"],I);const A=P(e,["veoTuningSpec"]);return null!=A&&N(n,["veoTuningSpec"],A),n}function bi(e,t){const n={},r=P(e,["gcsUri"]);null!=r&&N(n,["validationDatasetUri"],r);const o=P(e,["vertexDatasetResource"]);return null!=o&&N(n,["validationDatasetUri"],o),n}hi=gi,gi.GeminiNextGenAPIClient=hi,gi.GeminiNextGenAPIClientError=uo,gi.APIError=co,gi.APIConnectionError=fo,gi.APIConnectionTimeoutError=ho,gi.APIUserAbortError=po,gi.NotFoundError=vo,gi.ConflictError=bo,gi.RateLimitError=So,gi.BadRequestError=mo,gi.AuthenticationError=go,gi.InternalServerError=_o,gi.PermissionDeniedError=yo,gi.UnprocessableEntityError=Eo,gi.toFile=async function(e,t,n){if(Mo(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&Uo(e))(e=await e))return e instanceof File?e:Lo([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Lo(await Fo(r),t,n)}const r=await Fo(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return Lo(r,t,n)},gi.Interactions=Vo;class Ei extends O{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new Zn(jt.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";return void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]),{name:r,state:Ae.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return l=k("{name}",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>vi(e))}{const t=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return l=k("{name}",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>yi(e))}}async listInternal(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r);const o=P(e,["filter"]);void 0!==t&&null!=o&&N(t,["_query","filter"],o)}(n,t),t}(e);return l=k("tuningJobs",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>vi(e))),N(t,["tuningJobs"],e)}return t}(e),n=new en;return Object.assign(n,t),n})}{const t=function(e){const t={},n=P(e,["config"]);return null!=n&&function(e,t){const n=P(e,["pageSize"]);void 0!==t&&null!=n&&N(t,["_query","pageSize"],n);const r=P(e,["pageToken"]);void 0!==t&&null!=r&&N(t,["_query","pageToken"],r);const o=P(e,["filter"]);void 0!==t&&null!=o&&N(t,["_query","filter"],o)}(n,t),t}(e);return l=k("tunedModels",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["nextPageToken"]);null!=r&&N(t,["nextPageToken"],r);const o=P(e,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>yi(e))),N(t,["tuningJobs"],e)}return t}(e),n=new en;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,o;let i,l="",a={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return l=k("{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new tn;return Object.assign(n,t),n})}{const t=function(e){const t={},n=P(e,["name"]);return null!=n&&N(t,["_url","name"],n),t}(e);return l=k("{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,i=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),i.then(e=>{const t=function(e){const t={},n=P(e,["sdkHttpResponse"]);return null!=n&&N(t,["sdkHttpResponse"],n),t}(e),n=new tn;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const l=function(e,t){const n={},r=P(e,["baseModel"]);null!=r&&N(n,["baseModel"],r);const o=P(e,["preTunedModel"]);null!=o&&N(n,["preTunedModel"],o);const i=P(e,["trainingDataset"]);null!=i&&function(e,t,n){let r=P(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=P(e,["gcsUri"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===r){const n=P(e,["gcsUri"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let o=P(n,["config","method"]);if(void 0===o&&(o="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===o){const n=P(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=P(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==P(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(i,n,t);const l=P(e,["config"]);return null!=l&&function(e,t,n){let r=P(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=P(e,["validationDataset"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec"],bi(n))}else if("PREFERENCE_TUNING"===r){const n=P(e,["validationDataset"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec"],bi(n))}const o=P(e,["tunedModelDisplayName"]);void 0!==t&&null!=o&&N(t,["tunedModelDisplayName"],o);const i=P(e,["description"]);void 0!==t&&null!=i&&N(t,["description"],i);let l=P(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=P(e,["epochCount"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===l){const n=P(e,["epochCount"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let a=P(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=P(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===a){const n=P(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let s=P(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=P(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===s){const n=P(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=P(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=P(e,["adapterSize"]);void 0!==t&&null!=n&&N(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=P(e,["adapterSize"]);void 0!==t&&null!=n&&N(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==P(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==P(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=P(e,["labels"]);void 0!==t&&null!=c&&N(t,["labels"],c);const d=P(e,["beta"]);void 0!==t&&null!=d&&N(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(l,n,t),n}(e,e);return o=k("tuningJobs",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>vi(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=function(e){const t={},n=P(e,["baseModel"]);null!=n&&N(t,["baseModel"],n);const r=P(e,["preTunedModel"]);null!=r&&N(t,["preTunedModel"],r);const o=P(e,["trainingDataset"]);null!=o&&function(e){const t={};if(void 0!==P(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==P(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=P(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),N(t,["examples","examples"],e)}}(o);const i=P(e,["config"]);return null!=i&&function(e,t){if(void 0!==P(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const n=P(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=n&&N(t,["displayName"],n),void 0!==P(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const r=P(e,["epochCount"]);void 0!==t&&null!=r&&N(t,["tuningTask","hyperparameters","epochCount"],r);const o=P(e,["learningRateMultiplier"]);if(null!=o&&N({},["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==P(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==P(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==P(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const i=P(e,["batchSize"]);void 0!==t&&null!=i&&N(t,["tuningTask","hyperparameters","batchSize"],i);const l=P(e,["learningRate"]);if(void 0!==t&&null!=l&&N(t,["tuningTask","hyperparameters","learningRate"],l),void 0!==P(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==P(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(i,t),t}(e);return o=k("tunedModels",l._url),i=l._query,delete l._url,delete l._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(l),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=P(e,["sdkHttpResponse"]);null!=n&&N(t,["sdkHttpResponse"],n);const r=P(e,["name"]);null!=r&&N(t,["name"],r);const o=P(e,["metadata"]);null!=o&&N(t,["metadata"],o);const i=P(e,["done"]);null!=i&&N(t,["done"],i);const l=P(e,["error"]);return null!=l&&N(t,["error"],l),t}(e))}}}class Si{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const _i="x-goog-upload-status";async function wi(e,t,n){var r,o;let i=0,l=0,a=new Ht(new Response),s="upload";for(i=e.size;l<i;){const u=Math.min(8388608,i-l),c=e.slice(l,l+u);l+u>=i&&(s+=", finalize");let d=0,p=1e3;for(;d<3&&(a=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":s,"X-Goog-Upload-Offset":String(l),"Content-Length":String(u)}}}),!(null===(r=null==a?void 0:a.headers)||void 0===r?void 0:r[_i]));)d++,await Ti(p),p*=2;if(l+=u,"active"!==(null===(o=null==a?void 0:a.headers)||void 0===o?void 0:o[_i]))break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return a}function Ti(e){return new Promise(t=>setTimeout(t,e))}class Ci{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await wi(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[_i]))throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const o=await wi(e,t,n),i=await(null==o?void 0:o.json());if("final"!==(null===(r=null==o?void 0:o.headers)||void 0===r?void 0:r[_i]))throw new Error("Failed to upload file: Upload status is not finalized.");const l=D(i),a=new mn;return Object.assign(a,l),a}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Ii{create(e,t,n){return new Ai(e,t,n)}}class Ai{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const Oi="x-goog-api-key";class ki{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(Oi)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Oi,this.apiKey)}}}const Ni=new class{get interactions(){if(void 0!==this._interactions)return this._interactions;const e=this.httpOptions;null==e||e.extraBody;const t=new gi({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=function(e,t,n,r){var o,i;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:void 0,vertexUrl:void 0};return t?null!==(o=e.vertexUrl)&&void 0!==o?o:n:null!==(i=e.geminiUrl)&&void 0!==i?i:r}return e.baseUrl}(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new ki(this.apiKey);this.apiClient=new Fr({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new Ci,downloader:new Si}),this.models=new eo(this.apiClient),this.live=new Jr(this.apiClient,r,new Ii),this.batches=new er(this.apiClient),this.chats=new cr(this.models,this.apiClient),this.caches=new nr(this.apiClient),this.files=new fr(this.apiClient),this.operations=new to(this.apiClient),this.authTokens=new ro(this.apiClient),this.tunings=new Ei(this.apiClient),this.fileSearchStores=new io(this.apiClient)}}({apiKey:"PLACEHOLDER_API_KEY"}),Pi=({title:e,icon:t,description:n,color:r,examples:o})=>a.jsxs("div",{className:`flex flex-col h-full bg-white rounded-3xl p-8 shadow-xl border-t-8 ${r} transition-transform hover:scale-[1.02]`,children:[a.jsx("div",{className:"text-4xl mb-4 floating",children:t}),a.jsx("h3",{className:"font-fun text-2xl font-bold mb-4 text-slate-800",children:e}),a.jsx("p",{className:"text-slate-600 mb-6 leading-relaxed",children:n}),o&&a.jsxs("div",{className:"space-y-4 mt-auto",children:[a.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-slate-400",children:"Funny Comparisons"}),o.map((e,t)=>a.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-sm border border-slate-100",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500 mb-1",children:[a.jsx("i",{className:"fa-solid fa-circle-xmark"}),a.jsxs("span",{className:"italic",children:['"',e.bad,'"']})]}),a.jsxs("div",{className:"flex items-center gap-2 text-emerald-500",children:[a.jsx("i",{className:"fa-solid fa-circle-check"}),a.jsxs("span",{className:"font-bold",children:['"',e.good,'"']})]})]},t))]})]}),Ri=()=>{const[e,t]=p.useState(""),[n,r]=p.useState("Spanish (Spain)"),[o,i]=p.useState(!1),[l,s]=p.useState(null);return a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsxs("section",{className:"bg-gradient-to-b from-sky-50 to-white py-16 px-6 text-center overflow-hidden relative",children:[a.jsx("div",{className:"absolute top-10 left-10 text-sky-200/50 text-8xl -rotate-12",children:a.jsx("i",{className:"fa-solid fa-water"})}),a.jsx("div",{className:"absolute bottom-10 right-10 text-sky-200/50 text-8xl rotate-12",children:a.jsx("i",{className:"fa-solid fa-fish-fins"})}),a.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[a.jsx("span",{className:"bg-sky-100 text-sky-600 px-4 py-1 rounded-full text-sm font-bold uppercase tracking-wider mb-4 inline-block",children:"Wait, what's localization?"}),a.jsxs("h2",{className:"text-5xl md:text-6xl font-fun font-bold text-slate-900 mb-6",children:["Don't just translate.",a.jsx("br",{}),a.jsx("span",{className:"text-sky-500",children:"Live the language."})]}),a.jsx("p",{className:"text-xl text-slate-600 max-w-2xl mx-auto",children:"Localization is the secret sauce that makes your brand feel native, anywhere. From emojis to humor, we dive deep into culture!"})]})]}),a.jsx("section",{className:"max-w-7xl mx-auto px-6 py-20",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsx(Pi,{title:"The Literal Trap",icon:"",color:"border-amber-400",description:"Translation is just words. Localization is context. Using a dictionary for slang is like trying to breathe underwater without gillsit just doesn't work!",examples:[{bad:"Cool! (Literally 'Cold')",good:"Guay! (Spanish) / Bacn! (Chile)"},{bad:"Step on it! (Literally 'Pisa esto')",good:"Acelera! / Dale gas!"}]}),a.jsx(Pi,{title:"The Beluga Vibe",icon:"",color:"border-sky-500",description:"We specialize in Gaming, IT, and Marketing. We don't just 'port' your app; we make it feel like it was born in that country. No weird UI breaks or awkward puns!",examples:[{bad:"Submit (Literally 'Someter')",good:"Enviar / Guardar / Listo!"},{bad:"Game Over (Literally 'Fin')",good:"Has Mordido el Polvo! (Fun & Native)"}]}),a.jsx(Pi,{title:"Cultural Currents",icon:"",color:"border-emerald-400",description:"Dates, currencies, symbols, and even colors change their meaning! In localization, we navigate these waves so your brand never crashes against the rocks.",examples:[{bad:"MM/DD/YY (US Style)",good:"DD/MM/YY (Most of the World)"},{bad:"Thumbs up emoji (Can be offensive!)",good:"Carefully chosen local symbols"}]})]})}),a.jsx("section",{className:"bg-slate-900 py-20 px-6 text-white overflow-hidden",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"font-fun text-4xl font-bold mb-4",children:'Try the "Beluga Localizer"'}),a.jsx("p",{className:"text-slate-400",children:"See how your message transforms across the oceans."})]}),a.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 border border-white/20 shadow-2xl",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[a.jsx("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Type a phrase (e.g., 'This app is the goat!')",className:"flex-1 bg-white/5 border border-white/20 rounded-2xl px-6 py-4 text-lg focus:outline-none focus:ring-2 focus:ring-sky-500 transition-all text-white placeholder-slate-500"}),a.jsxs("select",{value:n,onChange:e=>r(e.target.value),className:"bg-slate-800 border border-white/20 rounded-2xl px-6 py-4 focus:outline-none focus:ring-2 focus:ring-sky-500 transition-all cursor-pointer",children:[a.jsx("option",{children:"Spanish (Mexico)"}),a.jsx("option",{children:"Spanish (Spain)"}),a.jsx("option",{children:"French (France)"}),a.jsx("option",{children:"French (Canada)"}),a.jsx("option",{children:"Japanese"}),a.jsx("option",{children:"Portuguese (Brazil)"}),a.jsx("option",{children:"German"})]}),a.jsxs("button",{onClick:async()=>{if(e){i(!0);try{const t=await(async(e,t)=>{const n=await Ni.models.generateContent({model:"gemini-3-flash-preview",contents:`Explain how to localize the phrase "${e}" for "${t}" culture in a fun, educational way like a marine biologist specialized in languages.`,config:{responseMimeType:"application/json",responseSchema:{type:H.OBJECT,properties:{targetCulture:{type:H.STRING},literalTranslation:{type:H.STRING},localizedVersion:{type:H.STRING},explanation:{type:H.STRING},funFact:{type:H.STRING}},required:["targetCulture","literalTranslation","localizedVersion","explanation","funFact"]},systemInstruction:"You are the Beluga Linguistics AI. Your goal is to show the difference between literal translation and true localization. Be fun, use ocean metaphors occasionally, and ensure the localized version is culturally brilliant and natural."}});return JSON.parse(n.text)})(e,n);s(t)}catch(t){alert("Oops! The Beluga encountered a coral reef. Try again!")}finally{i(!1)}}},disabled:o||!e,className:"bg-sky-500 hover:bg-sky-400 disabled:opacity-50 disabled:cursor-not-allowed text-white px-10 py-4 rounded-2xl font-bold text-lg shadow-lg flex items-center justify-center gap-3 transition-all",children:[o?a.jsx("i",{className:"fa-solid fa-spinner fa-spin"}):a.jsx("i",{className:"fa-solid fa-water"}),o?"Diving Deep...":"Localize It!"]})]}),l&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sky-400 text-sm font-bold uppercase mb-2",children:"The Literal Bore "}),a.jsxs("p",{className:"text-2xl font-light italic text-slate-300",children:['"',l.literalTranslation,'"']})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-emerald-400 text-sm font-bold uppercase mb-2",children:["The Local Vibe  (",l.targetCulture,")"]}),a.jsxs("p",{className:"text-3xl font-fun font-bold text-white",children:['"',l.localizedVersion,'"']})]})]}),a.jsxs("div",{className:"bg-white/5 rounded-2xl p-6 border border-white/10",children:[a.jsxs("h4",{className:"text-amber-400 text-sm font-bold uppercase mb-4 flex items-center gap-2",children:[a.jsx("i",{className:"fa-solid fa-lightbulb"}),' The "Whale-sdom" (Explanation)']}),a.jsx("p",{className:"text-slate-300 mb-4 leading-relaxed",children:l.explanation}),a.jsxs("div",{className:"bg-sky-500/20 text-sky-300 p-4 rounded-xl text-sm italic",children:[a.jsx("span",{className:"font-bold",children:"Fun Fact:"})," ",l.funFact]})]})]})]})]})}),a.jsx("footer",{className:"bg-white py-12 px-6 border-t border-slate-100",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-sky-500 rounded-full flex items-center justify-center text-white shadow-md",children:a.jsx("i",{className:"fa-solid fa-whale"})}),a.jsx("span",{className:"font-fun font-bold text-slate-800",children:"Beluga Linguistics"})]}),a.jsxs("div",{className:"flex gap-6 text-slate-400 text-xl",children:[a.jsx("a",{href:"#",className:"hover:text-sky-500 transition-colors",children:a.jsx("i",{className:"fa-brands fa-linkedin"})}),a.jsx("a",{href:"#",className:"hover:text-sky-500 transition-colors",children:a.jsx("i",{className:"fa-brands fa-instagram"})}),a.jsx("a",{href:"#",className:"hover:text-sky-500 transition-colors",children:a.jsx("i",{className:"fa-brands fa-twitter"})})]}),a.jsx("p",{className:"text-slate-500 text-sm",children:" 2025 Beluga Linguistics. All rights reserved. Made with  and localization."})]})})]})},xi=document.getElementById("root");if(!xi)throw new Error("Could not find root element to mount to");I.createRoot(xi).render(a.jsx(f.StrictMode,{children:a.jsx(Ri,{})}));</script></head><body><div id=root></div></body></html>